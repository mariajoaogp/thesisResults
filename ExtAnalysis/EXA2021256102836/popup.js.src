const PopupActions=e=>{const t=e.showHidePopupDialog,a=e.onClosePopup,s=e.isPreCheck,c=s?"Pre Check":"Assistant";return React.createElement("div",{className:"wot-assistant-popup__actions"},React.createElement("div",{onClick:()=>{GA(c,"Settings"),webextApi.runtime.sendMessage({name:OPEN_TAB_MESSAGE,url:OPTIONS_URL})},className:"header-icon settings-icon","data-tooltip":webextApi.i18n.getMessage("settings")}),s?React.createElement("div",{className:"pre-check-label-container"},React.createElement("div",{className:"pre-check-label"},webextApi.i18n.getMessage("preCheck"))):React.createElement("div",{onClick:t,className:"header-icon eye-icon-closed","data-tooltip":webextApi.i18n.getMessage("hideWotAssistant")}),React.createElement("div",{onClick:a,className:"header-icon close-icon","data-tooltip":webextApi.i18n.getMessage("close")}))},SafetyStats=e=>{const t=e.siteStats;return React.createElement("div",{className:"safetyStats"},React.createElement("span",{className:"wot-donut-icon wot-donut-icon-"+t.color}),React.createElement("span",{className:"wot-safe wot-safe-"+t.color},webextApi.i18n.getMessage(t.safety)))},PopupScore=e=>{const t=e.ratings,a=e.domain,s=getCleanDomain(a||window.location.host),c=t[s],n=c.confidence,o=c.rating;let i=(o/20).toFixed(1);i<0&&(i=0);const l=c.childSafety===SAFE;const r=getRatingStarsAndColor(o,n).stars;return React.createElement("div",{className:"wot-assistant-popup__score"},React.createElement("div",{className:"wot-domain"},s),React.createElement("div",{className:"wot-rating"},i),React.createElement("div",{className:"wot-stars"},r),React.createElement("div",{className:"wot-safety"},React.createElement(SafetyStats,{siteStats:c}),l?null:React.createElement("span",null,React.createElement("span",{className:"wot-separator"},"|"),React.createElement("div",{className:"wot-adult-icon"},"18+"),React.createElement("span",{className:"wot-adult-text"},webextApi.i18n.getMessage("adult")))))},PopupButtons=e=>{const t=getCleanDomain(e.domain||window.location.host),a=(t,a)=>{const s=e.isPreCheck;if(GA(s?"Pre Check":"Assistant",a),"Full_Scorecard"===a)return webextApi.runtime.sendMessage({name:OPEN_TAB_MESSAGE,url:SCORECARD_PAGE_URL+t});const c=e.user.uid;c&&e.newReviewAction(c,t),window.postMessage({type:OPEN_ADD_REVIEW},"*")};return React.createElement("div",{className:"wot-assistant-popup__buttons"},React.createElement("div",{className:"wot-button-container",onClick:()=>a(t,"Rate")},React.createElement("span",{className:"wot-footer-icon wot-icon-star"}),React.createElement("span",{className:"wot-footer-text"},webextApi.i18n.getMessage("rateThisSite"))),React.createElement("div",{className:"wot-button-container",onClick:()=>a(t,"Full_Scorecard")},React.createElement("span",{className:"wot-footer-icon wot-icon-shield"}),React.createElement("span",{className:"wot-footer-text"},webextApi.i18n.getMessage("viewFullScorecard"))))},Popup=e=>{const t=e.onClosePopup,a=e.ratings,s=e.showHidePopupDialog,c=e.domain,n=e.isPreCheck,o=e.user,i=e.newReviewAction;return React.createElement("div",null,React.createElement(PopupActions,{showHidePopupDialog:s,onClosePopup:t,isPreCheck:n}),React.createElement(PopupScore,{ratings:a,domain:c}),React.createElement(PopupButtons,{domain:c,isPreCheck:n,user:o,newReviewAction:i}))};