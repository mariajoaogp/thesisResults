const LogoContainer=()=>React.createElement("div",{className:"strip-warning-container__logo"},React.createElement("div",{className:"wot-logo"})),WarningMessage=e=>{let t=e.rating;return React.createElement("div",{className:"strip-warning-container__message"},React.createElement("span",{className:"strip-warning-message"},webextApi.i18n.getMessage(t<=MAX_RED_STRIP_RATING?"warning":"careful")),React.createElement("span",{className:"strip-warning-text"},webextApi.i18n.getMessage(t<=MAX_RED_STRIP_RATING?"trustIssues":"poorRating")))},ViewFullReport=e=>{let t=e.host,n=e.rating;return React.createElement("a",{className:"strip-warning-container__button",href:FULL_REPORT_URL+t+(n<=MAX_RED_STRIP_RATING?RED_RIBBON_REDIRECT_PARAMETERS:YELLOW_RIBBON_REDIRECT_PARAMETERS),target:"_blank",rel:"noreferrer"},webextApi.i18n.getMessage("viewFullReport"))},DontShowAgain=()=>React.createElement("div",{className:"strip-warning-container__not-show"},webextApi.i18n.getMessage("dontShowOnThisSite"));class WarningStrip extends React.Component{componentDidMount(){const e=e=>document.getElementsByClassName(e)[0];setTimeout(()=>{const t=e("wot-logo"),n=e("strip-warning-container__close"),a=e("strip-warning-container__button"),s=e("strip-warning-container__not-show");t&&t.addEventListener("click",()=>{this.onLogoClick.call(this)}),n&&n.addEventListener("click",()=>{this.close.call(this)}),a&&a.addEventListener("click",()=>{this.onFullScorecardClick.call(this)}),s&&s.addEventListener("click",()=>{this.dontWarnMe.call(this)})},0)}onFullScorecardClick(){this.sendEvent("Strip View Full Report")}onLogoClick(){this.sendEvent("Strip WOT Logo"),webextApi.runtime.sendMessage({name:OPEN_TAB_MESSAGE,url:MAIN_PAGE_URL+(this.props.rating<=MAX_RED_STRIP_RATING?RED_RIBBON_REDIRECT_PARAMETERS:YELLOW_RIBBON_REDIRECT_PARAMETERS)})}sendEvent(e){const t=validateDomain(this.props.host);t&&GA("WarningScreen",`${this.props.color} ${e}`,t)}close(){this.sendEvent("Strip Close"),this.props.dispatch(addToTemplist(this.props.host)),document.getElementById(WARNING_CONTAINER_SELECTOR).className="",document.getElementById(WARNING_CONTAINER_SELECTOR).remove()}dontWarnMe(){this.sendEvent("Strip Don't Warn"),this.props.dispatch(addToWhitelist(this.props.host)),document.getElementById(WARNING_CONTAINER_SELECTOR).className="",document.getElementById(WARNING_CONTAINER_SELECTOR).remove()}render(){var e=this.props;const t=e.rating,n=e.host;return React.createElement("div",{className:"strip-warning-container"},React.createElement(LogoContainer,null),React.createElement(WarningMessage,{rating:t}),React.createElement(ViewFullReport,{host:n,rating:t}),React.createElement(DontShowAgain,null),React.createElement("div",{className:"strip-warning-container__close"}))}}