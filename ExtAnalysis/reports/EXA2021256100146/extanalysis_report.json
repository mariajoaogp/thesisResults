{
    "author": "Give as you Live Ltd",
    "base64_strings": [
        {
            "file": "background.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9DSFJPTUU6MnZMTG4qSkpyX3ZEOT1hKg=="
        },
        {
            "file": "background.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9GSVJFRk9YOnRBM3lOWEJQWmR1YyVHTG0="
        },
        {
            "file": "background.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9FREdFOmZ2Qmg4VHdMUDRHelNTQFI="
        },
        {
            "file": "background.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9TQUZBUkk6LTZyRHZBJGREeHFHOW45Pw=="
        },
        {
            "file": "background.bundle.js",
            "string": "uplicateQueryParameters="
        },
        {
            "file": "background.bundle.js",
            "string": "efaultPorts="
        },
        {
            "file": "background.bundle.js",
            "string": "stProtocols="
        },
        {
            "file": "background.bundle.js",
            "string": "mAttributes="
        },
        {
            "file": "background.bundle.js",
            "string": "rseUserinfo="
        },
        {
            "file": "background.bundle.js",
            "string": "ildUserinfo="
        },
        {
            "file": "background.bundle.js",
            "string": "ithinString="
        },
        {
            "file": "background.bundle.js",
            "string": "ondLevelDomains="
        },
        {
            "file": "background.bundle.js",
            "string": "cludeFavourites="
        },
        {
            "file": "background.bundle.js",
            "string": "dingProcess="
        },
        {
            "file": "background.bundle.js",
            "string": "discoverAllTabs="
        },
        {
            "file": "background.bundle.js",
            "string": "rrentStatus="
        },
        {
            "file": "background.bundle.js",
            "string": "currentUrls="
        },
        {
            "file": "background.bundle.js",
            "string": "DirectClick="
        },
        {
            "file": "background.bundle.js",
            "string": "xpiryTimeMs="
        },
        {
            "file": "searchEngineContent.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9DSFJPTUU6MnZMTG4qSkpyX3ZEOT1hKg=="
        },
        {
            "file": "searchEngineContent.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9GSVJFRk9YOnRBM3lOWEJQWmR1YyVHTG0="
        },
        {
            "file": "searchEngineContent.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9FREdFOmZ2Qmg4VHdMUDRHelNTQFI="
        },
        {
            "file": "searchEngineContent.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9TQUZBUkk6LTZyRHZBJGREeHFHOW45Pw=="
        },
        {
            "file": "popup.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9DSFJPTUU6MnZMTG4qSkpyX3ZEOT1hKg=="
        },
        {
            "file": "popup.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9GSVJFRk9YOnRBM3lOWEJQWmR1YyVHTG0="
        },
        {
            "file": "popup.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9FREdFOmZ2Qmg4VHdMUDRHelNTQFI="
        },
        {
            "file": "popup.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9TQUZBUkk6LTZyRHZBJGREeHFHOW45Pw=="
        },
        {
            "file": "popup.bundle.js",
            "string": "uplicateQueryParameters="
        },
        {
            "file": "popup.bundle.js",
            "string": "efaultPorts="
        },
        {
            "file": "popup.bundle.js",
            "string": "stProtocols="
        },
        {
            "file": "popup.bundle.js",
            "string": "mAttributes="
        },
        {
            "file": "popup.bundle.js",
            "string": "rseUserinfo="
        },
        {
            "file": "popup.bundle.js",
            "string": "ildUserinfo="
        },
        {
            "file": "popup.bundle.js",
            "string": "ithinString="
        },
        {
            "file": "popup.bundle.js",
            "string": "ondLevelDomains="
        },
        {
            "file": "popup.bundle.js",
            "string": "cludeFavourites="
        },
        {
            "file": "popup.bundle.js",
            "string": "dingProcess="
        },
        {
            "file": "popup.bundle.js",
            "string": "discoverAllTabs="
        },
        {
            "file": "popup.bundle.js",
            "string": "rrentStatus="
        },
        {
            "file": "popup.bundle.js",
            "string": "currentUrls="
        },
        {
            "file": "popup.bundle.js",
            "string": "DirectClick="
        },
        {
            "file": "popup.bundle.js",
            "string": "xpiryTimeMs="
        },
        {
            "file": "popup.bundle.js",
            "string": "onSelectTabCallback="
        },
        {
            "file": "popup.bundle.js",
            "string": "nLogoutCallback="
        },
        {
            "file": "retailerContent.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9DSFJPTUU6MnZMTG4qSkpyX3ZEOT1hKg=="
        },
        {
            "file": "retailerContent.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9GSVJFRk9YOnRBM3lOWEJQWmR1YyVHTG0="
        },
        {
            "file": "retailerContent.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9FREdFOmZ2Qmg4VHdMUDRHelNTQFI="
        },
        {
            "file": "retailerContent.bundle.js",
            "string": "R0FZTF9CUk9XU0VSX0VYVF9TQUZBUkk6LTZyRHZBJGREeHFHOW45Pw=="
        }
    ],
    "bitcoin_addresses": [],
    "comments": [
        {
            "comment": "www.w3.org/2000/svg&quot;,e);return t?(o(t)?t.forEach(function(e){e&amp;&amp;r.classList.add(e)}):r.classList.add(className),r):r},whenDocumentReady:function(e){&quot;loading&quot;!==document.readyState?e():document.addEventListener(&quot;DOMContentLoaded&quot;,function(){e()})}}},function(e,t,r){const n=r(7);e.exports=Object.assign({...n},{apiBase:&quot;https://www.giveasyoulive.com/api/v1/&quot;,apiBaseV2:&quot;https://www.giveasyoulive.com/api/v2/&quot;,env:&quot;production&quot;,gaylDomain:&quot;giveasyoulive.com&quot;,gaylUrl:&quot;https://www.giveasyoulive.com&quot;})},function(e,t){var r;&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.runtime&amp;&amp;(r=chrome.runtime),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.runtime&amp;&amp;(r=browser.runtime),r||(r={getManifest:function(){return{version:safari.extension.displayVersion}},getURL:function(e){return e},lastError:void 0,onInstalled:{addListener:function(e){if(console.log(&quot;runtime.onInstalled(&quot;+safari.extension.displayVersion+&quot; -&gt; &quot;+safari.extension.settings.installedVersion+&quot;)&quot;),!safari.extension.settings.installedVersion)return safari.extension.settings.installedVersion=safari.extension.displayVersion,void e({reason:&quot;install&quot;});e({reason:&quot;update&quot;,previousVersion:safari.extension.settings.installedVersion}),safari.extension.settings.installedVersion=safari.extension.displayVersion}},onMessage:{addListener:function(e){safari.application?safari.application.addEventListener(&quot;message&quot;,function(t){console.log(&quot;safari.application event&quot;,t);var r={subject:t.name,payload:t.message};e(r,{id:&quot;synthetic&quot;},function(){})}):safari.self.addEventListener(&quot;message&quot;,function(t){console.log(&quot;safari.self event&quot;,t);var r={subject:t.name,payload:t.message};e(r,{id:&quot;synthetic&quot;},function(){})})}},sendMessage:function(e,t){safari.self.tab.dispatchMessage(e.subject,e.payload)},setUninstallURL(e){}}),e.exports=r},function(e,t){e.exports={POPUP_LOADING_ACCOUNT_OPTIONS:&quot;Loading account...&quot;,POPUP_LOADING_CAUSE_INFO:&quot;Loading cause...&quot;,POPUP_LOADING_FAVOURITES:&quot;Loading favourites...&quot;,POPUP_LOADING_GLOBAL:&quot;Loading...please wait.&quot;,POPUP_LOADING_SIMILAR_STORES:&quot;Loading similar stores...&quot;,POPUP_LOADING_POPULAR_STORES:&quot;Loading popular stores...&quot;,POPUP_LOADING_STORE_SEARCH:&quot;Searching...&quot;,POPUP_NO_FAVOURITES:&quot;No favourite stores yet. Why not try adding some?&quot;,POPUP_NO_SIMILAR_STORES:&quot;No similar stores were found for this retailer.&quot;,POPUP_NO_SEARCH_RESULTS:&quot;No results found for $$query$$.&quot;,ERROR_TIMEOUT_POPUP:&quot;An error occured, please close, and re-open this popup. If the problem persists, please let us know @ help@everyclick.com&quot;,ERROR_ACCOUNT_OPTION_LOAD:&quot;Failed to load, please re-open to try again.&quot;,STORE_CONFIRMATION_DIALOG_QUESTION:&quot;Would you like your purchase to raise a donation for $$causeName$$?&quot;,STORE_CONFIRMATION_DIALOG_EARN_NEW_CUSTOMERS:&quot;Earn up to $$maxStoreRate$$ with $$storeName$$ if you&#39;re a new customer&quot;,STORE_CONFIRMATION_DIALOG_EARN:&quot;Earn up to $$maxStoreRate$$ with $$storeName$$&quot;,STORE_CONFIRMATION_DIALOG_YES:&quot;Raise a donation&quot;,STORE_THANK_YOU_OK:&quot;OK, got it&quot;,STORE_THANK_YOU_INTRO:&quot;Thank you.&quot;,STORE_THANK_YOU_BODY_NEW_CUSTOMERS:&quot;If you&#39;re a new customer, purchases can raise up to $$maxStoreRate$$ of your total purchase for $$causeName$$.&quot;,STORE_THANK_YOU_BODY:&quot;Purchases can raise up to $$maxStoreRate$$ of your total purchase for $$causeName$$.&quot;,SERP_BUTTON_TEXT:&quot;Shop &amp; raise up to $$maxStoreRate$$ &gt;&quot;,SERP_LINK_TEXT:&quot;Donates up to $$maxStoreRate$$&quot;,API_ERROR_MESSAGES:{InvalidCredentials:&quot;Invalid email or password.&quot;},REQUEST_ERROR_MESSAGES:{0:&quot;The request timed out, please try again.&quot;},GENERIC_ERROR_MESSAGE:&quot;An error occurred.&quot;}},function(e,t){e.exports=function(e){var t=e||navigator.userAgent;return/edg([ea]|ios)/i.test(t)?&quot;Edge&quot;:/chrome|crios|crmo/i.test(t)?&quot;Chrome&quot;:/safari|applewebkit/i.test(t)?&quot;Safari&quot;:/firefox|iceweasel|fxios/i.test(t)?&quot;Firefox&quot;:null}},function(e,t,r){var n,o=r(2);&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.tabs&amp;&amp;(n=chrome.tabs),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.tabs&amp;&amp;(n=browser.tabs),n||(n={query:function(e,t){safari.application.activeBrowserWindow?(safari.application.activeBrowserWindow.tabs.forEach(function(e){e.id=e,e.windowId=safari.application.activeBrowserWindow,e.active=e.browserWindow.activeTab===e}),t(safari.application.activeBrowserWindow.tabs)):t([])},get:function(e,t){return safari.application.browserWindows.forEach(function(t){t.tabs.forEach(function(t){t===e&amp;&amp;(targetTab=t)})}),targetTab||console.warn(&quot;No target tab was found.&quot;),targetTab},update:function(e,t){e.url=t.url},onCreated:{addListener:function(e){safari.application.addEventListener(&quot;open&quot;,function(t){t.target instanceof SafariBrowserTab&amp;&amp;e(t.target)},!0)}},onRemoved:{addListener:function(e){safari.application.addEventListener(&quot;close&quot;,function(t){t.target instanceof SafariBrowserTab&amp;&amp;e(t.target,{})},!0)}},onActivated:{addListener:function(e){safari.application.addEventListener(&quot;activate&quot;,function(t){t.target instanceof SafariBrowserWindow&amp;&amp;e({tabId:t.target.activeTab}),t.target instanceof SafariBrowserTab&amp;&amp;e({tabId:t.target})},!0)}},sendMessage:function(e,t){var r;safari.application.browserWindows.forEach(function(t){t.tabs.forEach(function(t){t===e&amp;&amp;(r=t)})}),r?(console.log(&quot;Sending message to tab with URL: &quot;+r.url),r.page.dispatchMessage(t.subject,t.payload)):console.log(&quot;Couldn&#39;t find a suitable target to send the event to.&quot;)}});var i=n.query,s=n.get;n.customQuery=function(e){return new Promise(function(t,r){i(e,function(e){t(e)})})},n.customGet=function(e){return new Promise(function(t,r){s(e,function(){o.lastError?r():t(e)})})},e.exports=n},function(e,t){var r={RETAILER_CONFIRMATION:&quot;RETAILER_CONFIRMATION&quot;,RETAILER_THANKYOU:&quot;RETAILER_THANKYOU&quot;,HIDE_CONFIRMATION:&quot;HIDE_CONFIRMATION&quot;,REMOVE_ALL:&quot;REMOVE_ALL&quot;,GET_SERP_RULES_RESPONSE:&quot;GET_SERP_RULES_RESPONSE&quot;,CHECK_SERP_URLS_RESPONSE:&quot;CHECK_SERP_URLS_RESPONSE&quot;,RETAILER_CONFIRM:&quot;RETAILER_CONFIRM&quot;,RETAILER_REJECT:&quot;RETAILER_REJECT&quot;,GET_SERP_RULES:&quot;GET_SERP_RULES&quot;,CHECK_SERP_URLS:&quot;CHECK_SERP_URLS&quot;};function n(e,t){t=t||{};this.isValidSubject(e)&amp;&amp;(this.subject=e),this.payload=t}n.prototype.isValidSubject=function(e){if(!r[e])throw new Error(&quot;Unknown message subject: &quot;+e);return!0},e.exports={Message:n,MessageSubject:r}},function(e,t,r){var n=r(4),o=r(2),i={Chrome:&quot;R0FZTF9CUk9XU0VSX0VYVF9DSFJPTUU6MnZMTG4qSkpyX3ZEOT1hKg==&quot;,Firefox:&quot;R0FZTF9CUk9XU0VSX0VYVF9GSVJFRk9YOnRBM3lOWEJQWmR1YyVHTG0=&quot;,Edge:&quot;R0FZTF9CUk9XU0VSX0VYVF9FREdFOmZ2Qmg4VHdMUDRHelNTQFI=&quot;,Safari:&quot;R0FZTF9CUk9XU0VSX0VYVF9TQUZBUkk6LTZyRHZBJGREeHFHOW45Pw==&quot;};e.exports={apiAuthHeader:function(){var e=n(),t=i[e];if(!t)throw new Error(&quot;Cannot find auth header for &quot;+e);return&quot;Basic &quot;+t},extensionId:function(){return&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.runtime?chrome.runtime.id:&quot;undefined&quot;!=typeof safari?&quot;synthetic&quot;:browser.runtime.id},ignoredSchemes:[&quot;about&quot;,&quot;file&quot;,&quot;chrome&quot;,&quot;chrome-extension&quot;,&quot;wyciwyg&quot;],ignoredUrls:&quot;(?:shareasale.com|paypal.(?:co.uk|com)|successfultogether.co.uk|tradedoubler.com|clkuk.pvnsolutions.com|paidonresults.net|linksynergy.com|doubleclick.net|affiliatefuture.com|omguk.com|healthtrader.com|digitalriver.com|veinteractive.com|track.webgains.com)&quot;,permissionsUrl:&quot;https://help.giveasyoulive.com/hc/en-us/articles/360017448352-New-Chrome-update-Donation-Reminder&quot;,processingDelayMs:1e3,requestTimeoutMs:7e3,sentryDsn:&quot;https://7a19d517524a4954bb10e4bc21e4a4a9@sentry.io/1270266&quot;,thankYouDialogVisibleMs:7e3,uninstallUrl:&quot;https://r1.dotmailer-surveys.com/7e21zb6c-623a1ufe&quot;,version:function(){return o.getManifest().version}}},function(e,t,r){var n=r(5),o=r(13);e.exports=function(e){var t=e.closePopup||!1,r=e.tabId||null,i=e.url||null;i&amp;&amp;r||console.error(&quot;No URL or tabId found.&quot;),console.log(&quot;visitUrl(&quot;+r+&quot;, &quot;+i+&quot;)&quot;),n.update(r,{url:i}),t&amp;&amp;o()}},function(e,t,r){var n=r(17).local,o=r(2).lastError,i={get:function(e){return new Promise(function(t,r){n.get(e,function(e){o||!e?r(o):t(e)})})},getAll:function(){return this.get(null)},getOrElse:function(e,t){var r=this;return new Promise(function(n,o){r.get([e]).then(function(i){if(!i[e])return t().then(function(t){r.setSingle(e,t).then(function(t){n(t[e])})}).catch(function(e){o(e)});n(i[e])})})},set:function(e){return new Promise(function(t,r){n.set(e,function(){o?r(o):t(e)})})},setSingle:function(e,t){var r={};return r[e]=t,this.set(r)},remove:function(e){return new Promise(function(t,r){n.remove(e,function(){o?r(o):t()})})},clear:function(){return new Promise(function(e,t){n.clear(function(){o?t(o):e()})})}};e.exports=i},function(e,t,r){var n,o,i;",
            "file": "background.bundle.js"
        },
        {
            "comment": "medialize.github.io/URI.js/",
            "file": "background.bundle.js"
        },
        {
            "comment": "www.opensource.org/licenses/mit-license",
            "file": "background.bundle.js"
        },
        {
            "comment": "&quot;===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(r=e.indexOf(&quot;:&quot;))&gt;-1&amp;&amp;(t.protocol=e.substring(0,r)||null,t.protocol&amp;&amp;!t.protocol.match(i.protocol_expression)?t.protocol=void 0:&quot;//&quot;===e.substring(r+1,r+3)?(e=e.substring(r+3),e=i.parseAuthority(e,t)):(e=e.substring(r+1),t.urn=!0)),t.path=e,t},i.parseHost=function(e,t){e||(e=&quot;&quot;);var r,n,o=(e=e.replace(/\\\\/g,&quot;/&quot;)).indexOf(&quot;/&quot;);if(-1===o&amp;&amp;(o=e.length),&quot;[&quot;===e.charAt(0))r=e.indexOf(&quot;]&quot;),t.hostname=e.substring(1,r)||null,t.port=e.substring(r+2,o)||null,&quot;/&quot;===t.port&amp;&amp;(t.port=null);else{var s=e.indexOf(&quot;:&quot;),a=e.indexOf(&quot;/&quot;),u=e.indexOf(&quot;:&quot;,s+1);-1!==u&amp;&amp;(-1===a||u&lt;a)?(t.hostname=e.substring(0,o)||null,t.port=null):(n=e.substring(0,o).split(&quot;:&quot;),t.hostname=n[0]||null,t.port=n[1]||null)}return t.hostname&amp;&amp;&quot;/&quot;!==e.substring(o).charAt(0)&amp;&amp;(o++,e=&quot;/&quot;+e),t.preventInvalidHostname&amp;&amp;i.ensureValidHostname(t.hostname,t.protocol),t.port&amp;&amp;i.ensureValidPort(t.port),e.substring(o)||&quot;/&quot;},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var r,n=e.indexOf(&quot;/&quot;),o=e.lastIndexOf(&quot;@&quot;,n&gt;-1?n:e.length-1);return o&gt;-1&amp;&amp;(-1===n||o&lt;n)?(r=e.substring(0,o).split(&quot;:&quot;),t.username=r[0]?i.decode(r[0]):null,r.shift(),t.password=r[0]?i.decode(r.join(&quot;:&quot;)):null,e=e.substring(o+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&amp;+/g,&quot;&amp;&quot;).replace(/^\\?*&amp;*|&amp;+$/g,&quot;&quot;)))return{};for(var r,n,o,s={},u=e.split(&quot;&amp;&quot;),c=u.length,l=0;l&lt;c;l++)r=u[l].split(&quot;=&quot;),n=i.decodeQuery(r.shift(),t),o=r.length?i.decodeQuery(r.join(&quot;=&quot;),t):null,a.call(s,n)?(&quot;string&quot;!=typeof s[n]&amp;&amp;null!==s[n]||(s[n]=[s[n]]),s[n].push(o)):s[n]=o;return s},i.build=function(e){var t=&quot;&quot;;return e.protocol&amp;&amp;(t+=e.protocol+&quot;:&quot;),e.urn||!t&amp;&amp;!e.hostname||(t+=&quot;//&quot;),t+=i.buildAuthority(e)||&quot;&quot;,&quot;string&quot;==typeof e.path&amp;&amp;(&quot;/&quot;!==e.path.charAt(0)&amp;&amp;&quot;string&quot;==typeof e.hostname&amp;&amp;(t+=&quot;/&quot;),t+=e.path),&quot;string&quot;==typeof e.query&amp;&amp;e.query&amp;&amp;(t+=&quot;?&quot;+e.query),&quot;string&quot;==typeof e.fragment&amp;&amp;e.fragment&amp;&amp;(t+=&quot;#&quot;+e.fragment),t},i.buildHost=function(e){var t=&quot;&quot;;return e.hostname?(i.ip6_expression.test(e.hostname)?t+=&quot;[&quot;+e.hostname+&quot;]&quot;:t+=e.hostname,e.port&amp;&amp;(t+=&quot;:&quot;+e.port),t):&quot;&quot;},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t=&quot;&quot;;return e.username&amp;&amp;(t+=i.encode(e.username)),e.password&amp;&amp;(t+=&quot;:&quot;+i.encode(e.password)),t&amp;&amp;(t+=&quot;@&quot;),t},i.buildQuery=function(e,t,r){var n,o,s,u,c=&quot;&quot;;for(o in e)if(a.call(e,o)&amp;&amp;o)if(l(e[o]))for(n={},s=0,u=e[o].length;s&lt;u;s++)void 0!==e[o][s]&amp;&amp;void 0===n[e[o][s]+&quot;&quot;]&amp;&amp;(c+=&quot;&amp;&quot;+i.buildQueryParameter(o,e[o][s],r),!0!==t&amp;&amp;(n[e[o][s]+&quot;&quot;]=!0));else void 0!==e[o]&amp;&amp;(c+=&quot;&amp;&quot;+i.buildQueryParameter(o,e[o],r));return c.substring(1)},i.buildQueryParameter=function(e,t,r){return i.encodeQuery(e,r)+(null!==t?&quot;=&quot;+i.encodeQuery(t,r):&quot;&quot;)},i.addQuery=function(e,t,r){if(&quot;object&quot;==typeof t)for(var n in t)a.call(t,n)&amp;&amp;i.addQuery(e,n,t[n]);else{if(&quot;string&quot;!=typeof t)throw new TypeError(&quot;URI.addQuery() accepts an object, string as the name parameter&quot;);if(void 0===e[t])return void(e[t]=r);&quot;string&quot;==typeof e[t]&amp;&amp;(e[t]=[e[t]]),l(r)||(r=[r]),e[t]=(e[t]||[]).concat(r)}},i.setQuery=function(e,t,r){if(&quot;object&quot;==typeof t)for(var n in t)a.call(t,n)&amp;&amp;i.setQuery(e,n,t[n]);else{if(&quot;string&quot;!=typeof t)throw new TypeError(&quot;URI.setQuery() accepts an object, string as the name parameter&quot;);e[t]=void 0===r?null:r}},i.removeQuery=function(e,t,r){var n,o,s;if(l(t))for(n=0,o=t.length;n&lt;o;n++)e[t[n]]=void 0;else if(&quot;RegExp&quot;===c(t))for(s in e)t.test(s)&amp;&amp;(e[s]=void 0);else if(&quot;object&quot;==typeof t)for(s in t)a.call(t,s)&amp;&amp;i.removeQuery(e,s,t[s]);else{if(&quot;string&quot;!=typeof t)throw new TypeError(&quot;URI.removeQuery() accepts an object, string, RegExp as the first parameter&quot;);void 0!==r?&quot;RegExp&quot;===c(r)?!l(e[t])&amp;&amp;r.test(e[t])?e[t]=void 0:e[t]=d(e[t],r):e[t]!==String(r)||l(r)&amp;&amp;1!==r.length?l(e[t])&amp;&amp;(e[t]=d(e[t],r)):e[t]=void 0:e[t]=void 0}},i.hasQuery=function(e,t,r,n){switch(c(t)){case&quot;String&quot;:break;case&quot;RegExp&quot;:for(var o in e)if(a.call(e,o)&amp;&amp;t.test(o)&amp;&amp;(void 0===r||i.hasQuery(e,o,r)))return!0;return!1;case&quot;Object&quot;:for(var s in t)if(a.call(t,s)&amp;&amp;!i.hasQuery(e,s,t[s]))return!1;return!0;default:throw new TypeError(&quot;URI.hasQuery() accepts a string, regular expression or object as the name parameter&quot;)}switch(c(r)){case&quot;Undefined&quot;:return t in e;case&quot;Boolean&quot;:return r===Boolean(l(e[t])?e[t].length:e[t]);case&quot;Function&quot;:return!!r(e[t],t,e);case&quot;Array&quot;:return!!l(e[t])&amp;&amp;(n?h:p)(e[t],r);case&quot;RegExp&quot;:return l(e[t])?!!n&amp;&amp;h(e[t],r):Boolean(e[t]&amp;&amp;e[t].match(r));case&quot;Number&quot;:r=String(r);case&quot;String&quot;:return l(e[t])?!!n&amp;&amp;h(e[t],r):e[t]===r;default:throw new TypeError(&quot;URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter&quot;)}},i.joinPaths=function(){for(var e=[],t=[],r=0,n=0;n&lt;arguments.length;n++){var o=new i(arguments[n]);e.push(o);for(var s=o.segment(),a=0;a&lt;s.length;a++)&quot;string&quot;==typeof s[a]&amp;&amp;t.push(s[a]),s[a]&amp;&amp;r++}if(!t.length||!r)return new i(&quot;&quot;);var u=new i(&quot;&quot;).segment(t);return&quot;&quot;!==e[0].path()&amp;&amp;&quot;/&quot;!==e[0].path().slice(0,1)||u.path(&quot;/&quot;+u.path()),u.normalize()},i.commonPath=function(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r&lt;n;r++)if(e.charAt(r)!==t.charAt(r)){r--;break}return r&lt;1?e.charAt(0)===t.charAt(0)&amp;&amp;&quot;/&quot;===e.charAt(0)?&quot;/&quot;:&quot;&quot;:(&quot;/&quot;===e.charAt(r)&amp;&amp;&quot;/&quot;===t.charAt(r)||(r=e.substring(0,r).lastIndexOf(&quot;/&quot;)),e.substring(0,r+1))},i.withinString=function(e,t,r){r||(r={});var n=r.start||i.findUri.start,o=r.end||i.findUri.end,s=r.trim||i.findUri.trim,a=r.parens||i.findUri.parens,u=/[a-z0-9-]=[&quot;&#39;]?$/i;for(n.lastIndex=0;;){var c=n.exec(e);if(!c)break;var l=c.index;if(r.ignoreHtml){var d=e.slice(Math.max(l-3,0),l);if(d&amp;&amp;u.test(d))continue}for(var h=l+e.slice(l).search(o),p=e.slice(l,h),f=-1;;){var g=a.exec(p);if(!g)break;var m=g.index+g[0].length;f=Math.max(f,m)}if(!((p=f&gt;-1?p.slice(0,f)+p.slice(f).replace(s,&quot;&quot;):p.replace(s,&quot;&quot;)).length&lt;=c[0].length||r.ignore&amp;&amp;r.ignore.test(p))){var v=t(p,l,h=l+p.length,e);void 0!==v?(v=String(v),e=e.slice(0,l)+v+e.slice(h),n.lastIndex=l+v.length):n.lastIndex=h}}return n.lastIndex=0,e},i.ensureValidHostname=function(t,r){var n=!!t,o=!1;if(!!r&amp;&amp;(o=h(i.hostProtocols,r)),o&amp;&amp;!n)throw new TypeError(&quot;Hostname cannot be empty, if protocol is &quot;+r);if(t&amp;&amp;t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError(&#39;Hostname &quot;&#39;+t+&#39;&quot; contains characters other than [A-Z0-9.-:_] and Punycode.js is not available&#39;);if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError(&#39;Hostname &quot;&#39;+t+&#39;&quot; contains characters other than [A-Z0-9.-:_]&#39;)}},i.ensureValidPort=function(e){if(e){var t=Number(e);if(!(function(e){return/^[0-9]+$/.test(e)}(t)&amp;&amp;t&gt;0&amp;&amp;t&lt;65536))throw new TypeError(&#39;Port &quot;&#39;+e+&#39;&quot; is not a valid port&#39;)}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return n.URITemplate&amp;&amp;&quot;function&quot;==typeof n.URITemplate.noConflict&amp;&amp;(t.URITemplate=n.URITemplate.noConflict()),n.IPv6&amp;&amp;&quot;function&quot;==typeof n.IPv6.noConflict&amp;&amp;(t.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&amp;&amp;&quot;function&quot;==typeof n.SecondLevelDomains.noConflict&amp;&amp;(t.SecondLevelDomains=n.SecondLevelDomains.noConflict()),t}return n.URI===this&amp;&amp;(n.URI=o),this},s.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&amp;&amp;(this._string=i.build(this._parts),this._deferred_build=!1),this},s.clone=function(){return new i(this)},s.valueOf=s.toString=function(){return this.build(!1)._string},s.protocol=_(&quot;protocol&quot;),s.username=_(&quot;username&quot;),s.password=_(&quot;password&quot;),s.hostname=_(&quot;hostname&quot;),s.port=_(&quot;port&quot;),s.query=S(&quot;query&quot;,&quot;?&quot;),s.fragment=S(&quot;fragment&quot;,&quot;#&quot;),s.search=function(e,t){var r=this.query(e,t);return&quot;string&quot;==typeof r&amp;&amp;r.length?&quot;?&quot;+r:r},s.hash=function(e,t){var r=this.fragment(e,t);return&quot;string&quot;==typeof r&amp;&amp;r.length?&quot;#&quot;+r:r},s.pathname=function(e,t){if(void 0===e||!0===e){var r=this._parts.path||(this._parts.hostname?&quot;/&quot;:&quot;&quot;);return e?(this._parts.urn?i.decodeUrnPath:i.decodePath)(r):r}return this._parts.urn?this._parts.path=e?i.recodeUrnPath(e):&quot;&quot;:this._parts.path=e?i.recodePath(e):&quot;/&quot;,this.build(!t),this},s.path=s.pathname,s.href=function(e,t){var r;if(void 0===e)return this.toString();this._string=&quot;&quot;,this._parts=i._parts();var n=e instanceof i,o=&quot;object&quot;==typeof e&amp;&amp;(e.hostname||e.path||e.pathname);e.nodeName&amp;&amp;(e=e[i.getDomAttribute(e)]||&quot;&quot;,o=!1);if(!n&amp;&amp;o&amp;&amp;void 0!==e.pathname&amp;&amp;(e=e.toString()),&quot;string&quot;==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!n&amp;&amp;!o)throw new TypeError(&quot;invalid input&quot;);var s=n?e._parts:e;for(r in s)&quot;query&quot;!==r&amp;&amp;a.call(this._parts,r)&amp;&amp;(this._parts[r]=s[r]);s.query&amp;&amp;this.query(s.query,!1)}return this.build(!t),this},s.is=function(e){var t=!1,n=!1,o=!1,s=!1,a=!1,u=!1,c=!1,l=!this._parts.urn;switch(this._parts.hostname&amp;&amp;(l=!1,n=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),a=(s=!(t=n||o))&amp;&amp;r&amp;&amp;r.has(this._parts.hostname),u=s&amp;&amp;i.idn_expression.test(this._parts.hostname),c=s&amp;&amp;i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case&quot;relative&quot;:return l;case&quot;absolute&quot;:return!l;case&quot;domain&quot;:case&quot;name&quot;:return s;case&quot;sld&quot;:return a;case&quot;ip&quot;:return t;case&quot;ip4&quot;:case&quot;ipv4&quot;:case&quot;inet4&quot;:return n;case&quot;ip6&quot;:case&quot;ipv6&quot;:case&quot;inet6&quot;:return o;case&quot;idn&quot;:return u;case&quot;url&quot;:return!this._parts.urn;case&quot;urn&quot;:return!!this._parts.urn;case&quot;punycode&quot;:return c}return null};var E=s.protocol,R=s.port,T=s.hostname;s.protocol=function(e,t){if(e&amp;&amp;!(e=e.replace(/:(\\/\\/)?$/,&quot;&quot;)).match(i.protocol_expression))throw new TypeError(&#39;Protocol &quot;&#39;+e+&quot;\\&quot; contains characters other than [A-Z0-9.+-] or doesn&#39;t start with [A-Z]&quot;);return E.call(this,e,t)},s.scheme=s.protocol,s.port=function(e,t){return this._parts.urn?void 0===e?&quot;&quot;:this:(void 0!==e&amp;&amp;(0===e&amp;&amp;(e=null),e&amp;&amp;(&quot;:&quot;===(e+=&quot;&quot;).charAt(0)&amp;&amp;(e=e.substring(1)),i.ensureValidPort(e))),R.call(this,e,t))},s.hostname=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0!==e){var r={preventInvalidHostname:this._parts.preventInvalidHostname};if(&quot;/&quot;!==i.parseHost(e,r))throw new TypeError(&#39;Hostname &quot;&#39;+e+&#39;&quot; contains characters other than [A-Z0-9.-]&#39;);e=r.hostname,this._parts.preventInvalidHostname&amp;&amp;i.ensureValidHostname(e,this._parts.protocol)}return T.call(this,e,t)},s.origin=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e){var r=this.protocol();return this.authority()?(r?r+&quot;://&quot;:&quot;&quot;)+this.authority():&quot;&quot;}var n=i(e);return this.protocol(n.protocol()).authority(n.authority()).build(!t),this},s.host=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e)return this._parts.hostname?i.buildHost(this._parts):&quot;&quot;;if(&quot;/&quot;!==i.parseHost(e,this._parts))throw new TypeError(&#39;Hostname &quot;&#39;+e+&#39;&quot; contains characters other than [A-Z0-9.-]&#39;);return this.build(!t),this},s.authority=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e)return this._parts.hostname?i.buildAuthority(this._parts):&quot;&quot;;if(&quot;/&quot;!==i.parseAuthority(e,this._parts))throw new TypeError(&#39;Hostname &quot;&#39;+e+&#39;&quot; contains characters other than [A-Z0-9.-]&#39;);return this.build(!t),this},s.userinfo=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e){var r=i.buildUserinfo(this._parts);return r?r.substring(0,r.length-1):r}return&quot;@&quot;!==e[e.length-1]&amp;&amp;(e+=&quot;@&quot;),i.parseUserinfo(e,this._parts),this.build(!t),this},s.resource=function(e,t){var r;return void 0===e?this.path()+this.search()+this.hash():(r=i.parse(e),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!t),this)},s.subdomain=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e){if(!this._parts.hostname||this.is(&quot;IP&quot;))return&quot;&quot;;var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||&quot;&quot;}var n=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,n),s=new RegExp(&quot;^&quot;+u(o));if(e&amp;&amp;&quot;.&quot;!==e.charAt(e.length-1)&amp;&amp;(e+=&quot;.&quot;),-1!==e.indexOf(&quot;:&quot;))throw new TypeError(&quot;Domains cannot contain colons&quot;);return e&amp;&amp;i.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},s.domain=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(&quot;boolean&quot;==typeof e&amp;&amp;(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is(&quot;IP&quot;))return&quot;&quot;;var r=this._parts.hostname.match(/\\./g);if(r&amp;&amp;r.length&lt;2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(t).length-1;return n=this._parts.hostname.lastIndexOf(&quot;.&quot;,n-1)+1,this._parts.hostname.substring(n)||&quot;&quot;}if(!e)throw new TypeError(&quot;cannot set domain empty&quot;);if(-1!==e.indexOf(&quot;:&quot;))throw new TypeError(&quot;Domains cannot contain colons&quot;);if(i.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is(&quot;IP&quot;))this._parts.hostname=e;else{var o=new RegExp(u(this.domain())+&quot;$&quot;);this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},s.tld=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(&quot;boolean&quot;==typeof e&amp;&amp;(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is(&quot;IP&quot;))return&quot;&quot;;var n=this._parts.hostname.lastIndexOf(&quot;.&quot;),o=this._parts.hostname.substring(n+1);return!0!==t&amp;&amp;r&amp;&amp;r.list[o.toLowerCase()]&amp;&amp;r.get(this._parts.hostname)||o}var i;if(!e)throw new TypeError(&quot;cannot set TLD empty&quot;);if(e.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(e))throw new TypeError(&#39;TLD &quot;&#39;+e+&#39;&quot; contains characters other than [A-Z0-9]&#39;);i=new RegExp(u(this.tld())+&quot;$&quot;),this._parts.hostname=this._parts.hostname.replace(i,e)}else{if(!this._parts.hostname||this.is(&quot;IP&quot;))throw new ReferenceError(&quot;cannot set TLD on non-domain host&quot;);i=new RegExp(u(this.tld())+&quot;$&quot;),this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},s.directory=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e||!0===e){if(!this._parts.path&amp;&amp;!this._parts.hostname)return&quot;&quot;;if(&quot;/&quot;===this._parts.path)return&quot;/&quot;;var r=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,r)||(this._parts.hostname?&quot;/&quot;:&quot;&quot;);return e?i.decodePath(n):n}var o=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,o),a=new RegExp(&quot;^&quot;+u(s));return this.is(&quot;relative&quot;)||(e||(e=&quot;/&quot;),&quot;/&quot;!==e.charAt(0)&amp;&amp;(e=&quot;/&quot;+e)),e&amp;&amp;&quot;/&quot;!==e.charAt(e.length-1)&amp;&amp;(e+=&quot;/&quot;),e=i.recodePath(e),this._parts.path=this._parts.path.replace(a,e),this.build(!t),this},s.filename=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(&quot;string&quot;!=typeof e){if(!this._parts.path||&quot;/&quot;===this._parts.path)return&quot;&quot;;var r=this._parts.path.lastIndexOf(&quot;/&quot;),n=this._parts.path.substring(r+1);return e?i.decodePathSegment(n):n}var o=!1;&quot;/&quot;===e.charAt(0)&amp;&amp;(e=e.substring(1)),e.match(/\\.?\\//)&amp;&amp;(o=!0);var s=new RegExp(u(this.filename())+&quot;$&quot;);return e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e),o?this.normalizePath(t):this.build(!t),this},s.suffix=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e||!0===e){if(!this._parts.path||&quot;/&quot;===this._parts.path)return&quot;&quot;;var r,n,o=this.filename(),s=o.lastIndexOf(&quot;.&quot;);return-1===s?&quot;&quot;:(r=o.substring(s+1),n=/^[a-z0-9%]+$/i.test(r)?r:&quot;&quot;,e?i.decodePathSegment(n):n)}&quot;.&quot;===e.charAt(0)&amp;&amp;(e=e.substring(1));var a,c=this.suffix();if(c)a=e?new RegExp(u(c)+&quot;$&quot;):new RegExp(u(&quot;.&quot;+c)+&quot;$&quot;);else{if(!e)return this;this._parts.path+=&quot;.&quot;+i.recodePath(e)}return a&amp;&amp;(e=i.recodePath(e),this._parts.path=this._parts.path.replace(a,e)),this.build(!t),this},s.segment=function(e,t,r){var n=this._parts.urn?&quot;:&quot;:&quot;/&quot;,o=this.path(),i=&quot;/&quot;===o.substring(0,1),s=o.split(n);if(void 0!==e&amp;&amp;&quot;number&quot;!=typeof e&amp;&amp;(r=t,t=e,e=void 0),void 0!==e&amp;&amp;&quot;number&quot;!=typeof e)throw new Error(&#39;Bad segment &quot;&#39;+e+&#39;&quot;, must be 0-based integer&#39;);if(i&amp;&amp;s.shift(),e&lt;0&amp;&amp;(e=Math.max(s.length+e,0)),void 0===t)return void 0===e?s:s[e];if(null===e||void 0===s[e])if(l(t)){s=[];for(var a=0,u=t.length;a&lt;u;a++)(t[a].length||s.length&amp;&amp;s[s.length-1].length)&amp;&amp;(s.length&amp;&amp;!s[s.length-1].length&amp;&amp;s.pop(),s.push(f(t[a])))}else(t||&quot;string&quot;==typeof t)&amp;&amp;(t=f(t),&quot;&quot;===s[s.length-1]?s[s.length-1]=t:s.push(t));else t?s[e]=f(t):s.splice(e,1);return i&amp;&amp;s.unshift(&quot;&quot;),this.path(s.join(n),r)},s.segmentCoded=function(e,t,r){var n,o,s;if(&quot;number&quot;!=typeof e&amp;&amp;(r=t,t=e,e=void 0),void 0===t){if(l(n=this.segment(e,t,r)))for(o=0,s=n.length;o&lt;s;o++)n[o]=i.decode(n[o]);else n=void 0!==n?i.decode(n):void 0;return n}if(l(t))for(o=0,s=t.length;o&lt;s;o++)t[o]=i.encode(t[o]);else t=&quot;string&quot;==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,r)};var I=s.query;return s.query=function(e,t){if(!0===e)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(&quot;function&quot;==typeof e){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,r);return this._parts.query=i.buildQuery(n||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&amp;&amp;&quot;string&quot;!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):I.call(this,e,t)},s.setQuery=function(e,t,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(&quot;string&quot;==typeof e||e instanceof String)n[e]=void 0!==t?t:null;else{if(&quot;object&quot;!=typeof e)throw new TypeError(&quot;URI.addQuery() accepts an object, string as the name parameter&quot;);for(var o in e)a.call(e,o)&amp;&amp;(n[o]=e[o])}return this._parts.query=i.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),&quot;string&quot;!=typeof e&amp;&amp;(r=t),this.build(!r),this},s.addQuery=function(e,t,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(n,e,void 0===t?null:t),this._parts.query=i.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),&quot;string&quot;!=typeof e&amp;&amp;(r=t),this.build(!r),this},s.removeQuery=function(e,t,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(n,e,t),this._parts.query=i.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),&quot;string&quot;!=typeof e&amp;&amp;(r=t),this.build(!r),this},s.hasQuery=function(e,t,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(n,e,t,r)},s.setSearch=s.setQuery,s.addSearch=s.addQuery,s.removeSearch=s.removeQuery,s.hasSearch=s.hasQuery,s.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},s.normalizeProtocol=function(e){return&quot;string&quot;==typeof this._parts.protocol&amp;&amp;(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},s.normalizeHostname=function(r){return this._parts.hostname&amp;&amp;(this.is(&quot;IDN&quot;)&amp;&amp;e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is(&quot;IPv6&quot;)&amp;&amp;t&amp;&amp;(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},s.normalizePort=function(e){return&quot;string&quot;==typeof this._parts.protocol&amp;&amp;this._parts.port===i.defaultPorts[this._parts.protocol]&amp;&amp;(this._parts.port=null,this.build(!e)),this},s.normalizePath=function(e){var t,r=this._parts.path;if(!r)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!e),this;if(&quot;/&quot;===this._parts.path)return this;var n,o,s=&quot;&quot;;for(&quot;/&quot;!==(r=i.recodePath(r)).charAt(0)&amp;&amp;(t=!0,r=&quot;/&quot;+r),&quot;/..&quot;!==r.slice(-3)&amp;&amp;&quot;/.&quot;!==r.slice(-2)||(r+=&quot;/&quot;),r=r.replace(/(\\/(\\.\\/)+)|(\\/\\.$)/g,&quot;/&quot;).replace(/\\/{2,}/g,&quot;/&quot;),t&amp;&amp;(s=r.substring(1).match(/^(\\.\\.\\/)+/)||&quot;&quot;)&amp;&amp;(s=s[0]);-1!==(n=r.search(/\\/\\.\\.(\\/|$)/));)0!==n?(-1===(o=r.substring(0,n).lastIndexOf(&quot;/&quot;))&amp;&amp;(o=n),r=r.substring(0,o)+r.substring(n+3)):r=r.substring(3);return t&amp;&amp;this.is(&quot;relative&quot;)&amp;&amp;(r=s+r.substring(1)),this._parts.path=r,this.build(!e),this},s.normalizePathname=s.normalizePath,s.normalizeQuery=function(e){return&quot;string&quot;==typeof this._parts.query&amp;&amp;(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},s.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},s.normalizeSearch=s.normalizeQuery,s.normalizeHash=s.normalizeFragment,s.iso8859=function(){var e=i.encode,t=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},s.unicode=function(){var e=i.encode,t=i.decode;i.encode=m,i.decode=unescape;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},s.readable=function(){var t=this.clone();t.username(&quot;&quot;).password(&quot;&quot;).normalize();var r=&quot;&quot;;if(t._parts.protocol&amp;&amp;(r+=t._parts.protocol+&quot;://&quot;),t._parts.hostname&amp;&amp;(t.is(&quot;punycode&quot;)&amp;&amp;e?(r+=e.toUnicode(t._parts.hostname),t._parts.port&amp;&amp;(r+=&quot;:&quot;+t._parts.port)):r+=t.host()),t._parts.hostname&amp;&amp;t._parts.path&amp;&amp;&quot;/&quot;!==t._parts.path.charAt(0)&amp;&amp;(r+=&quot;/&quot;),r+=t.path(!0),t._parts.query){for(var n=&quot;&quot;,o=0,s=t._parts.query.split(&quot;&amp;&quot;),a=s.length;o&lt;a;o++){var u=(s[o]||&quot;&quot;).split(&quot;=&quot;);n+=&quot;&amp;&quot;+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&amp;/g,&quot;%26&quot;),void 0!==u[1]&amp;&amp;(n+=&quot;=&quot;+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&amp;/g,&quot;%26&quot;))}r+=&quot;?&quot;+n.substring(1)}return r+=i.decodeQuery(t.hash(),!0)},s.absoluteTo=function(e){var t,r,n,o=this.clone(),s=[&quot;protocol&quot;,&quot;username&quot;,&quot;password&quot;,&quot;hostname&quot;,&quot;port&quot;];if(this._parts.urn)throw new Error(&quot;URNs do not have any generally defined hierarchical components&quot;);if(e instanceof i||(e=new i(e)),o._parts.protocol)return o;if(o._parts.protocol=e._parts.protocol,this._parts.hostname)return o;for(r=0;n=s[r];r++)o._parts[n]=e._parts[n];return o._parts.path?(&quot;..&quot;===o._parts.path.substring(-2)&amp;&amp;(o._parts.path+=&quot;/&quot;),&quot;/&quot;!==o.path().charAt(0)&amp;&amp;(t=(t=e.directory())||(0===e.path().indexOf(&quot;/&quot;)?&quot;/&quot;:&quot;&quot;),o._parts.path=(t?t+&quot;/&quot;:&quot;&quot;)+o._parts.path,o.normalizePath())):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),o.build(),o},s.relativeTo=function(e){var t,r,n,o,s,a=this.clone().normalize();if(a._parts.urn)throw new Error(&quot;URNs do not have any generally defined hierarchical components&quot;);if(e=new i(e).normalize(),t=a._parts,r=e._parts,o=a.path(),s=e.path(),&quot;/&quot;!==o.charAt(0))throw new Error(&quot;URI is already relative&quot;);if(&quot;/&quot;!==s.charAt(0))throw new Error(&quot;Cannot calculate a URI relative to another relative URI&quot;);if(t.protocol===r.protocol&amp;&amp;(t.protocol=null),t.username!==r.username||t.password!==r.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==r.hostname||t.port!==r.port)return a.build();if(t.hostname=null,t.port=null,o===s)return t.path=&quot;&quot;,a.build();if(!(n=i.commonPath(o,s)))return a.build();var u=r.path.substring(n.length).replace(/[^\\/]*$/,&quot;&quot;).replace(/.*?\\//g,&quot;../&quot;);return t.path=u+t.path.substring(n.length)||&quot;./&quot;,a.build()},s.equals=function(e){var t,r,n,o,s,u=this.clone(),c=new i(e),d={};if(u.normalize(),c.normalize(),u.toString()===c.toString())return!0;if(n=u.query(),o=c.query(),u.query(&quot;&quot;),c.query(&quot;&quot;),u.toString()!==c.toString())return!1;if(n.length!==o.length)return!1;for(s in t=i.parseQuery(n,this._parts.escapeQuerySpace),r=i.parseQuery(o,this._parts.escapeQuerySpace),t)if(a.call(t,s)){if(l(t[s])){if(!p(t[s],r[s]))return!1}else if(t[s]!==r[s])return!1;d[s]=!0}for(s in r)if(a.call(r,s)&amp;&amp;!d[s])return!1;return!0},s.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},s.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},s.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i})},function(e,t,r){var n=r(10),o=r(29),i=r(1),s=r(0),a=r(28),u={headers:{Authorization:i.apiAuthHeader()}},c=(s.getTimestamp(),new a(18e4)),l=new a(18e4),d=new a(6e4),h=new a(36e5),p=new a(36e5),f=new a(36e5),g=new a(6e4),m={login:function(e,t){var r=i.apiBase+&quot;user/find&quot;,n={email:e,password:t};return o.post(r,n,u)},cookieLogin:function(e){var t=i.apiBase+&quot;extension/cookieLogin&quot;,r={deviceSecurityCode:e};return o.post(t,r,u)},cookieLogout:function(){var e=i.apiBase+&quot;extension/cookieLogout&quot;;return o.post(e,{},u)},getState:function(e){e=e||{};var t=i.apiBase+&quot;user/state?cb=&quot;+s.getTimestamp(),r=g.get(&quot;userState&quot;);return r&amp;&amp;e.useCache?Promise.resolve(r):o.get(t,u).then(function(e){return g.set(&quot;userState&quot;,e),e})},getSerpRules:function(){var e=i.apiBase+&quot;serp/rules?cb=&quot;+s.getDayAndYear(),t=f.get(&quot;serpRules&quot;);return t?Promise.resolve(t):o.get(e,u).then(function(e){return f.set(&quot;serpRules&quot;,e.rules),e.rules})},listUserStores:function(e){const t=`${i.apiBaseV2}user/stores`,r={deviceSecurityCode:e};return o.post(t,r,u).then(e=&gt;e.stores)},listPopularStores:function(e){var t=i.apiBase+&quot;store/popular?includeFavourites=true&quot;,r={deviceSecurityCode:e};return o.post(t,r,u).then(function(e){return e.popularStores})},listAccountOptions:function(e){var t=i.apiBase+&quot;user/listAccountOptions&quot;,r={deviceSecurityCode:e};return o.post(t,r,u).then(function(e){for(var t=[],r=0;r&lt;e.accountOptions.length;r++){var n=e.accountOptions[r];&quot;Review app&quot;!==n.name&amp;&amp;t.push(n)}return t})},listFavouriteStores:function(e){var t=i.apiBase+&quot;favourite/list&quot;,r={deviceSecurityCode:e};return o.post(t,r,u).then(function(e){return e.stores})},addFavouriteStore:function(e,t){var r=i.apiBase+&quot;favourite/add&quot;,n={deviceSecurityCode:e,storeId:t};return o.post(r,n,u)},removeFavouriteStore:function(e,t){var r=i.apiBase+&quot;favourite/remove&quot;,n={deviceSecurityCode:e,storeId:t};return o.post(r,n,u)},findStoreByQuery:function(e,t){var r=i.apiBase+&quot;store/findByQuery?includeFavourites=true&quot;,n={deviceSecurityCode:e,query:t};return o.post(r,n,u).then(function(e){return e.stores})},findStoreByUrl:function(e,t){var r=i.apiBase+&quot;store/findByUrl&quot;,a=s.getLastItem(t);if(!a)return console.warn(&quot;WARN: No URL found in the URL list.&quot;),Promise.reject(s.createError(&quot;no_navigated_urls&quot;));var l=n(a),d=c.get(l.host());if(d)return Promise.resolve(d);var h={deviceSecurityCode:e,url:t,domain:l.domain(),host:l.host(),searchType:&quot;I&quot;};return o.post(r,h,u).then(function(e){return c.set(l.host(),e),e})},findStoreByUrlAnonymous:function(e){var t=i.apiBase+&quot;store/findByUrlAnonymous?version=&quot;+i.version(),r=s.getLastItem(e);if(!r)return console.warn(&quot;WARN: No URL found in the URL list.&quot;),Promise.reject(s.createError(&quot;no_navigated_urls&quot;));var a=n(r),c=l.get(a.host());if(c)return Promise.resolve(c);var d={url:e,domain:a.domain(),host:a.host(),searchType:&quot;A&quot;};return o.post(t,d,u).then(function(e){return l.set(a.host(),e),e})},findSimilarStores:function(e,t){var r=i.apiBase+&quot;stores/similar?includeFavourites=true&quot;,n={deviceSecurityCode:e,storeId:t},s=d.get(t);return s?Promise.resolve(s):o.post(r,n,u).then(function(e){return d.set(t,e),e})},getUrlBlacklist:function(){var e=i.apiBase+&quot;urlBlacklist/&quot;,t=h.get(&quot;blacklist&quot;);return t?Promise.resolve(t):o.get(e,u).then(function(e){return h.set(&quot;blacklist&quot;,e),e})},getAds:function(){var e=i.apiBase+&quot;urlBlacklist/&quot;,t=p.get(&quot;ads&quot;);return t?Promise.resolve(t):o.get(e,u).then(function(e){return p.set(&quot;ads&quot;,e.ads),e.ads})},checkSerpUrls:function(e){var t=i.gaylUrl+&quot;/toolbar/find?version=&quot;+i.version();return o.post(t,e,{headers:{}})},getReferAFriendMetaData:function(){var e=`${i.apiBaseV2}refer/get-metadata`;return o.get(e,u)}};e.exports=m},function(e,t){e.exports={TRACKING:&quot;TRACKING&quot;,TRACKED:&quot;TRACKED&quot;,BLANK:&quot;BLANK&quot;,NOT_SUPPORTED:&quot;NOT_SUPPORTED&quot;}},function(e,t){e.exports=function(){&quot;undefined&quot;!=typeof safari?safari.extension.popovers[0].hide():window.close()}},function(e,t,r){var n,o;",
            "file": "background.bundle.js"
        },
        {
            "comment": "*/*&quot;,&quot;https://*/*&quot;]},function(t){console.log(&quot;hasPermission? &quot;+t),e&amp;&amp;e(t)}.bind(this))}},function(e,t,r){var n=r(10),{isClickthrough:o,isGiveasyouLiveEmail:i}=r(0);function s(){this.urls=[],this.oldUrls=[]}s.prototype.push=function(e){this.urls.push(new function(e){var t=n(e);this.url=e,this.domain=t.domain(),this.host=t.host()}(e))},s.prototype.last=function(){return this.urls[this.urls.length-1]||null},s.prototype.first=function(){return this.urls[0]||null},s.prototype.currentUrls=function(e){return e?this.urls.map(function(e){return e.url}):this.urls},s.prototype.clear=function(){this.oldUrls=this.urls,this.urls=[]},s.prototype.isEmpty=function(){return 0===this.urls.length},s.prototype.wasDirectClick=function(){return this.firstWasClickthrough()||this.firstWasEmail()&amp;&amp;this.wasClickthrough(1)},s.prototype.firstWasClickthrough=function(){var e=this.first();return!!(e&amp;&amp;e.url&amp;&amp;o(e.url))},s.prototype.wasClickthrough=function(e){if(e&gt;=this.urls.length)return!1;var t=this.urls[e];return o(t.url)},s.prototype.firstWasEmail=function(){var e=this.first();return!!(e&amp;&amp;e.url&amp;&amp;i(e.url))},s.prototype.contains=function(e){for(var t=0;t&lt;this.urls.length;t++){if(this.urls[t].url===e)return!0}return!1},s.prototype.log=function(){console.log(&quot;Navigation URLS:&quot;),this.currentUrls(!0).forEach(function(e){console.log(&quot;- &quot;+e)})},e.exports=s},,function(e,t,r){var{isString:n,getTimestamp:o}=r(0),i=1e4;function s(e){this.expiryTimeMs=e||i,this.entries={}}s.prototype.get=function(e){var t=this.entries[e];return t?o()-t._added&gt;=this.expiryTimeMs?(this.remove(e),null):t:null},s.prototype.set=function(e,t){if(!e)throw new Error(&quot;Cache.set called without a key.&quot;);if(!t)throw new Error(&quot;Cache.set called without a value.&quot;);if(n(t))throw console.log(t),new Error(&quot;Cache.set doesn&#39;t support strings as values.&quot;);t._added=o(),this.entries[e]=t},s.prototype.remove=function(e){delete this.entries[e]},e.exports=s},function(e,t,r){var n=r(3),o=r(1),i=200,s={get:function(e,t){return a(&quot;GET&quot;,e,{},t||{})},post:function(e,t,r){return a(&quot;POST&quot;,e,t||{},r||{})}};function a(e,t,r,s){r=r||{},e=e||&quot;GET&quot;,s=s||{};var a=0;return new Promise(function(u,c){a=Date.now();var l=new XMLHttpRequest;l.onreadystatechange=function(){!function(e,t,r,o,s,a){if(t.readyState===XMLHttpRequest.DONE)console.log(`Request (status:${t.status}) &#39;${e}&#39; took ${Date.now()-a}ms`),t.status===i?function(e,t,r,n){if(n.dataType&amp;&amp;&quot;json&quot;!==n.dataType)t(e.responseText);else try{t(JSON.parse(e.responseText))}catch(r){t(e.responseText)}}(t,r,0,s):function(e,t,r){0===e.status?r({statusCode:e.status,message:&quot;Request timed out.&quot;,type:&quot;http_error_timeout_or_cancelled&quot;}):r({statusCode:e.status,message:function(e){var t=n.GENERIC_ERROR_MESSAGE;try{var r=JSON.parse(e.responseText),o=r.errors;o&amp;&amp;o.length&gt;0&amp;&amp;(t=n.API_ERROR_MESSAGES[o[0].error_code])}catch(r){(t=n.REQUEST_ERROR_MESSAGES[e.status])||console.warn(&quot;No message found for status code&quot;,e.status)}return t}(e),type:&quot;api_error&quot;})}(t,0,o)}(t,l,u,c,s,a)},l.open(e,t),l.timeout=s.timeout||o.requestTimeoutMs,function(e,t){if(!t)return;for(var r in t)e.setRequestHeader(r,t[r]);e.setRequestHeader(&quot;Content-Type&quot;,&quot;application/json; charset=UTF-8&quot;)}(l,s.headers),&quot;GET&quot;===l.type?l.send():l.send(JSON.stringify(r))})}e.exports=s},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,&quot;loaded&quot;,{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,&quot;id&quot;,{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r;&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.windows&amp;&amp;(r=chrome.windows),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.windows&amp;&amp;(r=browser.windows),r||(r={onFocusChanged:{addListener:function(e){}}}),e.exports=r},function(e,t){var r;&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.webNavigation&amp;&amp;(r=chrome.webNavigation),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.webNavigation&amp;&amp;(r=browser.webNavigation),r||(r={onCommitted:{addListener:function(e){safari.application.addEventListener(&quot;navigate&quot;,function(t){void 0!==t.target.url&amp;&amp;e({frameId:0,tabId:t.target,url:t.target.url})})}}}),e.exports=r},function(e,t){var r;&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.webRequest&amp;&amp;(r=chrome.webRequest),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.webRequest&amp;&amp;(r=browser.webRequest),r||(r={onBeforeRequest:{addListener:function(e){safari.application.addEventListener(&quot;beforeNavigate&quot;,function(t){null!==t.url&amp;&amp;e({tabId:t.target,url:t.url})})}},onBeforeRedirect:{addListener:function(e){}}}),e.exports=r},function(e,t){var r;&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.browserAction&amp;&amp;(r=chrome.browserAction),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.browserAction&amp;&amp;(r=browser.browserAction),r||(r={setIcon(e){var t=e.path[16];if(t){var r=safari.extension.baseURI+t;safari.extension.toolbarItems.forEach(function(e){e.image=r})}else console.warn(&quot;No 16x16 image provided for browserAction.setIcon&quot;)}}),e.exports=r},,,,,,,,function(e,t,r){var{runtime:n,browserAction:o}=r(19),i=r(4);e.exports=function(e,t,r){var s={};(t=t||[]).forEach(function(t){s[t]=n.getURL(e+t+r)}),&quot;Edge&quot;===i()?(console.log(&quot;Edge specific browser action set icon.&quot;),o.setIcon({path:s[40]})):o.setIcon({path:s})}},function(e,t,r){var{runtime:n,browserAction:o,webRequest:i,webNavigation:s,windows:a}=r(19),{isClickthrough:u,createError:c,isSerp:l,isMajorVersionUpdate:d,isUndefined:h,logObject:p}=r(0),{BrowserTab:f,BrowserTabs:g}=r(21),m=(r(10),r(1)),v=r(11),b=r(9),{Message:y,MessageSubject:w}=r(6),_=r(12),S=r(42),E=r(5),R=r(24),T=r(4),I=r(25);e.exports=class{constructor(){this.tabs=new g,this.user=null,this.cause=null,this.deviceSecurityCode=null,this.api=v,this.storage=b,this.bindEventHandlers(),this.setUninstallUrl(m.uninstallUrl)}bindEventHandlers(){&quot;undefined&quot;!=typeof safari&amp;&amp;safari.application.addEventListener(&quot;command&quot;,this.onClickSafariExtensionIcon.bind(this),!1),i.onBeforeRequest.addListener(this.onBeforeRequest.bind(this),{urls:[&quot;http://*/*&quot;,&quot;https://*/*&quot;],types:[&quot;main_frame&quot;]}),i.onBeforeRedirect.addListener(function(){},{urls:[&quot;&lt;all_urls&gt;&quot;]}),E.onCreated.addListener(this.onTabCreated.bind(this)),E.onRemoved.addListener(this.onTabRemoved.bind(this)),E.onActivated.addListener(this.onTabActivated.bind(this)),a.onFocusChanged.addListener(this.onWindowFocusChanged.bind(this)),s.onCommitted.addListener(this.onNavigationCommitted.bind(this)),n.onMessage.addListener(this.onMessage.bind(this))}onClickSafariExtensionIcon(e){&quot;open-popover&quot;===e.command&amp;&amp;(e.target.popover.contentWindow.location.reload(),e.target.showPopover())}onBeforeRequest(e){var{tabId:t,url:r}=e;if(!l(e.url)){var n=this.tabs.find(t);h(n)||n.navigation.push(e.url)}}onTabCreated(e){console.log(&quot;onTabCreated(&quot;+e.id+&quot;)&quot;),&quot;undefined&quot;!=typeof safari?this.tabs.activeTab?this.tabs.add(e.id):this.tabs.setActiveTab(e.id):this.tabs.find(e.id)?console.log(&quot;Firefox 48 BUG.&quot;):this.tabs.add(e.id)}onTabRemoved(e,t){console.log(&quot;onTabRemoved(tabId=&quot;+e+&quot;)&quot;),this.tabs.remove(e)}onTabActivated(e){console.log(&quot;onTabActivated(tabId=&quot;+e.tabId+&quot;)&quot;),this.tabs.setActiveTab(e.tabId),this.updateIcon()}onWindowFocusChanged(e){console.log(&quot;onWindowFocusChanged(windowId=&quot;+e+&quot;)&quot;);var t=this;E.customQuery({currentWindow:!0,active:!0}).then(function(e){e&amp;&amp;e.length?(t.tabs.setActiveTab(e[0].id),t.updateIcon()):t.tabs.setActiveTab(-1)})}shouldProcessUrl(e,t){return!function(e){return new RegExp(m.ignoredUrls,&quot;g&quot;).test(e)}(e)&amp;&amp;!u(e)&amp;&amp;!function(e){return e.indexOf(&quot;_/chrome&quot;)&gt;-1}(e)&amp;&amp;!function(e){for(var t=0;t&lt;m.ignoredSchemes.length;t++){var r=m.ignoredSchemes[t];if(0===e.indexOf(r))return!0}return!1}(e)&amp;&amp;function(e){return 0===e}(t)}onNavigationCommitted(e){var t=this;this.shouldProcessUrl(e.url,e.frameId)&amp;&amp;I(function(r){if(r){var n=t.tabs.find(e.tabId);n?n.executeOnce(function(){var r=n.url,o=e.url;n.url=o,console.log(&quot;onNavigationCommitted - &quot;+o+&quot; (tabId=&quot;+e.tabId+&quot;)&quot;),console.log(r+&quot; -&gt; &quot;+o),n.navigation.isEmpty()&amp;&amp;(console.log(&quot;Navigation stack is empty, possible page reload / direct navigation.&quot;),n.navigation.push(o)),n.navigation.contains(o)||n.navigation.push(o),n.navigation.log(),t.getAndUpdateUserState(e.tabId).then(function(r){return console.log(&quot;2. Checking if retailer is supported. (tabId=&quot;+e.tabId+&quot;)&quot;),t.checkRetailerSupported.bind(t)(r,n.id)}).then(function(r){return console.log(&quot;3. Analysing API response. (tabId=&quot;+e.tabId+&quot;)&quot;),t.handleRetailerResponse.bind(t)(r,e.tabId)}).catch(t.onError.bind(t)).then(function(){console.log(&quot;4. Finished checking retailer. (tabId=&quot;+e.tabId+&quot;)&quot;),t.updateIcon(),n&amp;&amp;n.navigation.clear()})}):console.log(&quot;### Pre-render / new Safari tab / tab removal detected. ###&quot;)}})}getAndUpdateUserState(e){var t=this;return console.log(&quot;1. Checking user GAYL.com state. (tabId=&quot;+e+&quot;)&quot;),this.api.getState({useCache:!0}).then(function(e){return e.user.loggedIn?t.persistState(e):t.clearUserState()})}persistState(e){return this.user=e.user,this.cause=e.cause,this.deviceSecurityCode=e.deviceSecurityCode,Raven.setUserContext({id:this.user.fundraiserId}),this.storage.set({deviceSecurityCode:e.deviceSecurityCode,user:e.user,cause:e.cause})}clearUserState(){this.storage.clear(),this.user=null,this.cause=null,this.deviceSecurityCode=null,Raven.setUserContext()}onError(e){var t={api_error:function(){console.warn(&quot;API returned 4xx or 5xx&quot;)},http_error_timeout_or_cancelled:function(){console.warn(&quot;HTTP error - request execeeded &quot;+m.requestTimeoutMs+&quot;ms OR cancelled by browser.&quot;)},tab_deleted:function(){console.warn(&quot;Tab was deleted whilst being processed.&quot;)},no_navigated_urls:function(){console.warn(&quot;No navigated URLs - possible overlap&quot;)}}[e.type];h(t)?(console.log(e),Raven.captureException(e)):t()}extractStore(e,t){var r=e.list;if(1===r.length)return r[0];for(var n=t.navigation.last().url,o=0;o&lt;r.length;o++){var i=r[o];if(n.indexOf(i.folder)&gt;-1)return i}return null}checkRetailerSupported(e,t){var r=this.tabs.find(t);if(!r)return console.warn(t+&quot; not found before calling supported API.&quot;),Promise.reject(c(&quot;tab_deleted&quot;));var n=r.navigation.currentUrls(!0);return this.isLoggedIn()?this.api.findStoreByUrl(e.deviceSecurityCode,n):this.api.findStoreByUrlAnonymous(n)}handleRetailerResponse(e,t){console.log(&quot;handleRetailerResponse(&quot;+t+&quot;)&quot;);var r=this.tabs.find(t);if(!r)return console.warn(t+&quot; not found when handling retailer response.&quot;),Promise.reject(c(&quot;tab_deleted&quot;));if(!e.found)return this.handleRetailerNotSupported(r);var n=this.extractStore(e,r);if(null===n)return this.handleRetailerNotSupported(r);var o=this.tabs.findByStoreId(n.id,t);switch(o&amp;&amp;(console.log(&quot;Store already exists in another tab.&quot;),console.log(&quot;Current tab status: &quot;,r.currentStatus()),console.log(&quot;Existing tab status: &quot;,o.currentStatus()),f.copy(o,r)),r.isCurrentStore(n)||(console.log(&quot;User transitioned to a different store, resetting the state...&quot;),r.status=_.BLANK),r.currentStore=n,r.navigation.wasDirectClick()&amp;&amp;(console.log(&quot;Changing cached findStoreByUrl response... from &quot;+e.standDown+&quot; to &quot;+!r.currentStore.allowToolbar),e.standDown=!r.currentStore.allowToolbar,this.handleStatusTracking(r)),r.currentStatus()){case _.TRACKED:return;case _.TRACKING:return this.handleStatusTracking(r);case _.NOT_SUPPORTED:return Promise.resolve();case _.BLANK:return this.handleStatusBlank(e,r);default:return this.handleUnknownStatus()}}handleStatusTracking(e){console.log(&quot;This store is in the process of being tracked.&quot;),e.activeStore=e.currentStore,e.status=_.TRACKED,this.showThankYou(e),console.log(&quot;Activating all other tabs...&quot;),this.tabs.updateTabsWithMatchingStore(e);var t=this.tabs.findAllByStoreId(e.currentStore.id,e.id);return console.log(&quot;Found this store in &quot;+t.length+&quot; other tabs.&quot;),this.showThankYouForTabs(t),Promise.resolve()}handleStatusBlank(e,t){if(!e.standDown)return this.showConfirmationDialog(t.id,Object.assign({},e.list[0])),Promise.resolve();console.log(&quot;Standing down...&quot;)}handleRetailerNotSupported(e){return e.status=_.BLANK,e.currentStore={},Promise.resolve()}handleUnknownStatus(){return Promise.reject(new Error(&quot;Unknown status: &quot;+activeTab.currentStatus()))}showConfirmationDialog(e,t){var r=new y(w.RETAILER_CONFIRMATION,{cause:this.cause,store:t});this.sendMessageToContentScript(e,r)}hideConfirmationDialog(e){this.sendMessageToContentScript(e,new y(w.HIDE_CONFIRMATION))}hideConfirmationDialogForTabs(e){var t=this;e.forEach(function(e){t.hideConfirmationDialog(e.id)})}showThankYou(e){var t=new y(w.RETAILER_THANKYOU,{cause:this.cause,store:e.activeStore});this.sendMessageToContentScript(e.id,t)}showThankYouForTabs(e){var t=this;e.forEach(function(e){t.showThankYou(e)})}sendMessageToContentScript(e,t){console.log(&quot;Sending content script message to tab(&quot;+e+&quot;) with message: subject=&quot;+t.subject+&quot; payload=&quot;+p(t.payload)),e&amp;&amp;E.sendMessage(e,t,function(){n.lastError?console.log(&quot;Message failed to send - &quot;,n.lastError):console.log(&quot;Message sent.&quot;)})}isLoggedIn(){return this.user&amp;&amp;this.user.loggedIn}onMessage(e,t,r){if(function(e){return console.log(&quot;isTrusted(&quot;+m.extensionId()+&quot;, &quot;+e.id+&quot;)&quot;),m.extensionId()===e.id||(&quot;synthetic&quot;===e.id||&quot;Firefox&quot;===T())}(t)){console.log(&quot;Background received message: &quot;+e.subject+&quot; with payload &quot;+p(e.payload));var{payload:n,subject:o}=e;this.tabs.activeTab;try{switch(o){case w.RETAILER_CONFIRM:this.onConfirmation(n.extensionSource);break;case w.RETAILER_REJECT:this.onRejection();break;case w.GET_SERP_RULES:this.getSerpRules();break;case w.CHECK_SERP_URLS:console.log(&quot;Check serp URLS&quot;),this.checkSerpUrls(n);break;default:console.warn(&quot;Unable to handle event - &quot;+o)}}catch(e){console.error(e),Raven.captureException(e)}return!0}console.log(&quot;Received an untrusted message from &quot;+t.id)}getSerpRules(){var e=this.tabs.activeTab,t=this;this.api.getSerpRules().then(function(r){t.sendMessageToContentScript(e.id,new y(w.GET_SERP_RULES_RESPONSE,r)),console.log(&quot;API request finished: &quot;,r)}).catch(function(){})}checkSerpUrls(e){var t=this.tabs.activeTab,r=this;console.log(&quot;Checking SERP URLs&quot;),this.api.checkSerpUrls(e).then(function(e){r.sendMessageToContentScript(t.id,new y(w.CHECK_SERP_URLS_RESPONSE,e)),console.log(&quot;API request finished&quot;,e)}).catch(function(){})}onConfirmation(e){var t=this.tabs.activeTab;t.activeStore=t.currentStore,t.status=_.TRACKING,console.log(&quot;User has confirmed the retailer - &quot;+p(t.activeStore)),console.log(&quot;They were on the URL &quot;+t.url);var r=encodeURIComponent(t.url);R({tabId:t.id,url:m.gaylUrl+t.activeStore.url+&quot;&amp;dl=&quot;+r,source:e,closePopup:!1})}onRejection(){var e=this.tabs.activeTab;console.log(&quot;User has rejected the retailer - &quot;+p(e.currentStore)),e.activeStore={},e.status=_.NOT_SUPPORTED,this.updateIcon(),this.hideConfirmationDialog(e.id),console.log(&quot;Declining all other tabs...&quot;),this.tabs.updateTabsWithMatchingStore(e);var t=this.tabs.findAllByStoreId(e.currentStore.id,e.id);console.log(&quot;Found this store in &quot;+t.length+&quot; other tabs.&quot;),this.hideConfirmationDialogForTabs(t)}updateIcon(){var e=this.tabs.activeTab;switch(e.currentStatus()){case _.BLANK:case _.NOT_SUPPORTED:S(&quot;images/inactive_&quot;,[16,20,25,30,32,40,48,64,128],&quot;.png&quot;);break;case _.TRACKING:case _.TRACKED:S(&quot;images/active_&quot;,[16,20,25,30,32,40,48,64,128],&quot;.png&quot;);break;default:console.log(&quot;Unknown store status: &quot;+e.currentStatus())}}setUninstallUrl(e){e=e+&quot;?browser=&quot;+T().toLowerCase()+&quot;&amp;version=&quot;+m.version(),n.setUninstallURL(e)}}},function(e,t,r){var n=r(5);e.exports=function(e){console.log(&quot;Opening tab with URL: &quot;+e),&quot;undefined&quot;!=typeof safari?(r(13)(),safari.application.activeBrowserWindow.openTab().url=e):n.create({url:e})}},function(e,t,r){var n=r(1),o=r(44),{runtime:i}=r(19),{getGaylUrl:s,isMajorVersionUpdate:a}=r(0);e.exports=class{constructor(){i.onInstalled&amp;&amp;i.onInstalled.addListener(this.onExtensionInstalled.bind(this))}onExtensionInstalled(e){switch(e.reason){case&quot;install&quot;:this.onExtensionInstalledFirstTime(e);break;case&quot;update&quot;:this.onExtensionUpdated(e)}}onExtensionInstalledFirstTime(e){var t=s(&quot;/welcome&quot;),r=n.version();console.log(&quot;Extension installed for the first time.&quot;,r),o(t+&quot;?version=&quot;+r)}onExtensionUpdated(e){var t=s(&quot;/update&quot;),r=n.version(),i=e.previousVersion;console.log(&quot;The extension has been updated: &quot;+i+&quot; -&gt; &quot;+r),a(i,r)&amp;&amp;(console.log(&quot;Extension has updated major versions.&quot;),o(t+&quot;?previousVersion=&quot;+i+&quot;&amp;newVersion=&quot;+r))}}},function(e,t,r){var n=r(1);e.exports=function(e){var t=document.createElement(&quot;script&quot;);t.src=&quot;https://cdn.ravenjs.com/3.26.4/raven.min.js&quot;,t.crossorigin=&quot;anonymous&quot;,t.onload=function(){&quot;development&quot;!==n.env&amp;&amp;(console.log(&quot;Initialised Sentry with extension version: &quot;+n.version()),Raven.config(n.sentryDsn,{release:n.version()}).install()),e&amp;&amp;e()},document.body&amp;&amp;document.body.appendChild(t)}},function(e,t,r){var n=r(46),o=r(45),i=r(43);new o,n(function(){window.gaylExtension=new i})}]);",
            "file": "background.bundle.js"
        },
        {
            "comment": "!\n * URI.js - Mutating URLs\n *\n * Version: 1.19.1\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n",
            "file": "background.bundle.js"
        },
        {
            "comment": "!\n * URI.js - Mutating URLs\n * Second Level Domain (SLD) Support\n *\n * Version: 1.19.1\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n",
            "file": "background.bundle.js"
        },
        {
            "comment": "!\n * URI.js - Mutating URLs\n * IPv6 Support\n *\n * Version: 1.19.1\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n",
            "file": "background.bundle.js"
        },
        {
            "comment": "! https://mths.be/punycode v1.4.0 by @mathias",
            "file": "background.bundle.js"
        },
        {
            "comment": "www.w3.org/2000/svg&quot;,e);return t?(o(t)?t.forEach(function(e){e&amp;&amp;n.classList.add(e)}):n.classList.add(className),n):n},whenDocumentReady:function(e){&quot;loading&quot;!==document.readyState?e():document.addEventListener(&quot;DOMContentLoaded&quot;,function(){e()})}}},1:function(e,t,n){const r=n(7);e.exports=Object.assign({...r},{apiBase:&quot;https://www.giveasyoulive.com/api/v1/&quot;,apiBaseV2:&quot;https://www.giveasyoulive.com/api/v2/&quot;,env:&quot;production&quot;,gaylDomain:&quot;giveasyoulive.com&quot;,gaylUrl:&quot;https://www.giveasyoulive.com&quot;})},2:function(e,t){var n;&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.runtime&amp;&amp;(n=chrome.runtime),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.runtime&amp;&amp;(n=browser.runtime),n||(n={getManifest:function(){return{version:safari.extension.displayVersion}},getURL:function(e){return e},lastError:void 0,onInstalled:{addListener:function(e){if(console.log(&quot;runtime.onInstalled(&quot;+safari.extension.displayVersion+&quot; -&gt; &quot;+safari.extension.settings.installedVersion+&quot;)&quot;),!safari.extension.settings.installedVersion)return safari.extension.settings.installedVersion=safari.extension.displayVersion,void e({reason:&quot;install&quot;});e({reason:&quot;update&quot;,previousVersion:safari.extension.settings.installedVersion}),safari.extension.settings.installedVersion=safari.extension.displayVersion}},onMessage:{addListener:function(e){safari.application?safari.application.addEventListener(&quot;message&quot;,function(t){console.log(&quot;safari.application event&quot;,t);var n={subject:t.name,payload:t.message};e(n,{id:&quot;synthetic&quot;},function(){})}):safari.self.addEventListener(&quot;message&quot;,function(t){console.log(&quot;safari.self event&quot;,t);var n={subject:t.name,payload:t.message};e(n,{id:&quot;synthetic&quot;},function(){})})}},sendMessage:function(e,t){safari.self.tab.dispatchMessage(e.subject,e.payload)},setUninstallURL(e){}}),e.exports=n},3:function(e,t){e.exports={POPUP_LOADING_ACCOUNT_OPTIONS:&quot;Loading account...&quot;,POPUP_LOADING_CAUSE_INFO:&quot;Loading cause...&quot;,POPUP_LOADING_FAVOURITES:&quot;Loading favourites...&quot;,POPUP_LOADING_GLOBAL:&quot;Loading...please wait.&quot;,POPUP_LOADING_SIMILAR_STORES:&quot;Loading similar stores...&quot;,POPUP_LOADING_POPULAR_STORES:&quot;Loading popular stores...&quot;,POPUP_LOADING_STORE_SEARCH:&quot;Searching...&quot;,POPUP_NO_FAVOURITES:&quot;No favourite stores yet. Why not try adding some?&quot;,POPUP_NO_SIMILAR_STORES:&quot;No similar stores were found for this retailer.&quot;,POPUP_NO_SEARCH_RESULTS:&quot;No results found for $$query$$.&quot;,ERROR_TIMEOUT_POPUP:&quot;An error occured, please close, and re-open this popup. If the problem persists, please let us know @ help@everyclick.com&quot;,ERROR_ACCOUNT_OPTION_LOAD:&quot;Failed to load, please re-open to try again.&quot;,STORE_CONFIRMATION_DIALOG_QUESTION:&quot;Would you like your purchase to raise a donation for $$causeName$$?&quot;,STORE_CONFIRMATION_DIALOG_EARN_NEW_CUSTOMERS:&quot;Earn up to $$maxStoreRate$$ with $$storeName$$ if you&#39;re a new customer&quot;,STORE_CONFIRMATION_DIALOG_EARN:&quot;Earn up to $$maxStoreRate$$ with $$storeName$$&quot;,STORE_CONFIRMATION_DIALOG_YES:&quot;Raise a donation&quot;,STORE_THANK_YOU_OK:&quot;OK, got it&quot;,STORE_THANK_YOU_INTRO:&quot;Thank you.&quot;,STORE_THANK_YOU_BODY_NEW_CUSTOMERS:&quot;If you&#39;re a new customer, purchases can raise up to $$maxStoreRate$$ of your total purchase for $$causeName$$.&quot;,STORE_THANK_YOU_BODY:&quot;Purchases can raise up to $$maxStoreRate$$ of your total purchase for $$causeName$$.&quot;,SERP_BUTTON_TEXT:&quot;Shop &amp; raise up to $$maxStoreRate$$ &gt;&quot;,SERP_LINK_TEXT:&quot;Donates up to $$maxStoreRate$$&quot;,API_ERROR_MESSAGES:{InvalidCredentials:&quot;Invalid email or password.&quot;},REQUEST_ERROR_MESSAGES:{0:&quot;The request timed out, please try again.&quot;},GENERIC_ERROR_MESSAGE:&quot;An error occurred.&quot;}},4:function(e,t){e.exports=function(e){var t=e||navigator.userAgent;return/edg([ea]|ios)/i.test(t)?&quot;Edge&quot;:/chrome|crios|crmo/i.test(t)?&quot;Chrome&quot;:/safari|applewebkit/i.test(t)?&quot;Safari&quot;:/firefox|iceweasel|fxios/i.test(t)?&quot;Firefox&quot;:null}},41:function(e,t,n){var{Message:r,MessageSubject:o}=n(6),{contentScriptInitialise:i,isSerp:s,insertAfter:a,forEach:u,whenDocumentReady:c,dom:l,text:d}=n(0),{SERP_BUTTON_TEXT:f,SERP_LINK_TEXT:h}=n(3),E=(n(61),n(1),n(2)),R=window.location.href.indexOf(&quot;debug=true&quot;)&gt;-1;class p{constructor(){this.rules=null,this.host=window.location.hostname,this.extracted=[],this.domParser=new DOMParser,this.bindEventHandlers(),this.requestRules()}bindEventHandlers(){E.onMessage.addListener(this.onMessage.bind(this))}log(){for(var e=0;e&lt;this.extracted.length;e++){var{url:t,visibleLink:n,title:r}=this.extracted[e];console.log(e+1,r.textContent,t)}}requestRules(){E.sendMessage(new r(o.GET_SERP_RULES))}onMessage(e,t,n){var{payload:r,subject:i}=e;switch(console.log(&quot;SERP content script received message&quot;,e),i){case o.GET_SERP_RULES_RESPONSE:this.onRulesReceived(e);break;case o.CHECK_SERP_URLS_RESPONSE:this.onUrlsChecked(r);break;default:console.warn(&quot;Unable to handle event - &quot;+i)}return!0}onRulesReceived(e){if(this.rules=e.payload[this.host]||null,null!==this.rules){this.addSerpClassToBodyElement();var t=&quot;YAHOO&quot;===this.rules.serpProvider?100:0;setTimeout(function(){if(this.extract()){var e=this.extracted.map(function(e){return{url:e.url}});E.sendMessage(new r(o.CHECK_SERP_URLS,e))}else R&amp;&amp;console.log(&quot;Failed to extract URLs from SERP&quot;,this.rules,this.host)}.bind(this),t)}else console.log(&quot;No rules found for host:&quot;,this.host)}addSerpClassToBodyElement(){document.body.classList.add(&quot;gayl-serp-&quot;+this.rules.serpProvider)}onUrlsChecked(e){this.injectGlobalCss(),this.injectUi(e)}extract(){console.log(&quot;Extracting URLs from:&quot;,this.host,&quot;using rules:&quot;,this.rules);var e=document.querySelectorAll(this.rules.containerSelector),t=this;return u(e,function(e){var n=e.querySelector(t.rules.donationRateSelector),r=e.querySelector(t.rules.titleSelector),o=e.querySelector(t.rules.visibleLinkSelector),i=e.querySelector(t.rules.urlSelector);g(i,&quot;#ff919154&quot;),g(o,&quot;#91ffb454&quot;),g(r,&quot;#ff919154&quot;),g(e,&quot;#ccc&quot;),t.extracted.push({container:e,title:r,visibleLink:o,url:i.href,urlContainer:i,donationRateTarget:n})}),R&amp;&amp;(console.log(&quot;Extracted:&quot;),this.log()),this.extracted.length&gt;0}injectGlobalCss(){var e=l(&quot;style&quot;);e.type=&quot;text/css&quot;,e.appendChild(d(this.rules.additionalCss)),document.head.appendChild(e)}injectUi(e){for(var t=0;t&lt;e.length;t++){var n=e[t],r=this.extracted[t],o=n.merchant,i=r.title,s=r.visibleLink,a=r.container,u=(r.urlContainer,r.donationRateTarget);if(!i||!s)return;o&amp;&amp;&quot;Y&quot;===o.notification&amp;&amp;(this.injectLogoAndStoreRate(u,o),this.injectTurnOnButton(a,o))}}injectLogoAndStoreRate(e,t){var n=l(&quot;span&quot;,&quot;gayl-logo&quot;),r=l(&quot;span&quot;,&quot;gayl-store-rate&quot;),o=h.replace(&quot;$$maxStoreRate$$&quot;,this.getStoreRateText(t));r.appendChild(d(o));var i=l(&quot;a&quot;,&quot;gayl-container&quot;);i.href=t.clickthroughUrl,i.appendChild(n),i.appendChild(r),a(i,e)}injectTurnOnButton(e,t){a(this.createButton(t),e)}getStoreRateText(e){if(e&amp;&amp;e.max)return this.domParser.parseFromString(e.max,&quot;text/html&quot;).documentElement.textContent}createButton(e){if(e&amp;&amp;e.max){var t=f.replace(&quot;$$maxStoreRate$$&quot;,this.getStoreRateText(e)),n=l(&quot;a&quot;,[&quot;btn&quot;,&quot;btn-success&quot;,&quot;gayl-button&quot;],t);return n.href=e.clickthroughUrl,n}}}function g(e,t){R&amp;&amp;null!=e&amp;&amp;e.style&amp;&amp;(e.style.backgroundColor=t)}c(function(){i(p,s(window.location.href))})},6:function(e,t){var n={RETAILER_CONFIRMATION:&quot;RETAILER_CONFIRMATION&quot;,RETAILER_THANKYOU:&quot;RETAILER_THANKYOU&quot;,HIDE_CONFIRMATION:&quot;HIDE_CONFIRMATION&quot;,REMOVE_ALL:&quot;REMOVE_ALL&quot;,GET_SERP_RULES_RESPONSE:&quot;GET_SERP_RULES_RESPONSE&quot;,CHECK_SERP_URLS_RESPONSE:&quot;CHECK_SERP_URLS_RESPONSE&quot;,RETAILER_CONFIRM:&quot;RETAILER_CONFIRM&quot;,RETAILER_REJECT:&quot;RETAILER_REJECT&quot;,GET_SERP_RULES:&quot;GET_SERP_RULES&quot;,CHECK_SERP_URLS:&quot;CHECK_SERP_URLS&quot;};function r(e,t){t=t||{};this.isValidSubject(e)&amp;&amp;(this.subject=e),this.payload=t}r.prototype.isValidSubject=function(e){if(!n[e])throw new Error(&quot;Unknown message subject: &quot;+e);return!0},e.exports={Message:r,MessageSubject:n}},61:function(e,t){},7:function(e,t,n){var r=n(4),o=n(2),i={Chrome:&quot;R0FZTF9CUk9XU0VSX0VYVF9DSFJPTUU6MnZMTG4qSkpyX3ZEOT1hKg==&quot;,Firefox:&quot;R0FZTF9CUk9XU0VSX0VYVF9GSVJFRk9YOnRBM3lOWEJQWmR1YyVHTG0=&quot;,Edge:&quot;R0FZTF9CUk9XU0VSX0VYVF9FREdFOmZ2Qmg4VHdMUDRHelNTQFI=&quot;,Safari:&quot;R0FZTF9CUk9XU0VSX0VYVF9TQUZBUkk6LTZyRHZBJGREeHFHOW45Pw==&quot;};e.exports={apiAuthHeader:function(){var e=r(),t=i[e];if(!t)throw new Error(&quot;Cannot find auth header for &quot;+e);return&quot;Basic &quot;+t},extensionId:function(){return&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.runtime?chrome.runtime.id:&quot;undefined&quot;!=typeof safari?&quot;synthetic&quot;:browser.runtime.id},ignoredSchemes:[&quot;about&quot;,&quot;file&quot;,&quot;chrome&quot;,&quot;chrome-extension&quot;,&quot;wyciwyg&quot;],ignoredUrls:&quot;(?:shareasale.com|paypal.(?:co.uk|com)|successfultogether.co.uk|tradedoubler.com|clkuk.pvnsolutions.com|paidonresults.net|linksynergy.com|doubleclick.net|affiliatefuture.com|omguk.com|healthtrader.com|digitalriver.com|veinteractive.com|track.webgains.com)&quot;,permissionsUrl:&quot;https://help.giveasyoulive.com/hc/en-us/articles/360017448352-New-Chrome-update-Donation-Reminder&quot;,processingDelayMs:1e3,requestTimeoutMs:7e3,sentryDsn:&quot;https://7a19d517524a4954bb10e4bc21e4a4a9@sentry.io/1270266&quot;,thankYouDialogVisibleMs:7e3,uninstallUrl:&quot;https://r1.dotmailer-surveys.com/7e21zb6c-623a1ufe&quot;,version:function(){return o.getManifest().version}}}});",
            "file": "searchEngineContent.bundle.js"
        },
        {
            "comment": "www.w3.org/2000/svg&quot;,e);return t?(n(t)?t.forEach(function(e){e&amp;&amp;r.classList.add(e)}):r.classList.add(className),r):r},whenDocumentReady:function(e){&quot;loading&quot;!==document.readyState?e():document.addEventListener(&quot;DOMContentLoaded&quot;,function(){e()})}}},function(e,t,r){const o=r(7);e.exports=Object.assign({...o},{apiBase:&quot;https://www.giveasyoulive.com/api/v1/&quot;,apiBaseV2:&quot;https://www.giveasyoulive.com/api/v2/&quot;,env:&quot;production&quot;,gaylDomain:&quot;giveasyoulive.com&quot;,gaylUrl:&quot;https://www.giveasyoulive.com&quot;})},function(e,t){var r;&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.runtime&amp;&amp;(r=chrome.runtime),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.runtime&amp;&amp;(r=browser.runtime),r||(r={getManifest:function(){return{version:safari.extension.displayVersion}},getURL:function(e){return e},lastError:void 0,onInstalled:{addListener:function(e){if(console.log(&quot;runtime.onInstalled(&quot;+safari.extension.displayVersion+&quot; -&gt; &quot;+safari.extension.settings.installedVersion+&quot;)&quot;),!safari.extension.settings.installedVersion)return safari.extension.settings.installedVersion=safari.extension.displayVersion,void e({reason:&quot;install&quot;});e({reason:&quot;update&quot;,previousVersion:safari.extension.settings.installedVersion}),safari.extension.settings.installedVersion=safari.extension.displayVersion}},onMessage:{addListener:function(e){safari.application?safari.application.addEventListener(&quot;message&quot;,function(t){console.log(&quot;safari.application event&quot;,t);var r={subject:t.name,payload:t.message};e(r,{id:&quot;synthetic&quot;},function(){})}):safari.self.addEventListener(&quot;message&quot;,function(t){console.log(&quot;safari.self event&quot;,t);var r={subject:t.name,payload:t.message};e(r,{id:&quot;synthetic&quot;},function(){})})}},sendMessage:function(e,t){safari.self.tab.dispatchMessage(e.subject,e.payload)},setUninstallURL(e){}}),e.exports=r},function(e,t){e.exports={POPUP_LOADING_ACCOUNT_OPTIONS:&quot;Loading account...&quot;,POPUP_LOADING_CAUSE_INFO:&quot;Loading cause...&quot;,POPUP_LOADING_FAVOURITES:&quot;Loading favourites...&quot;,POPUP_LOADING_GLOBAL:&quot;Loading...please wait.&quot;,POPUP_LOADING_SIMILAR_STORES:&quot;Loading similar stores...&quot;,POPUP_LOADING_POPULAR_STORES:&quot;Loading popular stores...&quot;,POPUP_LOADING_STORE_SEARCH:&quot;Searching...&quot;,POPUP_NO_FAVOURITES:&quot;No favourite stores yet. Why not try adding some?&quot;,POPUP_NO_SIMILAR_STORES:&quot;No similar stores were found for this retailer.&quot;,POPUP_NO_SEARCH_RESULTS:&quot;No results found for $$query$$.&quot;,ERROR_TIMEOUT_POPUP:&quot;An error occured, please close, and re-open this popup. If the problem persists, please let us know @ help@everyclick.com&quot;,ERROR_ACCOUNT_OPTION_LOAD:&quot;Failed to load, please re-open to try again.&quot;,STORE_CONFIRMATION_DIALOG_QUESTION:&quot;Would you like your purchase to raise a donation for $$causeName$$?&quot;,STORE_CONFIRMATION_DIALOG_EARN_NEW_CUSTOMERS:&quot;Earn up to $$maxStoreRate$$ with $$storeName$$ if you&#39;re a new customer&quot;,STORE_CONFIRMATION_DIALOG_EARN:&quot;Earn up to $$maxStoreRate$$ with $$storeName$$&quot;,STORE_CONFIRMATION_DIALOG_YES:&quot;Raise a donation&quot;,STORE_THANK_YOU_OK:&quot;OK, got it&quot;,STORE_THANK_YOU_INTRO:&quot;Thank you.&quot;,STORE_THANK_YOU_BODY_NEW_CUSTOMERS:&quot;If you&#39;re a new customer, purchases can raise up to $$maxStoreRate$$ of your total purchase for $$causeName$$.&quot;,STORE_THANK_YOU_BODY:&quot;Purchases can raise up to $$maxStoreRate$$ of your total purchase for $$causeName$$.&quot;,SERP_BUTTON_TEXT:&quot;Shop &amp; raise up to $$maxStoreRate$$ &gt;&quot;,SERP_LINK_TEXT:&quot;Donates up to $$maxStoreRate$$&quot;,API_ERROR_MESSAGES:{InvalidCredentials:&quot;Invalid email or password.&quot;},REQUEST_ERROR_MESSAGES:{0:&quot;The request timed out, please try again.&quot;},GENERIC_ERROR_MESSAGE:&quot;An error occurred.&quot;}},function(e,t){e.exports=function(e){var t=e||navigator.userAgent;return/edg([ea]|ios)/i.test(t)?&quot;Edge&quot;:/chrome|crios|crmo/i.test(t)?&quot;Chrome&quot;:/safari|applewebkit/i.test(t)?&quot;Safari&quot;:/firefox|iceweasel|fxios/i.test(t)?&quot;Firefox&quot;:null}},function(e,t,r){var o,n=r(2);&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.tabs&amp;&amp;(o=chrome.tabs),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.tabs&amp;&amp;(o=browser.tabs),o||(o={query:function(e,t){safari.application.activeBrowserWindow?(safari.application.activeBrowserWindow.tabs.forEach(function(e){e.id=e,e.windowId=safari.application.activeBrowserWindow,e.active=e.browserWindow.activeTab===e}),t(safari.application.activeBrowserWindow.tabs)):t([])},get:function(e,t){return safari.application.browserWindows.forEach(function(t){t.tabs.forEach(function(t){t===e&amp;&amp;(targetTab=t)})}),targetTab||console.warn(&quot;No target tab was found.&quot;),targetTab},update:function(e,t){e.url=t.url},onCreated:{addListener:function(e){safari.application.addEventListener(&quot;open&quot;,function(t){t.target instanceof SafariBrowserTab&amp;&amp;e(t.target)},!0)}},onRemoved:{addListener:function(e){safari.application.addEventListener(&quot;close&quot;,function(t){t.target instanceof SafariBrowserTab&amp;&amp;e(t.target,{})},!0)}},onActivated:{addListener:function(e){safari.application.addEventListener(&quot;activate&quot;,function(t){t.target instanceof SafariBrowserWindow&amp;&amp;e({tabId:t.target.activeTab}),t.target instanceof SafariBrowserTab&amp;&amp;e({tabId:t.target})},!0)}},sendMessage:function(e,t){var r;safari.application.browserWindows.forEach(function(t){t.tabs.forEach(function(t){t===e&amp;&amp;(r=t)})}),r?(console.log(&quot;Sending message to tab with URL: &quot;+r.url),r.page.dispatchMessage(t.subject,t.payload)):console.log(&quot;Couldn&#39;t find a suitable target to send the event to.&quot;)}});var i=o.query,s=o.get;o.customQuery=function(e){return new Promise(function(t,r){i(e,function(e){t(e)})})},o.customGet=function(e){return new Promise(function(t,r){s(e,function(){n.lastError?r():t(e)})})},e.exports=o},function(e,t){var r={RETAILER_CONFIRMATION:&quot;RETAILER_CONFIRMATION&quot;,RETAILER_THANKYOU:&quot;RETAILER_THANKYOU&quot;,HIDE_CONFIRMATION:&quot;HIDE_CONFIRMATION&quot;,REMOVE_ALL:&quot;REMOVE_ALL&quot;,GET_SERP_RULES_RESPONSE:&quot;GET_SERP_RULES_RESPONSE&quot;,CHECK_SERP_URLS_RESPONSE:&quot;CHECK_SERP_URLS_RESPONSE&quot;,RETAILER_CONFIRM:&quot;RETAILER_CONFIRM&quot;,RETAILER_REJECT:&quot;RETAILER_REJECT&quot;,GET_SERP_RULES:&quot;GET_SERP_RULES&quot;,CHECK_SERP_URLS:&quot;CHECK_SERP_URLS&quot;};function o(e,t){t=t||{};this.isValidSubject(e)&amp;&amp;(this.subject=e),this.payload=t}o.prototype.isValidSubject=function(e){if(!r[e])throw new Error(&quot;Unknown message subject: &quot;+e);return!0},e.exports={Message:o,MessageSubject:r}},function(e,t,r){var o=r(4),n=r(2),i={Chrome:&quot;R0FZTF9CUk9XU0VSX0VYVF9DSFJPTUU6MnZMTG4qSkpyX3ZEOT1hKg==&quot;,Firefox:&quot;R0FZTF9CUk9XU0VSX0VYVF9GSVJFRk9YOnRBM3lOWEJQWmR1YyVHTG0=&quot;,Edge:&quot;R0FZTF9CUk9XU0VSX0VYVF9FREdFOmZ2Qmg4VHdMUDRHelNTQFI=&quot;,Safari:&quot;R0FZTF9CUk9XU0VSX0VYVF9TQUZBUkk6LTZyRHZBJGREeHFHOW45Pw==&quot;};e.exports={apiAuthHeader:function(){var e=o(),t=i[e];if(!t)throw new Error(&quot;Cannot find auth header for &quot;+e);return&quot;Basic &quot;+t},extensionId:function(){return&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.runtime?chrome.runtime.id:&quot;undefined&quot;!=typeof safari?&quot;synthetic&quot;:browser.runtime.id},ignoredSchemes:[&quot;about&quot;,&quot;file&quot;,&quot;chrome&quot;,&quot;chrome-extension&quot;,&quot;wyciwyg&quot;],ignoredUrls:&quot;(?:shareasale.com|paypal.(?:co.uk|com)|successfultogether.co.uk|tradedoubler.com|clkuk.pvnsolutions.com|paidonresults.net|linksynergy.com|doubleclick.net|affiliatefuture.com|omguk.com|healthtrader.com|digitalriver.com|veinteractive.com|track.webgains.com)&quot;,permissionsUrl:&quot;https://help.giveasyoulive.com/hc/en-us/articles/360017448352-New-Chrome-update-Donation-Reminder&quot;,processingDelayMs:1e3,requestTimeoutMs:7e3,sentryDsn:&quot;https://7a19d517524a4954bb10e4bc21e4a4a9@sentry.io/1270266&quot;,thankYouDialogVisibleMs:7e3,uninstallUrl:&quot;https://r1.dotmailer-surveys.com/7e21zb6c-623a1ufe&quot;,version:function(){return n.getManifest().version}}},function(e,t,r){var o=r(5),n=r(13);e.exports=function(e){var t=e.closePopup||!1,r=e.tabId||null,i=e.url||null;i&amp;&amp;r||console.error(&quot;No URL or tabId found.&quot;),console.log(&quot;visitUrl(&quot;+r+&quot;, &quot;+i+&quot;)&quot;),o.update(r,{url:i}),t&amp;&amp;n()}},function(e,t,r){var o=r(17).local,n=r(2).lastError,i={get:function(e){return new Promise(function(t,r){o.get(e,function(e){n||!e?r(n):t(e)})})},getAll:function(){return this.get(null)},getOrElse:function(e,t){var r=this;return new Promise(function(o,n){r.get([e]).then(function(i){if(!i[e])return t().then(function(t){r.setSingle(e,t).then(function(t){o(t[e])})}).catch(function(e){n(e)});o(i[e])})})},set:function(e){return new Promise(function(t,r){o.set(e,function(){n?r(n):t(e)})})},setSingle:function(e,t){var r={};return r[e]=t,this.set(r)},remove:function(e){return new Promise(function(t,r){o.remove(e,function(){n?r(n):t()})})},clear:function(){return new Promise(function(e,t){o.clear(function(){n?t(n):e()})})}};e.exports=i},function(e,t,r){var o,n,i;",
            "file": "popup.bundle.js"
        },
        {
            "comment": "medialize.github.io/URI.js/",
            "file": "popup.bundle.js"
        },
        {
            "comment": "www.opensource.org/licenses/mit-license",
            "file": "popup.bundle.js"
        },
        {
            "comment": "&quot;===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(r=e.indexOf(&quot;:&quot;))&gt;-1&amp;&amp;(t.protocol=e.substring(0,r)||null,t.protocol&amp;&amp;!t.protocol.match(i.protocol_expression)?t.protocol=void 0:&quot;//&quot;===e.substring(r+1,r+3)?(e=e.substring(r+3),e=i.parseAuthority(e,t)):(e=e.substring(r+1),t.urn=!0)),t.path=e,t},i.parseHost=function(e,t){e||(e=&quot;&quot;);var r,o,n=(e=e.replace(/\\\\/g,&quot;/&quot;)).indexOf(&quot;/&quot;);if(-1===n&amp;&amp;(n=e.length),&quot;[&quot;===e.charAt(0))r=e.indexOf(&quot;]&quot;),t.hostname=e.substring(1,r)||null,t.port=e.substring(r+2,n)||null,&quot;/&quot;===t.port&amp;&amp;(t.port=null);else{var s=e.indexOf(&quot;:&quot;),a=e.indexOf(&quot;/&quot;),u=e.indexOf(&quot;:&quot;,s+1);-1!==u&amp;&amp;(-1===a||u&lt;a)?(t.hostname=e.substring(0,n)||null,t.port=null):(o=e.substring(0,n).split(&quot;:&quot;),t.hostname=o[0]||null,t.port=o[1]||null)}return t.hostname&amp;&amp;&quot;/&quot;!==e.substring(n).charAt(0)&amp;&amp;(n++,e=&quot;/&quot;+e),t.preventInvalidHostname&amp;&amp;i.ensureValidHostname(t.hostname,t.protocol),t.port&amp;&amp;i.ensureValidPort(t.port),e.substring(n)||&quot;/&quot;},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var r,o=e.indexOf(&quot;/&quot;),n=e.lastIndexOf(&quot;@&quot;,o&gt;-1?o:e.length-1);return n&gt;-1&amp;&amp;(-1===o||n&lt;o)?(r=e.substring(0,n).split(&quot;:&quot;),t.username=r[0]?i.decode(r[0]):null,r.shift(),t.password=r[0]?i.decode(r.join(&quot;:&quot;)):null,e=e.substring(n+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&amp;+/g,&quot;&amp;&quot;).replace(/^\\?*&amp;*|&amp;+$/g,&quot;&quot;)))return{};for(var r,o,n,s={},u=e.split(&quot;&amp;&quot;),c=u.length,l=0;l&lt;c;l++)r=u[l].split(&quot;=&quot;),o=i.decodeQuery(r.shift(),t),n=r.length?i.decodeQuery(r.join(&quot;=&quot;),t):null,a.call(s,o)?(&quot;string&quot;!=typeof s[o]&amp;&amp;null!==s[o]||(s[o]=[s[o]]),s[o].push(n)):s[o]=n;return s},i.build=function(e){var t=&quot;&quot;;return e.protocol&amp;&amp;(t+=e.protocol+&quot;:&quot;),e.urn||!t&amp;&amp;!e.hostname||(t+=&quot;//&quot;),t+=i.buildAuthority(e)||&quot;&quot;,&quot;string&quot;==typeof e.path&amp;&amp;(&quot;/&quot;!==e.path.charAt(0)&amp;&amp;&quot;string&quot;==typeof e.hostname&amp;&amp;(t+=&quot;/&quot;),t+=e.path),&quot;string&quot;==typeof e.query&amp;&amp;e.query&amp;&amp;(t+=&quot;?&quot;+e.query),&quot;string&quot;==typeof e.fragment&amp;&amp;e.fragment&amp;&amp;(t+=&quot;#&quot;+e.fragment),t},i.buildHost=function(e){var t=&quot;&quot;;return e.hostname?(i.ip6_expression.test(e.hostname)?t+=&quot;[&quot;+e.hostname+&quot;]&quot;:t+=e.hostname,e.port&amp;&amp;(t+=&quot;:&quot;+e.port),t):&quot;&quot;},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t=&quot;&quot;;return e.username&amp;&amp;(t+=i.encode(e.username)),e.password&amp;&amp;(t+=&quot;:&quot;+i.encode(e.password)),t&amp;&amp;(t+=&quot;@&quot;),t},i.buildQuery=function(e,t,r){var o,n,s,u,c=&quot;&quot;;for(n in e)if(a.call(e,n)&amp;&amp;n)if(l(e[n]))for(o={},s=0,u=e[n].length;s&lt;u;s++)void 0!==e[n][s]&amp;&amp;void 0===o[e[n][s]+&quot;&quot;]&amp;&amp;(c+=&quot;&amp;&quot;+i.buildQueryParameter(n,e[n][s],r),!0!==t&amp;&amp;(o[e[n][s]+&quot;&quot;]=!0));else void 0!==e[n]&amp;&amp;(c+=&quot;&amp;&quot;+i.buildQueryParameter(n,e[n],r));return c.substring(1)},i.buildQueryParameter=function(e,t,r){return i.encodeQuery(e,r)+(null!==t?&quot;=&quot;+i.encodeQuery(t,r):&quot;&quot;)},i.addQuery=function(e,t,r){if(&quot;object&quot;==typeof t)for(var o in t)a.call(t,o)&amp;&amp;i.addQuery(e,o,t[o]);else{if(&quot;string&quot;!=typeof t)throw new TypeError(&quot;URI.addQuery() accepts an object, string as the name parameter&quot;);if(void 0===e[t])return void(e[t]=r);&quot;string&quot;==typeof e[t]&amp;&amp;(e[t]=[e[t]]),l(r)||(r=[r]),e[t]=(e[t]||[]).concat(r)}},i.setQuery=function(e,t,r){if(&quot;object&quot;==typeof t)for(var o in t)a.call(t,o)&amp;&amp;i.setQuery(e,o,t[o]);else{if(&quot;string&quot;!=typeof t)throw new TypeError(&quot;URI.setQuery() accepts an object, string as the name parameter&quot;);e[t]=void 0===r?null:r}},i.removeQuery=function(e,t,r){var o,n,s;if(l(t))for(o=0,n=t.length;o&lt;n;o++)e[t[o]]=void 0;else if(&quot;RegExp&quot;===c(t))for(s in e)t.test(s)&amp;&amp;(e[s]=void 0);else if(&quot;object&quot;==typeof t)for(s in t)a.call(t,s)&amp;&amp;i.removeQuery(e,s,t[s]);else{if(&quot;string&quot;!=typeof t)throw new TypeError(&quot;URI.removeQuery() accepts an object, string, RegExp as the first parameter&quot;);void 0!==r?&quot;RegExp&quot;===c(r)?!l(e[t])&amp;&amp;r.test(e[t])?e[t]=void 0:e[t]=d(e[t],r):e[t]!==String(r)||l(r)&amp;&amp;1!==r.length?l(e[t])&amp;&amp;(e[t]=d(e[t],r)):e[t]=void 0:e[t]=void 0}},i.hasQuery=function(e,t,r,o){switch(c(t)){case&quot;String&quot;:break;case&quot;RegExp&quot;:for(var n in e)if(a.call(e,n)&amp;&amp;t.test(n)&amp;&amp;(void 0===r||i.hasQuery(e,n,r)))return!0;return!1;case&quot;Object&quot;:for(var s in t)if(a.call(t,s)&amp;&amp;!i.hasQuery(e,s,t[s]))return!1;return!0;default:throw new TypeError(&quot;URI.hasQuery() accepts a string, regular expression or object as the name parameter&quot;)}switch(c(r)){case&quot;Undefined&quot;:return t in e;case&quot;Boolean&quot;:return r===Boolean(l(e[t])?e[t].length:e[t]);case&quot;Function&quot;:return!!r(e[t],t,e);case&quot;Array&quot;:return!!l(e[t])&amp;&amp;(o?h:p)(e[t],r);case&quot;RegExp&quot;:return l(e[t])?!!o&amp;&amp;h(e[t],r):Boolean(e[t]&amp;&amp;e[t].match(r));case&quot;Number&quot;:r=String(r);case&quot;String&quot;:return l(e[t])?!!o&amp;&amp;h(e[t],r):e[t]===r;default:throw new TypeError(&quot;URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter&quot;)}},i.joinPaths=function(){for(var e=[],t=[],r=0,o=0;o&lt;arguments.length;o++){var n=new i(arguments[o]);e.push(n);for(var s=n.segment(),a=0;a&lt;s.length;a++)&quot;string&quot;==typeof s[a]&amp;&amp;t.push(s[a]),s[a]&amp;&amp;r++}if(!t.length||!r)return new i(&quot;&quot;);var u=new i(&quot;&quot;).segment(t);return&quot;&quot;!==e[0].path()&amp;&amp;&quot;/&quot;!==e[0].path().slice(0,1)||u.path(&quot;/&quot;+u.path()),u.normalize()},i.commonPath=function(e,t){var r,o=Math.min(e.length,t.length);for(r=0;r&lt;o;r++)if(e.charAt(r)!==t.charAt(r)){r--;break}return r&lt;1?e.charAt(0)===t.charAt(0)&amp;&amp;&quot;/&quot;===e.charAt(0)?&quot;/&quot;:&quot;&quot;:(&quot;/&quot;===e.charAt(r)&amp;&amp;&quot;/&quot;===t.charAt(r)||(r=e.substring(0,r).lastIndexOf(&quot;/&quot;)),e.substring(0,r+1))},i.withinString=function(e,t,r){r||(r={});var o=r.start||i.findUri.start,n=r.end||i.findUri.end,s=r.trim||i.findUri.trim,a=r.parens||i.findUri.parens,u=/[a-z0-9-]=[&quot;&#39;]?$/i;for(o.lastIndex=0;;){var c=o.exec(e);if(!c)break;var l=c.index;if(r.ignoreHtml){var d=e.slice(Math.max(l-3,0),l);if(d&amp;&amp;u.test(d))continue}for(var h=l+e.slice(l).search(n),p=e.slice(l,h),f=-1;;){var g=a.exec(p);if(!g)break;var m=g.index+g[0].length;f=Math.max(f,m)}if(!((p=f&gt;-1?p.slice(0,f)+p.slice(f).replace(s,&quot;&quot;):p.replace(s,&quot;&quot;)).length&lt;=c[0].length||r.ignore&amp;&amp;r.ignore.test(p))){var v=t(p,l,h=l+p.length,e);void 0!==v?(v=String(v),e=e.slice(0,l)+v+e.slice(h),o.lastIndex=l+v.length):o.lastIndex=h}}return o.lastIndex=0,e},i.ensureValidHostname=function(t,r){var o=!!t,n=!1;if(!!r&amp;&amp;(n=h(i.hostProtocols,r)),n&amp;&amp;!o)throw new TypeError(&quot;Hostname cannot be empty, if protocol is &quot;+r);if(t&amp;&amp;t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError(&#39;Hostname &quot;&#39;+t+&#39;&quot; contains characters other than [A-Z0-9.-:_] and Punycode.js is not available&#39;);if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError(&#39;Hostname &quot;&#39;+t+&#39;&quot; contains characters other than [A-Z0-9.-:_]&#39;)}},i.ensureValidPort=function(e){if(e){var t=Number(e);if(!(function(e){return/^[0-9]+$/.test(e)}(t)&amp;&amp;t&gt;0&amp;&amp;t&lt;65536))throw new TypeError(&#39;Port &quot;&#39;+e+&#39;&quot; is not a valid port&#39;)}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return o.URITemplate&amp;&amp;&quot;function&quot;==typeof o.URITemplate.noConflict&amp;&amp;(t.URITemplate=o.URITemplate.noConflict()),o.IPv6&amp;&amp;&quot;function&quot;==typeof o.IPv6.noConflict&amp;&amp;(t.IPv6=o.IPv6.noConflict()),o.SecondLevelDomains&amp;&amp;&quot;function&quot;==typeof o.SecondLevelDomains.noConflict&amp;&amp;(t.SecondLevelDomains=o.SecondLevelDomains.noConflict()),t}return o.URI===this&amp;&amp;(o.URI=n),this},s.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&amp;&amp;(this._string=i.build(this._parts),this._deferred_build=!1),this},s.clone=function(){return new i(this)},s.valueOf=s.toString=function(){return this.build(!1)._string},s.protocol=_(&quot;protocol&quot;),s.username=_(&quot;username&quot;),s.password=_(&quot;password&quot;),s.hostname=_(&quot;hostname&quot;),s.port=_(&quot;port&quot;),s.query=w(&quot;query&quot;,&quot;?&quot;),s.fragment=w(&quot;fragment&quot;,&quot;#&quot;),s.search=function(e,t){var r=this.query(e,t);return&quot;string&quot;==typeof r&amp;&amp;r.length?&quot;?&quot;+r:r},s.hash=function(e,t){var r=this.fragment(e,t);return&quot;string&quot;==typeof r&amp;&amp;r.length?&quot;#&quot;+r:r},s.pathname=function(e,t){if(void 0===e||!0===e){var r=this._parts.path||(this._parts.hostname?&quot;/&quot;:&quot;&quot;);return e?(this._parts.urn?i.decodeUrnPath:i.decodePath)(r):r}return this._parts.urn?this._parts.path=e?i.recodeUrnPath(e):&quot;&quot;:this._parts.path=e?i.recodePath(e):&quot;/&quot;,this.build(!t),this},s.path=s.pathname,s.href=function(e,t){var r;if(void 0===e)return this.toString();this._string=&quot;&quot;,this._parts=i._parts();var o=e instanceof i,n=&quot;object&quot;==typeof e&amp;&amp;(e.hostname||e.path||e.pathname);e.nodeName&amp;&amp;(e=e[i.getDomAttribute(e)]||&quot;&quot;,n=!1);if(!o&amp;&amp;n&amp;&amp;void 0!==e.pathname&amp;&amp;(e=e.toString()),&quot;string&quot;==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!o&amp;&amp;!n)throw new TypeError(&quot;invalid input&quot;);var s=o?e._parts:e;for(r in s)&quot;query&quot;!==r&amp;&amp;a.call(this._parts,r)&amp;&amp;(this._parts[r]=s[r]);s.query&amp;&amp;this.query(s.query,!1)}return this.build(!t),this},s.is=function(e){var t=!1,o=!1,n=!1,s=!1,a=!1,u=!1,c=!1,l=!this._parts.urn;switch(this._parts.hostname&amp;&amp;(l=!1,o=i.ip4_expression.test(this._parts.hostname),n=i.ip6_expression.test(this._parts.hostname),a=(s=!(t=o||n))&amp;&amp;r&amp;&amp;r.has(this._parts.hostname),u=s&amp;&amp;i.idn_expression.test(this._parts.hostname),c=s&amp;&amp;i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case&quot;relative&quot;:return l;case&quot;absolute&quot;:return!l;case&quot;domain&quot;:case&quot;name&quot;:return s;case&quot;sld&quot;:return a;case&quot;ip&quot;:return t;case&quot;ip4&quot;:case&quot;ipv4&quot;:case&quot;inet4&quot;:return o;case&quot;ip6&quot;:case&quot;ipv6&quot;:case&quot;inet6&quot;:return n;case&quot;idn&quot;:return u;case&quot;url&quot;:return!this._parts.urn;case&quot;urn&quot;:return!!this._parts.urn;case&quot;punycode&quot;:return c}return null};var C=s.protocol,E=s.port,k=s.hostname;s.protocol=function(e,t){if(e&amp;&amp;!(e=e.replace(/:(\\/\\/)?$/,&quot;&quot;)).match(i.protocol_expression))throw new TypeError(&#39;Protocol &quot;&#39;+e+&quot;\\&quot; contains characters other than [A-Z0-9.+-] or doesn&#39;t start with [A-Z]&quot;);return C.call(this,e,t)},s.scheme=s.protocol,s.port=function(e,t){return this._parts.urn?void 0===e?&quot;&quot;:this:(void 0!==e&amp;&amp;(0===e&amp;&amp;(e=null),e&amp;&amp;(&quot;:&quot;===(e+=&quot;&quot;).charAt(0)&amp;&amp;(e=e.substring(1)),i.ensureValidPort(e))),E.call(this,e,t))},s.hostname=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0!==e){var r={preventInvalidHostname:this._parts.preventInvalidHostname};if(&quot;/&quot;!==i.parseHost(e,r))throw new TypeError(&#39;Hostname &quot;&#39;+e+&#39;&quot; contains characters other than [A-Z0-9.-]&#39;);e=r.hostname,this._parts.preventInvalidHostname&amp;&amp;i.ensureValidHostname(e,this._parts.protocol)}return k.call(this,e,t)},s.origin=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e){var r=this.protocol();return this.authority()?(r?r+&quot;://&quot;:&quot;&quot;)+this.authority():&quot;&quot;}var o=i(e);return this.protocol(o.protocol()).authority(o.authority()).build(!t),this},s.host=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e)return this._parts.hostname?i.buildHost(this._parts):&quot;&quot;;if(&quot;/&quot;!==i.parseHost(e,this._parts))throw new TypeError(&#39;Hostname &quot;&#39;+e+&#39;&quot; contains characters other than [A-Z0-9.-]&#39;);return this.build(!t),this},s.authority=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e)return this._parts.hostname?i.buildAuthority(this._parts):&quot;&quot;;if(&quot;/&quot;!==i.parseAuthority(e,this._parts))throw new TypeError(&#39;Hostname &quot;&#39;+e+&#39;&quot; contains characters other than [A-Z0-9.-]&#39;);return this.build(!t),this},s.userinfo=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e){var r=i.buildUserinfo(this._parts);return r?r.substring(0,r.length-1):r}return&quot;@&quot;!==e[e.length-1]&amp;&amp;(e+=&quot;@&quot;),i.parseUserinfo(e,this._parts),this.build(!t),this},s.resource=function(e,t){var r;return void 0===e?this.path()+this.search()+this.hash():(r=i.parse(e),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!t),this)},s.subdomain=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e){if(!this._parts.hostname||this.is(&quot;IP&quot;))return&quot;&quot;;var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||&quot;&quot;}var o=this._parts.hostname.length-this.domain().length,n=this._parts.hostname.substring(0,o),s=new RegExp(&quot;^&quot;+u(n));if(e&amp;&amp;&quot;.&quot;!==e.charAt(e.length-1)&amp;&amp;(e+=&quot;.&quot;),-1!==e.indexOf(&quot;:&quot;))throw new TypeError(&quot;Domains cannot contain colons&quot;);return e&amp;&amp;i.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},s.domain=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(&quot;boolean&quot;==typeof e&amp;&amp;(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is(&quot;IP&quot;))return&quot;&quot;;var r=this._parts.hostname.match(/\\./g);if(r&amp;&amp;r.length&lt;2)return this._parts.hostname;var o=this._parts.hostname.length-this.tld(t).length-1;return o=this._parts.hostname.lastIndexOf(&quot;.&quot;,o-1)+1,this._parts.hostname.substring(o)||&quot;&quot;}if(!e)throw new TypeError(&quot;cannot set domain empty&quot;);if(-1!==e.indexOf(&quot;:&quot;))throw new TypeError(&quot;Domains cannot contain colons&quot;);if(i.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is(&quot;IP&quot;))this._parts.hostname=e;else{var n=new RegExp(u(this.domain())+&quot;$&quot;);this._parts.hostname=this._parts.hostname.replace(n,e)}return this.build(!t),this},s.tld=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(&quot;boolean&quot;==typeof e&amp;&amp;(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is(&quot;IP&quot;))return&quot;&quot;;var o=this._parts.hostname.lastIndexOf(&quot;.&quot;),n=this._parts.hostname.substring(o+1);return!0!==t&amp;&amp;r&amp;&amp;r.list[n.toLowerCase()]&amp;&amp;r.get(this._parts.hostname)||n}var i;if(!e)throw new TypeError(&quot;cannot set TLD empty&quot;);if(e.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(e))throw new TypeError(&#39;TLD &quot;&#39;+e+&#39;&quot; contains characters other than [A-Z0-9]&#39;);i=new RegExp(u(this.tld())+&quot;$&quot;),this._parts.hostname=this._parts.hostname.replace(i,e)}else{if(!this._parts.hostname||this.is(&quot;IP&quot;))throw new ReferenceError(&quot;cannot set TLD on non-domain host&quot;);i=new RegExp(u(this.tld())+&quot;$&quot;),this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},s.directory=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e||!0===e){if(!this._parts.path&amp;&amp;!this._parts.hostname)return&quot;&quot;;if(&quot;/&quot;===this._parts.path)return&quot;/&quot;;var r=this._parts.path.length-this.filename().length-1,o=this._parts.path.substring(0,r)||(this._parts.hostname?&quot;/&quot;:&quot;&quot;);return e?i.decodePath(o):o}var n=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,n),a=new RegExp(&quot;^&quot;+u(s));return this.is(&quot;relative&quot;)||(e||(e=&quot;/&quot;),&quot;/&quot;!==e.charAt(0)&amp;&amp;(e=&quot;/&quot;+e)),e&amp;&amp;&quot;/&quot;!==e.charAt(e.length-1)&amp;&amp;(e+=&quot;/&quot;),e=i.recodePath(e),this._parts.path=this._parts.path.replace(a,e),this.build(!t),this},s.filename=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(&quot;string&quot;!=typeof e){if(!this._parts.path||&quot;/&quot;===this._parts.path)return&quot;&quot;;var r=this._parts.path.lastIndexOf(&quot;/&quot;),o=this._parts.path.substring(r+1);return e?i.decodePathSegment(o):o}var n=!1;&quot;/&quot;===e.charAt(0)&amp;&amp;(e=e.substring(1)),e.match(/\\.?\\//)&amp;&amp;(n=!0);var s=new RegExp(u(this.filename())+&quot;$&quot;);return e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e),n?this.normalizePath(t):this.build(!t),this},s.suffix=function(e,t){if(this._parts.urn)return void 0===e?&quot;&quot;:this;if(void 0===e||!0===e){if(!this._parts.path||&quot;/&quot;===this._parts.path)return&quot;&quot;;var r,o,n=this.filename(),s=n.lastIndexOf(&quot;.&quot;);return-1===s?&quot;&quot;:(r=n.substring(s+1),o=/^[a-z0-9%]+$/i.test(r)?r:&quot;&quot;,e?i.decodePathSegment(o):o)}&quot;.&quot;===e.charAt(0)&amp;&amp;(e=e.substring(1));var a,c=this.suffix();if(c)a=e?new RegExp(u(c)+&quot;$&quot;):new RegExp(u(&quot;.&quot;+c)+&quot;$&quot;);else{if(!e)return this;this._parts.path+=&quot;.&quot;+i.recodePath(e)}return a&amp;&amp;(e=i.recodePath(e),this._parts.path=this._parts.path.replace(a,e)),this.build(!t),this},s.segment=function(e,t,r){var o=this._parts.urn?&quot;:&quot;:&quot;/&quot;,n=this.path(),i=&quot;/&quot;===n.substring(0,1),s=n.split(o);if(void 0!==e&amp;&amp;&quot;number&quot;!=typeof e&amp;&amp;(r=t,t=e,e=void 0),void 0!==e&amp;&amp;&quot;number&quot;!=typeof e)throw new Error(&#39;Bad segment &quot;&#39;+e+&#39;&quot;, must be 0-based integer&#39;);if(i&amp;&amp;s.shift(),e&lt;0&amp;&amp;(e=Math.max(s.length+e,0)),void 0===t)return void 0===e?s:s[e];if(null===e||void 0===s[e])if(l(t)){s=[];for(var a=0,u=t.length;a&lt;u;a++)(t[a].length||s.length&amp;&amp;s[s.length-1].length)&amp;&amp;(s.length&amp;&amp;!s[s.length-1].length&amp;&amp;s.pop(),s.push(f(t[a])))}else(t||&quot;string&quot;==typeof t)&amp;&amp;(t=f(t),&quot;&quot;===s[s.length-1]?s[s.length-1]=t:s.push(t));else t?s[e]=f(t):s.splice(e,1);return i&amp;&amp;s.unshift(&quot;&quot;),this.path(s.join(o),r)},s.segmentCoded=function(e,t,r){var o,n,s;if(&quot;number&quot;!=typeof e&amp;&amp;(r=t,t=e,e=void 0),void 0===t){if(l(o=this.segment(e,t,r)))for(n=0,s=o.length;n&lt;s;n++)o[n]=i.decode(o[n]);else o=void 0!==o?i.decode(o):void 0;return o}if(l(t))for(n=0,s=t.length;n&lt;s;n++)t[n]=i.encode(t[n]);else t=&quot;string&quot;==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,r)};var A=s.query;return s.query=function(e,t){if(!0===e)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(&quot;function&quot;==typeof e){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),o=e.call(this,r);return this._parts.query=i.buildQuery(o||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&amp;&amp;&quot;string&quot;!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):A.call(this,e,t)},s.setQuery=function(e,t,r){var o=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(&quot;string&quot;==typeof e||e instanceof String)o[e]=void 0!==t?t:null;else{if(&quot;object&quot;!=typeof e)throw new TypeError(&quot;URI.addQuery() accepts an object, string as the name parameter&quot;);for(var n in e)a.call(e,n)&amp;&amp;(o[n]=e[n])}return this._parts.query=i.buildQuery(o,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),&quot;string&quot;!=typeof e&amp;&amp;(r=t),this.build(!r),this},s.addQuery=function(e,t,r){var o=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(o,e,void 0===t?null:t),this._parts.query=i.buildQuery(o,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),&quot;string&quot;!=typeof e&amp;&amp;(r=t),this.build(!r),this},s.removeQuery=function(e,t,r){var o=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(o,e,t),this._parts.query=i.buildQuery(o,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),&quot;string&quot;!=typeof e&amp;&amp;(r=t),this.build(!r),this},s.hasQuery=function(e,t,r){var o=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(o,e,t,r)},s.setSearch=s.setQuery,s.addSearch=s.addQuery,s.removeSearch=s.removeQuery,s.hasSearch=s.hasQuery,s.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},s.normalizeProtocol=function(e){return&quot;string&quot;==typeof this._parts.protocol&amp;&amp;(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},s.normalizeHostname=function(r){return this._parts.hostname&amp;&amp;(this.is(&quot;IDN&quot;)&amp;&amp;e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is(&quot;IPv6&quot;)&amp;&amp;t&amp;&amp;(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},s.normalizePort=function(e){return&quot;string&quot;==typeof this._parts.protocol&amp;&amp;this._parts.port===i.defaultPorts[this._parts.protocol]&amp;&amp;(this._parts.port=null,this.build(!e)),this},s.normalizePath=function(e){var t,r=this._parts.path;if(!r)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!e),this;if(&quot;/&quot;===this._parts.path)return this;var o,n,s=&quot;&quot;;for(&quot;/&quot;!==(r=i.recodePath(r)).charAt(0)&amp;&amp;(t=!0,r=&quot;/&quot;+r),&quot;/..&quot;!==r.slice(-3)&amp;&amp;&quot;/.&quot;!==r.slice(-2)||(r+=&quot;/&quot;),r=r.replace(/(\\/(\\.\\/)+)|(\\/\\.$)/g,&quot;/&quot;).replace(/\\/{2,}/g,&quot;/&quot;),t&amp;&amp;(s=r.substring(1).match(/^(\\.\\.\\/)+/)||&quot;&quot;)&amp;&amp;(s=s[0]);-1!==(o=r.search(/\\/\\.\\.(\\/|$)/));)0!==o?(-1===(n=r.substring(0,o).lastIndexOf(&quot;/&quot;))&amp;&amp;(n=o),r=r.substring(0,n)+r.substring(o+3)):r=r.substring(3);return t&amp;&amp;this.is(&quot;relative&quot;)&amp;&amp;(r=s+r.substring(1)),this._parts.path=r,this.build(!e),this},s.normalizePathname=s.normalizePath,s.normalizeQuery=function(e){return&quot;string&quot;==typeof this._parts.query&amp;&amp;(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},s.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},s.normalizeSearch=s.normalizeQuery,s.normalizeHash=s.normalizeFragment,s.iso8859=function(){var e=i.encode,t=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},s.unicode=function(){var e=i.encode,t=i.decode;i.encode=m,i.decode=unescape;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},s.readable=function(){var t=this.clone();t.username(&quot;&quot;).password(&quot;&quot;).normalize();var r=&quot;&quot;;if(t._parts.protocol&amp;&amp;(r+=t._parts.protocol+&quot;://&quot;),t._parts.hostname&amp;&amp;(t.is(&quot;punycode&quot;)&amp;&amp;e?(r+=e.toUnicode(t._parts.hostname),t._parts.port&amp;&amp;(r+=&quot;:&quot;+t._parts.port)):r+=t.host()),t._parts.hostname&amp;&amp;t._parts.path&amp;&amp;&quot;/&quot;!==t._parts.path.charAt(0)&amp;&amp;(r+=&quot;/&quot;),r+=t.path(!0),t._parts.query){for(var o=&quot;&quot;,n=0,s=t._parts.query.split(&quot;&amp;&quot;),a=s.length;n&lt;a;n++){var u=(s[n]||&quot;&quot;).split(&quot;=&quot;);o+=&quot;&amp;&quot;+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&amp;/g,&quot;%26&quot;),void 0!==u[1]&amp;&amp;(o+=&quot;=&quot;+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&amp;/g,&quot;%26&quot;))}r+=&quot;?&quot;+o.substring(1)}return r+=i.decodeQuery(t.hash(),!0)},s.absoluteTo=function(e){var t,r,o,n=this.clone(),s=[&quot;protocol&quot;,&quot;username&quot;,&quot;password&quot;,&quot;hostname&quot;,&quot;port&quot;];if(this._parts.urn)throw new Error(&quot;URNs do not have any generally defined hierarchical components&quot;);if(e instanceof i||(e=new i(e)),n._parts.protocol)return n;if(n._parts.protocol=e._parts.protocol,this._parts.hostname)return n;for(r=0;o=s[r];r++)n._parts[o]=e._parts[o];return n._parts.path?(&quot;..&quot;===n._parts.path.substring(-2)&amp;&amp;(n._parts.path+=&quot;/&quot;),&quot;/&quot;!==n.path().charAt(0)&amp;&amp;(t=(t=e.directory())||(0===e.path().indexOf(&quot;/&quot;)?&quot;/&quot;:&quot;&quot;),n._parts.path=(t?t+&quot;/&quot;:&quot;&quot;)+n._parts.path,n.normalizePath())):(n._parts.path=e._parts.path,n._parts.query||(n._parts.query=e._parts.query)),n.build(),n},s.relativeTo=function(e){var t,r,o,n,s,a=this.clone().normalize();if(a._parts.urn)throw new Error(&quot;URNs do not have any generally defined hierarchical components&quot;);if(e=new i(e).normalize(),t=a._parts,r=e._parts,n=a.path(),s=e.path(),&quot;/&quot;!==n.charAt(0))throw new Error(&quot;URI is already relative&quot;);if(&quot;/&quot;!==s.charAt(0))throw new Error(&quot;Cannot calculate a URI relative to another relative URI&quot;);if(t.protocol===r.protocol&amp;&amp;(t.protocol=null),t.username!==r.username||t.password!==r.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==r.hostname||t.port!==r.port)return a.build();if(t.hostname=null,t.port=null,n===s)return t.path=&quot;&quot;,a.build();if(!(o=i.commonPath(n,s)))return a.build();var u=r.path.substring(o.length).replace(/[^\\/]*$/,&quot;&quot;).replace(/.*?\\//g,&quot;../&quot;);return t.path=u+t.path.substring(o.length)||&quot;./&quot;,a.build()},s.equals=function(e){var t,r,o,n,s,u=this.clone(),c=new i(e),d={};if(u.normalize(),c.normalize(),u.toString()===c.toString())return!0;if(o=u.query(),n=c.query(),u.query(&quot;&quot;),c.query(&quot;&quot;),u.toString()!==c.toString())return!1;if(o.length!==n.length)return!1;for(s in t=i.parseQuery(o,this._parts.escapeQuerySpace),r=i.parseQuery(n,this._parts.escapeQuerySpace),t)if(a.call(t,s)){if(l(t[s])){if(!p(t[s],r[s]))return!1}else if(t[s]!==r[s])return!1;d[s]=!0}for(s in r)if(a.call(r,s)&amp;&amp;!d[s])return!1;return!0},s.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},s.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},s.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i})},function(e,t,r){var o=r(10),n=r(29),i=r(1),s=r(0),a=r(28),u={headers:{Authorization:i.apiAuthHeader()}},c=(s.getTimestamp(),new a(18e4)),l=new a(18e4),d=new a(6e4),h=new a(36e5),p=new a(36e5),f=new a(36e5),g=new a(6e4),m={login:function(e,t){var r=i.apiBase+&quot;user/find&quot;,o={email:e,password:t};return n.post(r,o,u)},cookieLogin:function(e){var t=i.apiBase+&quot;extension/cookieLogin&quot;,r={deviceSecurityCode:e};return n.post(t,r,u)},cookieLogout:function(){var e=i.apiBase+&quot;extension/cookieLogout&quot;;return n.post(e,{},u)},getState:function(e){e=e||{};var t=i.apiBase+&quot;user/state?cb=&quot;+s.getTimestamp(),r=g.get(&quot;userState&quot;);return r&amp;&amp;e.useCache?Promise.resolve(r):n.get(t,u).then(function(e){return g.set(&quot;userState&quot;,e),e})},getSerpRules:function(){var e=i.apiBase+&quot;serp/rules?cb=&quot;+s.getDayAndYear(),t=f.get(&quot;serpRules&quot;);return t?Promise.resolve(t):n.get(e,u).then(function(e){return f.set(&quot;serpRules&quot;,e.rules),e.rules})},listUserStores:function(e){const t=`${i.apiBaseV2}user/stores`,r={deviceSecurityCode:e};return n.post(t,r,u).then(e=&gt;e.stores)},listPopularStores:function(e){var t=i.apiBase+&quot;store/popular?includeFavourites=true&quot;,r={deviceSecurityCode:e};return n.post(t,r,u).then(function(e){return e.popularStores})},listAccountOptions:function(e){var t=i.apiBase+&quot;user/listAccountOptions&quot;,r={deviceSecurityCode:e};return n.post(t,r,u).then(function(e){for(var t=[],r=0;r&lt;e.accountOptions.length;r++){var o=e.accountOptions[r];&quot;Review app&quot;!==o.name&amp;&amp;t.push(o)}return t})},listFavouriteStores:function(e){var t=i.apiBase+&quot;favourite/list&quot;,r={deviceSecurityCode:e};return n.post(t,r,u).then(function(e){return e.stores})},addFavouriteStore:function(e,t){var r=i.apiBase+&quot;favourite/add&quot;,o={deviceSecurityCode:e,storeId:t};return n.post(r,o,u)},removeFavouriteStore:function(e,t){var r=i.apiBase+&quot;favourite/remove&quot;,o={deviceSecurityCode:e,storeId:t};return n.post(r,o,u)},findStoreByQuery:function(e,t){var r=i.apiBase+&quot;store/findByQuery?includeFavourites=true&quot;,o={deviceSecurityCode:e,query:t};return n.post(r,o,u).then(function(e){return e.stores})},findStoreByUrl:function(e,t){var r=i.apiBase+&quot;store/findByUrl&quot;,a=s.getLastItem(t);if(!a)return console.warn(&quot;WARN: No URL found in the URL list.&quot;),Promise.reject(s.createError(&quot;no_navigated_urls&quot;));var l=o(a),d=c.get(l.host());if(d)return Promise.resolve(d);var h={deviceSecurityCode:e,url:t,domain:l.domain(),host:l.host(),searchType:&quot;I&quot;};return n.post(r,h,u).then(function(e){return c.set(l.host(),e),e})},findStoreByUrlAnonymous:function(e){var t=i.apiBase+&quot;store/findByUrlAnonymous?version=&quot;+i.version(),r=s.getLastItem(e);if(!r)return console.warn(&quot;WARN: No URL found in the URL list.&quot;),Promise.reject(s.createError(&quot;no_navigated_urls&quot;));var a=o(r),c=l.get(a.host());if(c)return Promise.resolve(c);var d={url:e,domain:a.domain(),host:a.host(),searchType:&quot;A&quot;};return n.post(t,d,u).then(function(e){return l.set(a.host(),e),e})},findSimilarStores:function(e,t){var r=i.apiBase+&quot;stores/similar?includeFavourites=true&quot;,o={deviceSecurityCode:e,storeId:t},s=d.get(t);return s?Promise.resolve(s):n.post(r,o,u).then(function(e){return d.set(t,e),e})},getUrlBlacklist:function(){var e=i.apiBase+&quot;urlBlacklist/&quot;,t=h.get(&quot;blacklist&quot;);return t?Promise.resolve(t):n.get(e,u).then(function(e){return h.set(&quot;blacklist&quot;,e),e})},getAds:function(){var e=i.apiBase+&quot;urlBlacklist/&quot;,t=p.get(&quot;ads&quot;);return t?Promise.resolve(t):n.get(e,u).then(function(e){return p.set(&quot;ads&quot;,e.ads),e.ads})},checkSerpUrls:function(e){var t=i.gaylUrl+&quot;/toolbar/find?version=&quot;+i.version();return n.post(t,e,{headers:{}})},getReferAFriendMetaData:function(){var e=`${i.apiBaseV2}refer/get-metadata`;return n.get(e,u)}};e.exports=m},function(e,t){e.exports={TRACKING:&quot;TRACKING&quot;,TRACKED:&quot;TRACKED&quot;,BLANK:&quot;BLANK&quot;,NOT_SUPPORTED:&quot;NOT_SUPPORTED&quot;}},function(e,t){e.exports=function(){&quot;undefined&quot;!=typeof safari?safari.extension.popovers[0].hide():window.close()}},function(e,t,r){var o,n;",
            "file": "popup.bundle.js"
        },
        {
            "comment": "*/*&quot;,&quot;https://*/*&quot;]},function(t){console.log(&quot;hasPermission? &quot;+t),e&amp;&amp;e(t)}.bind(this))}},function(e,t,r){var o=r(10),{isClickthrough:n,isGiveasyouLiveEmail:i}=r(0);function s(){this.urls=[],this.oldUrls=[]}s.prototype.push=function(e){this.urls.push(new function(e){var t=o(e);this.url=e,this.domain=t.domain(),this.host=t.host()}(e))},s.prototype.last=function(){return this.urls[this.urls.length-1]||null},s.prototype.first=function(){return this.urls[0]||null},s.prototype.currentUrls=function(e){return e?this.urls.map(function(e){return e.url}):this.urls},s.prototype.clear=function(){this.oldUrls=this.urls,this.urls=[]},s.prototype.isEmpty=function(){return 0===this.urls.length},s.prototype.wasDirectClick=function(){return this.firstWasClickthrough()||this.firstWasEmail()&amp;&amp;this.wasClickthrough(1)},s.prototype.firstWasClickthrough=function(){var e=this.first();return!!(e&amp;&amp;e.url&amp;&amp;n(e.url))},s.prototype.wasClickthrough=function(e){if(e&gt;=this.urls.length)return!1;var t=this.urls[e];return n(t.url)},s.prototype.firstWasEmail=function(){var e=this.first();return!!(e&amp;&amp;e.url&amp;&amp;i(e.url))},s.prototype.contains=function(e){for(var t=0;t&lt;this.urls.length;t++){if(this.urls[t].url===e)return!0}return!1},s.prototype.log=function(){console.log(&quot;Navigation URLS:&quot;),this.currentUrls(!0).forEach(function(e){console.log(&quot;- &quot;+e)})},e.exports=s},function(e,t,r){var{dom:o,img:n}=r(0);e.exports=function(e){e=e||{};var t=o(&quot;div&quot;,[&quot;loading&quot;,&quot;js-loading&quot;]),r=n(&quot;../images/loading.gif&quot;,e.loadingText||&quot;&quot;,&quot;loading__image&quot;);return t.appendChild(r),e.noText||t.appendChild(o(&quot;p&quot;,&quot;loading__text&quot;,e.loadingText||&quot;Loading...&quot;)),t}},function(e,t,r){var{isString:o,getTimestamp:n}=r(0),i=1e4;function s(e){this.expiryTimeMs=e||i,this.entries={}}s.prototype.get=function(e){var t=this.entries[e];return t?n()-t._added&gt;=this.expiryTimeMs?(this.remove(e),null):t:null},s.prototype.set=function(e,t){if(!e)throw new Error(&quot;Cache.set called without a key.&quot;);if(!t)throw new Error(&quot;Cache.set called without a value.&quot;);if(o(t))throw console.log(t),new Error(&quot;Cache.set doesn&#39;t support strings as values.&quot;);t._added=n(),this.entries[e]=t},s.prototype.remove=function(e){delete this.entries[e]},e.exports=s},function(e,t,r){var o=r(3),n=r(1),i=200,s={get:function(e,t){return a(&quot;GET&quot;,e,{},t||{})},post:function(e,t,r){return a(&quot;POST&quot;,e,t||{},r||{})}};function a(e,t,r,s){r=r||{},e=e||&quot;GET&quot;,s=s||{};var a=0;return new Promise(function(u,c){a=Date.now();var l=new XMLHttpRequest;l.onreadystatechange=function(){!function(e,t,r,n,s,a){if(t.readyState===XMLHttpRequest.DONE)console.log(`Request (status:${t.status}) &#39;${e}&#39; took ${Date.now()-a}ms`),t.status===i?function(e,t,r,o){if(o.dataType&amp;&amp;&quot;json&quot;!==o.dataType)t(e.responseText);else try{t(JSON.parse(e.responseText))}catch(r){t(e.responseText)}}(t,r,0,s):function(e,t,r){0===e.status?r({statusCode:e.status,message:&quot;Request timed out.&quot;,type:&quot;http_error_timeout_or_cancelled&quot;}):r({statusCode:e.status,message:function(e){var t=o.GENERIC_ERROR_MESSAGE;try{var r=JSON.parse(e.responseText),n=r.errors;n&amp;&amp;n.length&gt;0&amp;&amp;(t=o.API_ERROR_MESSAGES[n[0].error_code])}catch(r){(t=o.REQUEST_ERROR_MESSAGES[e.status])||console.warn(&quot;No message found for status code&quot;,e.status)}return t}(e),type:&quot;api_error&quot;})}(t,0,n)}(t,l,u,c,s,a)},l.open(e,t),l.timeout=s.timeout||n.requestTimeoutMs,function(e,t){if(!t)return;for(var r in t)e.setRequestHeader(r,t[r]);e.setRequestHeader(&quot;Content-Type&quot;,&quot;application/json; charset=UTF-8&quot;)}(l,s.headers),&quot;GET&quot;===l.type?l.send():l.send(JSON.stringify(r))})}e.exports=s},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,&quot;loaded&quot;,{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,&quot;id&quot;,{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r;&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.windows&amp;&amp;(r=chrome.windows),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.windows&amp;&amp;(r=browser.windows),r||(r={onFocusChanged:{addListener:function(e){}}}),e.exports=r},function(e,t){var r;&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.webNavigation&amp;&amp;(r=chrome.webNavigation),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.webNavigation&amp;&amp;(r=browser.webNavigation),r||(r={onCommitted:{addListener:function(e){safari.application.addEventListener(&quot;navigate&quot;,function(t){void 0!==t.target.url&amp;&amp;e({frameId:0,tabId:t.target,url:t.target.url})})}}}),e.exports=r},function(e,t){var r;&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.webRequest&amp;&amp;(r=chrome.webRequest),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.webRequest&amp;&amp;(r=browser.webRequest),r||(r={onBeforeRequest:{addListener:function(e){safari.application.addEventListener(&quot;beforeNavigate&quot;,function(t){null!==t.url&amp;&amp;e({tabId:t.target,url:t.url})})}},onBeforeRedirect:{addListener:function(e){}}}),e.exports=r},function(e,t){var r;&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.browserAction&amp;&amp;(r=chrome.browserAction),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.browserAction&amp;&amp;(r=browser.browserAction),r||(r={setIcon(e){var t=e.path[16];if(t){var r=safari.extension.baseURI+t;safari.extension.toolbarItems.forEach(function(e){e.image=r})}else console.warn(&quot;No 16x16 image provided for browserAction.setIcon&quot;)}}),e.exports=r},function(e,t,r){var{dom:o,img:n,text:i}=r(0),s=r(1),a=r(22);e.exports=function(e){var t=o(&quot;div&quot;,[&quot;js-store-result&quot;,&quot;store-result&quot;]);t.setAttribute(&quot;data-url&quot;,e.url);var r=n(s.gaylUrl+e.logo,e.name,&quot;store-result__logo&quot;),u=o(&quot;p&quot;,&quot;store-result__name&quot;),c=o(&quot;span&quot;,&quot;store-result__donation&quot;,&quot;Raise up to &quot;+e.max);u.appendChild(i(e.name)),u.appendChild(c);var l=o(&quot;div&quot;,[&quot;js-store-favourite&quot;,&quot;store-result__favourite&quot;,&quot;store-result__favourite--&quot;+e.isFavourite]);return l.setAttribute(&quot;data-store-id&quot;,e.id),l.setAttribute(&quot;data-is-favourite&quot;,e.isFavourite),l.appendChild(a(e.isFavourite)),t.appendChild(r),t.appendChild(u),t.appendChild(l),t}},function(e,t){e.exports=function(){return&quot;undefined&quot;!=typeof safari?safari.extension.globalPage.contentWindow.gaylExtension:&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.extension?chrome.extension.getBackgroundPage().gaylExtension:browser.extension.getBackgroundPage().gaylExtension}},,,,,,,,,,,,function(e,t,r){var o=r(0).forEach,n=&quot;tabs__item--active&quot;;e.exports=class{constructor(e){this.ui={container:document.querySelector(&quot;.js-tabs&quot;),allTabs:document.querySelectorAll(&quot;.js-tab&quot;),allContent:document.querySelectorAll(&quot;.js-tab-content&quot;)},this.options=e||{},this.onSelectTabCallback=this.options.onSelectTab||function(){},this.activeTabId=null,this.bindEventHandlers()}bindEventHandlers(){this.ui.container.addEventListener(&quot;click&quot;,this.onSelectTab.bind(this))}onSelectTab(e){var t=e.target;if(t.classList.contains(&quot;js-tab&quot;)){if(t.getAttribute(&quot;data-target&quot;)===this.activeTabId)return;this.deactivateAll(),t.classList.add(n);var r=t.getAttribute(&quot;data-target&quot;),o=t.getAttribute(&quot;data-view&quot;),i=document.querySelector(r);this.activeTabId=r,i.style.display=&quot;block&quot;,this.onSelectTabCallback(o),console.log(`Tab ID: &#39;${r}&#39;, View: &#39;${o}&#39;`)}}activateTab(e){o(this.ui.allTabs,function(t){t.getAttribute(&quot;data-target&quot;)===e&amp;&amp;t.click()})}deactivateAll(){o(this.ui.allTabs,function(e){e.classList.remove(n)}),o(this.ui.allContent,function(e){e.style.display=&quot;none&quot;})}}},function(e,t){const r=&quot;https://facebook.com/sharer/sharer.php&quot;,o=&quot;https://instagram.com&quot;,n=&quot;https://twitter.com/intent/tweet&quot;;e.exports=function(e,t){if(console.log(`Generating share URL for &#39;${e}&#39; from URL: ${t.url}`),!t||!t.url)throw new Error(&quot;URL not provided, cannot generate URL.&quot;);switch(e){case&quot;email&quot;:if(!t.subject||!t.body)throw new Error(&quot;Subject or body text not provided for sharing by email.&quot;);return`mailto:?subject=${encodeURIComponent(t.subject)}&amp;body=${encodeURIComponent(t.body)}`;case&quot;facebook&quot;:return`${r}?u=${t.url}`;case&quot;instagram&quot;:return o;case&quot;twitter&quot;:if(!t.body)throw new Error(&quot;Body text not provided for sharing by Twitter.&quot;);return`${n}?url=${t.url}&amp;text=${encodeURIComponent(t.body)}`;default:throw new Error(`Unsupported platform: ${e}`)}}},function(e,t,r){const{forEach:o,removeChildren:n,text:i}=r(0),s=r(11),a=r(49),u=r(9),c=r(8);e.exports=class{constructor(e){e=e||{},this.ui={causeNameContainer:document.querySelector(&quot;.js-refer-a-friend-content .js-cause-name&quot;),contentContainer:document.querySelector(&quot;.js-refer-a-friend-content&quot;),copyBtn:document.querySelector(&quot;.js-copy-refer-url-btn&quot;),copySuccessContainer:document.querySelector(&quot;.js-copy-refer-url-success&quot;),loadingContainer:document.querySelector(&quot;.js-refer-a-friend-loading&quot;),socialBtns:document.querySelectorAll(&quot;.js-social-btn&quot;),urlInput:document.querySelector(&quot;.js-refer-url-input&quot;)},this.activeTab=e.activeTab,this.referralMetaData=null,this.bindEvents()}bindEvents(){this.ui.copyBtn.addEventListener(&quot;click&quot;,this.onClickCopyUrlBtn.bind(this)),o(this.ui.socialBtns,e=&gt;{e.addEventListener(&quot;click&quot;,this.onClickSocialBtn.bind(this))})}load(){return this.getPanelData().then(this.render.bind(this)).catch(e=&gt;{console.log(&quot;Failed to fetch panel data.&quot;)})}render(e){console.log(&quot;Rendering the refer a friend tab with URL:&quot;,e);const t=e[0],r=e[1];this.referralMetaData=r,this.ui.loadingContainer.style.display=&quot;none&quot;,n(this.ui.causeNameContainer),this.ui.causeNameContainer.appendChild(i(t.name)),this.ui.urlInput.value=r.url,this.ui.contentContainer.style.display=&quot;block&quot;}getPanelData(){return Promise.all([u.get([&quot;cause&quot;]).then(e=&gt;e.cause),s.getReferAFriendMetaData()])}onClickCopyUrlBtn(e){console.log(&quot;Clicked copy URL button&quot;),console.log(&quot;This link needs to be copied: &quot;,this.referralMetaData),this.copyReferralLinkToClipboard(),this.showCopySuccess()}copyReferralLinkToClipboard(){this.ui.urlInput.select(),document.execCommand(&quot;copy&quot;)}showCopySuccess(){this.ui.copySuccessContainer.style.opacity=1,this.ui.copySuccessContainer.style.height=&quot;40px&quot;,setTimeout(()=&gt;{this.ui.copySuccessContainer.style.opacity=0,setTimeout(()=&gt;{this.ui.copySuccessContainer.style.height=0},100)},3e3)}onClickSocialBtn(e){const t=e.target.getAttribute(&quot;data-platform&quot;),r=&quot;twitter&quot;===t?this.referralMetaData.shareTextTwitter:this.referralMetaData.shareText,o=a(t,{body:r,subject:this.referralMetaData.shareTitle,url:this.referralMetaData.url});c({tabId:this.activeTab.id,url:o,closePopup:!0})}}},function(e,t,r){var o=r(3),n=r(35),{dom:i}=r(0);e.exports=function(e){var t=i(&quot;div&quot;),r=i(&quot;p&quot;,[&quot;current-store__title&quot;],&quot;Similar stores&quot;);return t.appendChild(r),e.stores.length?e.stores.forEach(function(e){t.appendChild(n(e))}):t.appendChild(i(&quot;span&quot;,&quot;no-results&quot;,o.POPUP_NO_SIMILAR_STORES)),t}},function(e,t,r){var{dom:o,img:n,text:i}=r(0),s=r(12),a=r(1),u=r(20),c=r(22);e.exports=function(e){var t=e.tab.status!==s.BLANK&amp;&amp;e.tab.status!==s.NOT_SUPPORTED,r=o(&quot;div&quot;,[&quot;current-store&quot;]);t?r.classList.add(&quot;current-store--activated&quot;):r.classList.add(&quot;current-store--inactive&quot;);var l=o(&quot;p&quot;,&quot;current-store__title&quot;,&quot;Current store&quot;),d=o(&quot;div&quot;,[&quot;current-store__bg&quot;,&quot;breakout&quot;]),h=o(&quot;div&quot;,[&quot;current-store__start&quot;]),p=o(&quot;div&quot;,[&quot;current-store__middle&quot;]),f=o(&quot;div&quot;,[&quot;current-store__end&quot;]);h.appendChild(n(a.gaylUrl+e.tab.currentStore.logo,e.tab.currentStore.name+&quot; logo.&quot;,&quot;current-store__logo&quot;));var g=o(&quot;p&quot;,[&quot;current-store__name&quot;,&quot;no-margin&quot;],e.tab.currentStore.name),m=o(&quot;span&quot;,&quot;current-store__upto&quot;,&quot;Raise up to &quot;+e.tab.currentStore.max);g.appendChild(m);var v=o(&quot;div&quot;,&quot;current-store__actions&quot;),b=o(&quot;button&quot;,[&quot;btn&quot;,&quot;btn-sm&quot;,&quot;btn-default&quot;,&quot;btn-tight&quot;,&quot;js-current-store-details&quot;],&quot;Details&quot;);b.appendChild(i(&quot; &quot;)),b.appendChild(u());var y=o(&quot;button&quot;,[&quot;btn&quot;,&quot;btn-sm&quot;,&quot;btn-primary&quot;,&quot;btn-tight&quot;,&quot;js-current-store-turn-on&quot;],&quot;Turn on&quot;);y.appendChild(i(&quot; &quot;)),y.appendChild(u()),t||(v.appendChild(y),v.appendChild(i(&quot; &quot;))),v.appendChild(b),p.appendChild(g),p.appendChild(v);var S=o(&quot;div&quot;,[&quot;js-store-favourite&quot;,&quot;store-result__favourite&quot;,&quot;store-result__favourite--&quot;+e.currentStore.isFavourite]);S.setAttribute(&quot;data-store-id&quot;,e.currentStore.id),S.setAttribute(&quot;data-is-favourite&quot;,e.currentStore.isFavourite),S.appendChild(c(e.currentStore.isFavourite)),f.appendChild(S);var _=o(&quot;div&quot;,[&quot;current-store__details&quot;,&quot;breakout&quot;,&quot;js-current-store-details-info&quot;,&quot;is-hidden&quot;]),w=o(&quot;ul&quot;,[&quot;store-detail-tabs&quot;,&quot;list-unstyled&quot;]),C=o(&quot;li&quot;,[&quot;store-detail-tabs__item&quot;,&quot;text-center&quot;,&quot;store-detail-tabs__item--active&quot;,&quot;js-current-store-details-tab&quot;],&quot;Store rates&quot;);C.setAttribute(&quot;data-target&quot;,&quot;.js-current-store-details-tab-rates-content&quot;);var E=o(&quot;li&quot;,[&quot;store-detail-tabs__item&quot;,&quot;text-center&quot;,&quot;js-current-store-details-tab&quot;],&quot;Store terms&quot;);E.setAttribute(&quot;data-target&quot;,&quot;.js-current-store-details-tab-terms-content&quot;);var k=o(&quot;div&quot;,[&quot;store-detail-tab-content&quot;,&quot;breakout-reset&quot;,&quot;js-current-store-details-tab-content&quot;,&quot;js-current-store-details-tab-rates-content&quot;]),A=o(&quot;ul&quot;,[&quot;store-rates-list&quot;,&quot;list-unstyled&quot;]);e.currentStore.commission.forEach(function(e){var t=o(&quot;li&quot;,&quot;store-rates-list__item&quot;);t.appendChild(o(&quot;span&quot;,&quot;store-rates-list__item__category&quot;,e.category)),t.appendChild(o(&quot;span&quot;,&quot;store-rates-list__item__rate&quot;,e.value)),A.appendChild(t)}),k.appendChild(A);var P=o(&quot;div&quot;,[&quot;store-detail-tab-content&quot;,&quot;breakout-reset&quot;,&quot;js-current-store-details-tab-content&quot;,&quot;js-current-store-details-tab-terms-content&quot;]);P.setAttribute(&quot;style&quot;,&quot;display:none;&quot;);var T=o(&quot;p&quot;,&quot;store-terms&quot;,e.currentStore.terms);return P.appendChild(T),r.appendChild(l),d.appendChild(h),d.appendChild(p),d.appendChild(f),r.appendChild(d),w.appendChild(C),w.appendChild(E),_.appendChild(w),_.appendChild(P),_.appendChild(k),r.appendChild(_),r}},function(e,t,r){var o=r(3),n=r(35),{dom:i,text:s}=r(0);e.exports=function(e){var t=i(&quot;div&quot;);if(e.stores.length)e.stores.forEach(function(e){t.appendChild(n(e))});else{var r=function(e,t){var r=i(&quot;span&quot;,&quot;no-results&quot;),o=e.split(&quot;$$query$$&quot;),n=o[0],a=o[1];return n&amp;&amp;r.appendChild(s(n)),r.appendChild(i(&quot;strong&quot;,[],t)),a&amp;&amp;r.appendChild(s(a)),r}(o.POPUP_NO_SEARCH_RESULTS,e.query);t.appendChild(r)}return t}},function(e,t,r){var o=r(1),n=r(9),i=r(11),s=r(13),a=(r(2),r(21).BrowserTab,r(3)),{toBoolean:u,markFavourites:c,removeChildren:l}=r(0),{MessageSubject:d,Message:h}=r(6),p=r(36),f=r(24),g=r(23),m=r(53),v=r(27),b=r(52),y=r(51),S=r(22),_=&quot;similar&quot;,w=&quot;popular&quot;,C=&quot;js-current-store-details&quot;,E=&quot;js-current-store-turn-on&quot;,k=&quot;js-current-store-details-tab&quot;,A=&quot;js-current-store-details-tab-content&quot;,P=&quot;store-detail-tabs__item--active&quot;,T=&quot;js-store-favourite&quot;;e.exports=class{constructor(e){e=e||{},this.deviceSecurityCode=e.deviceSecurityCode,this.storage=n,this.api=i,this.lastQuery=null,this.query=null,this.activeTab=e.activeTab,this.subView=w,this.subViewContainer=null,this.ui={currentStore:document.querySelector(&quot;.js-current-store&quot;),similarStores:document.querySelector(&quot;.js-similar-stores&quot;),popularStoreSearch:{wrapper:document.querySelector(&quot;.js-store-search-popular&quot;)},similarStoreSearch:{wrapper:document.querySelector(&quot;.js-store-search-similar&quot;),back:document.querySelector(&quot;.js-store-search-back&quot;)},subviews:{similar:document.querySelector(&quot;.js-subview-similar&quot;),popular:document.querySelector(&quot;.js-subview-popular&quot;)},loading:document.querySelector(&quot;.js-subviews-loading&quot;)},this.ui.popularStoreSearch.form=this.ui.popularStoreSearch.wrapper.querySelector(&quot;.js-store-search&quot;),this.ui.popularStoreSearch.results=this.ui.popularStoreSearch.wrapper.querySelector(&quot;.js-store-search-results&quot;),this.ui.similarStoreSearch.form=this.ui.similarStoreSearch.wrapper.querySelector(&quot;.js-store-search&quot;),this.ui.similarStoreSearch.results=this.ui.similarStoreSearch.wrapper.querySelector(&quot;.js-store-search-results&quot;),this.bindEventHandlers()}bindEventHandlers(){this.ui.similarStoreSearch.results.addEventListener(&quot;click&quot;,this.onClickStoreResult.bind(this)),this.ui.similarStores.addEventListener(&quot;click&quot;,this.onClickStoreResult.bind(this)),this.ui.similarStoreSearch.form.addEventListener(&quot;submit&quot;,this.onSubmitSearchForm.bind(this)),this.ui.similarStoreSearch.back.addEventListener(&quot;click&quot;,this.onClickSearchBackButton.bind(this)),this.ui.popularStoreSearch.results.addEventListener(&quot;click&quot;,this.onClickStoreResult.bind(this)),this.ui.popularStoreSearch.form.addEventListener(&quot;submit&quot;,this.onSubmitSearchForm.bind(this)),this.ui.currentStore.addEventListener(&quot;click&quot;,this.onClickCurrentStore.bind(this))}load(){return console.log(&quot;Loading data for store tab.&quot;,this.activeTab),this.activeTab.hasStore&amp;&amp;this.activeTab.hasStore()?this.subView=_:this.subView=w,this.subViewContainer=this.ui.subviews[this.subView],this.hideAllSubViews(),this.showSubViewLoading(),(this.subView===_?this.loadSimilarSubViewData.bind(this):this.loadPopularSubViewData.bind(this))().then(this.render.bind(this))}hideAllSubViews(){for(var e in this.ui.subviews)this.ui.subviews[e].style.display=&quot;none&quot;}showSubViewLoading(){l(this.ui.loading),this.ui.loading.appendChild(v({loadingText:this.subView===_?a.POPUP_LOADING_SIMILAR_STORES:a.POPUP_LOADING_POPULAR_STORES}))}loadSimilarSubViewData(){return Promise.all([this.getFavouriteStores(),this.getDetailedStoreInfo(this.activeTab.currentStore.id)])}loadPopularSubViewData(){return Promise.all([this.getFavouriteStores(),this.getPopularStores()])}render(e){l(this.ui.loading),this.subViewContainer.style.display=&quot;block&quot;,this.subView===_?this.renderActiveStoreWithSimilar(e):this.renderPopularStores(e)}renderPopularStores(e){console.log(&quot;Rendering popular stores.&quot;);var t=e[0],r=e[1];c(r,t),l(this.ui.popularStoreSearch.results),this.ui.popularStoreSearch.results.appendChild(m({stores:r,query:this.query}))}renderActiveStoreWithSimilar(e){console.log(&quot;Rendering active store / similar stores&quot;);var t=e[0],r=e[1].currentStore,o=e[1].similarStores;c(o,t),c([r],t),l(this.ui.currentStore),this.ui.currentStore.appendChild(b({tab:this.activeTab,currentStore:r})),l(this.ui.similarStores),this.ui.similarStores.appendChild(y({stores:o}))}onClickSearchBackButton(e){e.preventDefault(),console.log(&quot;Clicked the back button, lets send them back.&quot;),this.ui.similarStoreSearch.back.style.display=&quot;none&quot;,this.subViewContainer.querySelector(&quot;.js-store-search-input&quot;).value=&quot;&quot;,this.handleNoSearchPerformed(null,this.subViewContainer.querySelector(&quot;.js-store-search-results&quot;))}onClickCurrentStore(e){var t=e.target;return t.classList.contains(C)?this.onClickCurrentStoreDetails(e):t.classList.contains(E)?this.onClickCurrentStoreTurnOn(e):t.classList.contains(k)?this.onClickCurrentStoreTab(e):t.classList.contains(T)?this.onClickCurrentStoreFavourite(e):(console.warn(&quot;Couldnt tie this click to an event handler...ignoring.&quot;),void e.preventDefault())}onClickCurrentStoreFavourite(e){this.onClickFavouriteStar(e)}onClickCurrentStoreDetails(e){e.preventDefault(),console.log(&quot;Clicked current store details.&quot;),this.ui.currentStore.querySelector(&quot;.js-current-store-details-info&quot;).classList.toggle(&quot;is-hidden&quot;)}onClickCurrentStoreTurnOn(e){e.preventDefault();var t=this.activeTab.id;console.log(&quot;Sending messge to the active tab:&quot;,t);var r=p(),o=new h(d.RETAILER_CONFIRM,{extensionSource:g.SIDEBAR_TURNON});r.onMessage(o,{id:&quot;synthetic&quot;},function(){}),s()}onClickCurrentStoreTab(e){e.preventDefault();var t=e.target;console.log(&quot;Clicked the tabs&quot;,t);var r=Array.from(this.ui.currentStore.querySelectorAll(`.${k}`)),o=Array.from(this.ui.currentStore.querySelectorAll(`.${A}`));r.forEach(function(e){e.classList.remove(P)}),o.forEach(function(e){e.style.display=&quot;none&quot;});var n=this.ui.currentStore.querySelector(t.getAttribute(&quot;data-target&quot;));t.classList.add(P),n.style.display=&quot;block&quot;}onClickStoreResult(e){var t=e.target;if(console.log(&quot;User clicked.&quot;),t.classList.contains(&quot;js-store-favourite&quot;))this.onClickFavouriteStar(e);else{for(;!t.classList.contains(&quot;js-store-result&quot;);)t=t.parentNode;f({tabId:this.activeTab.id,url:o.gaylUrl+t.getAttribute(&quot;data-url&quot;),source:g.SIDEBAR,closePopup:!0})}}onClickFavouriteStar(e){var t=e.target,r=(e.currentTarget,{id:parseInt(t.getAttribute(&quot;data-store-id&quot;),10),isFavourite:u(t.getAttribute(&quot;data-is-favourite&quot;))});t.classList.toggle(&quot;store-result__favourite--true&quot;),t.setAttribute(&quot;data-is-favourite&quot;,!r.isFavourite),l(t),t.appendChild(S(!r.isFavourite)),this.toggleFavourite(r)}beforeSearchRequest(e){this.subView===_&amp;&amp;(this.ui.currentStore.style.display=&quot;none&quot;,this.ui.similarStores.style.display=&quot;none&quot;)}onSubmitSearchForm(e){e.preventDefault();var t=encodeURIComponent(this.subViewContainer.querySelector(&quot;.js-store-search-input&quot;).value)||&quot;&quot;,r=this.subViewContainer.querySelector(&quot;.js-store-search-results&quot;);if(console.log(&quot;Submitted a search with query: &#39;&quot;+t+&quot;&#39;.&quot;),this.lastQuery=this.query,this.query=t,null!==this.lastQuery||&quot;&quot;!==this.query)if(this.lastQuery!==this.query){this.beforeSearchRequest(),l(r),r.appendChild(v({loadingText:a.POPUP_LOADING_STORE_SEARCH}));var o=this.subView===w,n=this;this.findStoreByQuery(this.query,o).then(function(e){null===e?n.handleNoSearchPerformed(e,r):n.handleSearchPerformed(e,r),n.subView===_&amp;&amp;(n.ui.similarStoreSearch.back.style.display=&quot;block&quot;)})}else console.log(&quot;User has already searched for &#39;&quot;+this.query+&quot;&#39;, doing nothing.&quot;);else console.log(&quot;User not searching for anything, doing nothing.&quot;)}handleNoSearchPerformed(e,t){this.ui.currentStore.style.display=&quot;block&quot;,this.ui.similarStores.style.display=&quot;block&quot;,this.ui.similarStoreSearch.back.style.display=&quot;none&quot;,l(t)}handleSearchPerformed(e,t){l(t),t.appendChild(m({stores:e,query:this.query}))}findStoreByQuery(e,t){var r=this.findStore.bind(this);return e||t?(e||(r=this.getPopularStores.bind(this)),r(e)):Promise.resolve(null)}findStore(e){return this.api.findStoreByQuery(this.deviceSecurityCode,e)}getDetailedStoreInfo(e){return this.api.findSimilarStores(this.deviceSecurityCode,e)}getFavouriteStores(){return this.api.listFavouriteStores(this.deviceSecurityCode)}getPopularStores(){return this.api.listUserStores(this.deviceSecurityCode)}toggleFavourite(e){return(e.isFavourite?this.api.removeFavouriteStore:this.api.addFavouriteStore)(this.deviceSecurityCode,e.id)}}},function(e,t,r){var o=r(3),{dom:n}=r(0);e.exports=function(e){if(e){var t=n(&quot;div&quot;);if(e.accountOptions&amp;&amp;e.accountOptions.length&gt;0)e.accountOptions.forEach(function(e){var r=n(&quot;div&quot;,[&quot;js-account-option&quot;,&quot;account-options__option&quot;],e.name);r.setAttribute(&quot;data-command&quot;,e.command),r.setAttribute(&quot;data-url&quot;,e.url),r.setAttribute(&quot;style&quot;,&quot;background-image: url(&quot;+e.iconImageUrl+&quot;?v=1);&quot;),t.appendChild(r)});else{var r=n(&quot;p&quot;,&quot;failed-to-load-message&quot;,o.ERROR_ACCOUNT_OPTION_LOAD);t.appendChild(r)}return t}}},function(e,t,r){r(1);var o=r(11),n=r(3),i=r(0).removeChildren,s=(r(2),r(9)),a=r(8),u=r(55),c=r(27),l=&quot;OPEN_LINK&quot;;e.exports=class{constructor(e){e=e||{},this.activeTab=e.activeTab,this.deviceSecurityCode=e.deviceSecurityCode,this.onLogoutCallback=e.onLogout||function(){},this.ui={logout:document.querySelector(&quot;.js-account-logout&quot;),optionsContainer:document.querySelector(&quot;.js-account-options&quot;)},this.bindEventHandlers()}bindEventHandlers(){this.ui.optionsContainer.addEventListener(&quot;click&quot;,this.onClickAccountOption.bind(this)),this.ui.logout.addEventListener(&quot;click&quot;,this.onLogoutAttempt.bind(this))}load(){return i(this.ui.optionsContainer),this.ui.optionsContainer.appendChild(c({loadingText:n.POPUP_LOADING_ACCOUNT_OPTIONS})),this.getAccountOptions().then(this.render.bind(this))}getAccountOptions(){return o.listAccountOptions(this.deviceSecurityCode).catch(e=&gt;[])}render(e){i(this.ui.optionsContainer),this.ui.optionsContainer.appendChild(u({accountOptions:e}))}onLogoutAttempt(e){e.preventDefault(),console.log(&quot;Attempted log out&quot;),o.cookieLogout().then(s.clear.bind(this)).then(()=&gt;{this.onLogoutCallback()})}onClickAccountOption(e){var t=e.target;if(t.classList.contains(&quot;js-account-option&quot;)){var r=t.getAttribute(&quot;data-command&quot;),o=t.getAttribute(&quot;data-url&quot;);switch(r){case l:a({tabId:this.activeTab.id,url:o,closePopup:!0});break;default:console.log(&quot;Unknown command: &quot;+r)}}e.preventDefault()}}},function(e,t,r){const{browserAction:o}=r(19),{ERROR_TIMEOUT_POPUP:n}=r(3),{forEach:i,getGaylUrl:s,isClickthrough:a,removeChildren:u,text:c,truncateCauseName:l}=r(0),{Message:d,MessageSubject:h}=r(6),p=(r(66),r(56)),f=(r(21).BrowserTab,r(25)),g=r(1),m=r(11),v=r(4),b=r(36),y=r(27),S=r(3),_=r(9),w=r(54),C=r(50),E=r(48),k=r(8),A=&quot;account&quot;,P=&quot;favourites&quot;,T=&quot;refer-a-friend&quot;,R=&quot;stores&quot;;window.extensionPopup=new class{constructor(){this.user=null,this.cause=null,this.deviceSecurityCode=null,this.activeTab=null,this.accountPanel=null,this.favouritePanel=null,this.referAFriendPanel=null,this.storesPanel=null,this.ui={root:document.querySelector(&quot;.popup&quot;),pages:document.querySelectorAll(&quot;.js-page&quot;),login:{container:document.getElementById(&quot;login&quot;),form:document.querySelector(&quot;.js-login&quot;),email:document.querySelector(&quot;.js-login-email&quot;),password:document.querySelector(&quot;.js-login-password&quot;),errorMessage:document.querySelector(&quot;.js-login-error&quot;),submit:document.querySelector(&quot;.js-submit&quot;),loading:document.querySelector(&quot;.js-login-loading&quot;)},account:{container:document.getElementById(&quot;account&quot;),name:document.querySelector(&quot;.js-name&quot;),causeName:document.querySelector(&quot;.js-account-header .js-cause-name&quot;)},permission:{container:document.getElementById(&quot;permission&quot;),enableUrl:document.querySelector(&quot;.js-permissions&quot;)},loadingContainer:document.querySelector(&quot;.js-loading&quot;),globalError:document.querySelector(&quot;.js-global-error&quot;),facebookLogin:document.querySelector(&quot;.js-facebook-login&quot;),signupButton:document.querySelector(&quot;.js-signup&quot;),forgottenPasswordButton:document.querySelector(&quot;.js-forgotten-password&quot;)},f(e=&gt;{e?(this.tabs=new E({onSelectTab:this.onTabSelected.bind(this)}),this.addBrowserNameClassToBody(),this.bindEventHandlers(),this.showGlobalLoadingState(0).then(this.getGaylCookieState.bind(this)).then(this.updateState.bind(this)).then(this.requestActiveTab.bind(this)).then(this.progressToNextStep.bind(this)).catch(this.onError.bind(this))):this.showPermissionsPage()})}addBrowserNameClassToBody(){var e=v();this.ui.root.classList.add(e.toLowerCase())}bindEventHandlers(){this.ui.login.form.addEventListener(&quot;submit&quot;,this.onLoginAttempt.bind(this)),this.ui.facebookLogin.addEventListener(&quot;click&quot;,this.onClickFacebookLogin.bind(this)),this.ui.signupButton.addEventListener(&quot;click&quot;,this.onClickSignupButton.bind(this)),this.ui.forgottenPasswordButton.addEventListener(&quot;click&quot;,this.onClickForgottenPasswordButton.bind(this)),this.ui.permission.enableUrl.addEventListener(&quot;click&quot;,this.onClickEnableUrlButton.bind(this))}onTabSelected(e){switch(e){case A:this.accountPanel.load();break;case P:this.favouritePanel.load();break;case T:this.referAFriendPanel.load();break;case R:this.storesPanel.load();break;default:console.warn(`Can&#39;t handle viewName: ${e}`)}}onLoginAttempt(e){e.preventDefault();var t=this.ui.login.form.email.value,r=this.ui.login.form.password.value;this.removeLoginError(),this.showLoginLoading(),m.login(t,r).then(this.persistState.bind(this)).then(this.loginGaylCookie.bind(this)).then(this.showAccountPage.bind(this)).catch(this.onLoginError.bind(this)).then(this.hideLoginLoading.bind(this))}onLoginError(e){this.ui.login.errorMessage.textContent=e.message,this.ui.login.errorMessage.style.display=&quot;block&quot;}onLogout(){this.showLoginPage()}onClickFacebookLogin(e){var t=s(&quot;/login&quot;);k({tabId:this.activeTab.id,url:t,closePopup:!0})}onClickSignupButton(e){var t=s(&quot;/signup&quot;);k({tabId:this.activeTab.id,url:t,closePopup:!0})}onClickForgottenPasswordButton(e){var t=s(&quot;/reset-password&quot;);k({tabId:this.activeTab.id,url:t,closePopup:!0})}onClickEnableUrlButton(e){var t=g.permissionsUrl;k({tabId:b().tabs.activeTab.id,url:t,closePopup:!0})}onError(e){if(!e.type)throw e;var t={http_error:this.onTimeout.bind(this)}[e.type];void 0!==t&amp;&amp;t()}onTimeout(){this.hideLoadingState(),u(this.ui.globalError),this.ui.globalError.appendChild(c(n))}initialisePanels(){console.log(&quot;initialisePanels()&quot;,this),this.accountPanel||(this.accountPanel=new p({deviceSecurityCode:this.deviceSecurityCode,onLogout:this.onLogout.bind(this),activeTab:this.activeTab})),this.referAFriendPanel||(this.referAFriendPanel=new C({activeTab:this.activeTab})),this.storesPanel||(this.storesPanel=new w({deviceSecurityCode:this.deviceSecurityCode,activeTab:this.activeTab}))}persistState(e){return l(e.cause,40),this.user=e.user,this.cause=e.cause,this.deviceSecurityCode=e.deviceSecurityCode,_.set({deviceSecurityCode:e.deviceSecurityCode,user:e.user,cause:e.cause})}updateState(e){return console.log(&quot;Saving state.&quot;),e.user.loggedIn?this.persistState(e):_.clear()}getGaylCookieState(){return console.log(&quot;Getting &quot;+g.gaylDomain+&quot; cookie state.&quot;),m.getState()}isLoggedIn(){return this.user&amp;&amp;&quot;&quot;!==this.user.firstname}requestActiveTab(){console.log(&quot;requestActiveTab()&quot;);var e=this;return new Promise(function(t,r){e.activeTab=b().tabs.activeTab,t(e.activeTab)})}progressToNextStep(){return console.log(&quot;progressToNextStep()&quot;),this.isLoggedIn()?(console.log(&quot;showAccountPage()&quot;),this.showAccountPage()):(console.log(&quot;showLoginPage()&quot;),this.showLoginPage()),this.hideLoadingState(),Promise.resolve()}showGlobalLoadingState(e){var t=this;return new Promise(function(r,o){u(t.ui.loadingContainer),t.ui.loadingContainer.appendChild(y({loadingText:S.POPUP_LOADING_GLOBAL})),setTimeout(function(){r()},e||0)})}showPermissionsPage(){this.hideAllPages(),this.ui.permission.container.style.display=&quot;block&quot;}removeLoginError(){this.ui.login.errorMessage.style.display=&quot;none&quot;}showLoginLoading(){u(this.ui.login.loading),this.ui.login.loading.appendChild(y({noText:!0})),this.ui.login.submit.style.display=&quot;none&quot;}hideLoginLoading(){u(this.ui.login.loading),this.ui.login.submit.style.display=&quot;inline-block&quot;}loginGaylCookie(){return m.cookieLogin(this.deviceSecurityCode)}hideLoadingState(){return this.ui.loadingContainer.style.display=&quot;none&quot;,Promise.resolve()}showLoginPage(){this.hideAllPages(),this.ui.login.container.style.display=&quot;block&quot;}showAccountPage(){this.initialisePanels(),this.hideAllPages(),this.populateUserDetails(this.user,this.cause),this.ui.account.container.style.display=&quot;block&quot;,this.tabs.activateTab(&quot;#&quot;+R)}populateUserDetails(e,t){this.ui.account.name.textContent=e.firstname,this.ui.account.causeName.textContent=t.truncatedName}hideAllPages(){i(this.ui.pages,function(e){e.style.display=&quot;none&quot;})}}},,,,,,,,,function(e,t){}]);",
            "file": "popup.bundle.js"
        },
        {
            "comment": "!\n * URI.js - Mutating URLs\n *\n * Version: 1.19.1\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n",
            "file": "popup.bundle.js"
        },
        {
            "comment": "!\n * URI.js - Mutating URLs\n * Second Level Domain (SLD) Support\n *\n * Version: 1.19.1\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n",
            "file": "popup.bundle.js"
        },
        {
            "comment": "!\n * URI.js - Mutating URLs\n * IPv6 Support\n *\n * Version: 1.19.1\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n",
            "file": "popup.bundle.js"
        },
        {
            "comment": "! https://mths.be/punycode v1.4.0 by @mathias",
            "file": "popup.bundle.js"
        },
        {
            "comment": "www.w3.org/2000/svg&quot;,e);return t?(o(t)?t.forEach(function(e){e&amp;&amp;n.classList.add(e)}):n.classList.add(className),n):n},whenDocumentReady:function(e){&quot;loading&quot;!==document.readyState?e():document.addEventListener(&quot;DOMContentLoaded&quot;,function(){e()})}}},1:function(e,t,n){const i=n(7);e.exports=Object.assign({...i},{apiBase:&quot;https://www.giveasyoulive.com/api/v1/&quot;,apiBaseV2:&quot;https://www.giveasyoulive.com/api/v2/&quot;,env:&quot;production&quot;,gaylDomain:&quot;giveasyoulive.com&quot;,gaylUrl:&quot;https://www.giveasyoulive.com&quot;})},2:function(e,t){var n;&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.runtime&amp;&amp;(n=chrome.runtime),&quot;undefined&quot;!=typeof browser&amp;&amp;browser.runtime&amp;&amp;(n=browser.runtime),n||(n={getManifest:function(){return{version:safari.extension.displayVersion}},getURL:function(e){return e},lastError:void 0,onInstalled:{addListener:function(e){if(console.log(&quot;runtime.onInstalled(&quot;+safari.extension.displayVersion+&quot; -&gt; &quot;+safari.extension.settings.installedVersion+&quot;)&quot;),!safari.extension.settings.installedVersion)return safari.extension.settings.installedVersion=safari.extension.displayVersion,void e({reason:&quot;install&quot;});e({reason:&quot;update&quot;,previousVersion:safari.extension.settings.installedVersion}),safari.extension.settings.installedVersion=safari.extension.displayVersion}},onMessage:{addListener:function(e){safari.application?safari.application.addEventListener(&quot;message&quot;,function(t){console.log(&quot;safari.application event&quot;,t);var n={subject:t.name,payload:t.message};e(n,{id:&quot;synthetic&quot;},function(){})}):safari.self.addEventListener(&quot;message&quot;,function(t){console.log(&quot;safari.self event&quot;,t);var n={subject:t.name,payload:t.message};e(n,{id:&quot;synthetic&quot;},function(){})})}},sendMessage:function(e,t){safari.self.tab.dispatchMessage(e.subject,e.payload)},setUninstallURL(e){}}),e.exports=n},20:function(e,t,n){var{svgDom:i}=n(0);e.exports=function(){var e=i(&quot;svg&quot;,[&quot;svg-inline--fa&quot;,&quot;fa-angle-right&quot;,&quot;fa-w-8&quot;,&quot;fa-fw&quot;]);e.setAttribute(&quot;role&quot;,&quot;img&quot;),e.setAttribute(&quot;aria-hidden&quot;,!0),e.setAttribute(&quot;viewBox&quot;,&quot;0 0 256 512&quot;);var t=i(&quot;path&quot;);return t.setAttribute(&quot;fill&quot;,&quot;currentColor&quot;),t.setAttribute(&quot;d&quot;,&quot;M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z&quot;),e.appendChild(t),e}},23:function(e,t){e.exports={SIDEBAR:&quot;SIDEBAR&quot;,SIDEBAR_TURNON:&quot;SIDEBAR_TURNON&quot;,SIDEBAR_FAVOURITE:&quot;SIDEBAR_FAVOURITE&quot;,RETAILER:&quot;RETAILER&quot;}},3:function(e,t){e.exports={POPUP_LOADING_ACCOUNT_OPTIONS:&quot;Loading account...&quot;,POPUP_LOADING_CAUSE_INFO:&quot;Loading cause...&quot;,POPUP_LOADING_FAVOURITES:&quot;Loading favourites...&quot;,POPUP_LOADING_GLOBAL:&quot;Loading...please wait.&quot;,POPUP_LOADING_SIMILAR_STORES:&quot;Loading similar stores...&quot;,POPUP_LOADING_POPULAR_STORES:&quot;Loading popular stores...&quot;,POPUP_LOADING_STORE_SEARCH:&quot;Searching...&quot;,POPUP_NO_FAVOURITES:&quot;No favourite stores yet. Why not try adding some?&quot;,POPUP_NO_SIMILAR_STORES:&quot;No similar stores were found for this retailer.&quot;,POPUP_NO_SEARCH_RESULTS:&quot;No results found for $$query$$.&quot;,ERROR_TIMEOUT_POPUP:&quot;An error occured, please close, and re-open this popup. If the problem persists, please let us know @ help@everyclick.com&quot;,ERROR_ACCOUNT_OPTION_LOAD:&quot;Failed to load, please re-open to try again.&quot;,STORE_CONFIRMATION_DIALOG_QUESTION:&quot;Would you like your purchase to raise a donation for $$causeName$$?&quot;,STORE_CONFIRMATION_DIALOG_EARN_NEW_CUSTOMERS:&quot;Earn up to $$maxStoreRate$$ with $$storeName$$ if you&#39;re a new customer&quot;,STORE_CONFIRMATION_DIALOG_EARN:&quot;Earn up to $$maxStoreRate$$ with $$storeName$$&quot;,STORE_CONFIRMATION_DIALOG_YES:&quot;Raise a donation&quot;,STORE_THANK_YOU_OK:&quot;OK, got it&quot;,STORE_THANK_YOU_INTRO:&quot;Thank you.&quot;,STORE_THANK_YOU_BODY_NEW_CUSTOMERS:&quot;If you&#39;re a new customer, purchases can raise up to $$maxStoreRate$$ of your total purchase for $$causeName$$.&quot;,STORE_THANK_YOU_BODY:&quot;Purchases can raise up to $$maxStoreRate$$ of your total purchase for $$causeName$$.&quot;,SERP_BUTTON_TEXT:&quot;Shop &amp; raise up to $$maxStoreRate$$ &gt;&quot;,SERP_LINK_TEXT:&quot;Donates up to $$maxStoreRate$$&quot;,API_ERROR_MESSAGES:{InvalidCredentials:&quot;Invalid email or password.&quot;},REQUEST_ERROR_MESSAGES:{0:&quot;The request timed out, please try again.&quot;},GENERIC_ERROR_MESSAGE:&quot;An error occurred.&quot;}},38:function(e,t,n){var i=n(3),{dom:o,text:r}=n(0),a=n(20);e.exports=function(e){var t=e.causeName||&quot;your charity&quot;,n=o(&quot;div&quot;,[&quot;thank-you-dialog&quot;,&quot;reset-this&quot;]);n.setAttribute(&quot;id&quot;,&quot;gayl-donation-reminder-root&quot;);var s=o(&quot;p&quot;,[&quot;thank-you-dialog__message&quot;,&quot;reset-this&quot;]);s.appendChild(o(&quot;strong&quot;,[&quot;reset-this&quot;],i.STORE_THANK_YOU_INTRO));var u=function(e,t,n){var i=o(&quot;p&quot;,[&quot;thank-you-dialog__message&quot;,&quot;reset-this&quot;]),a=e.split(&quot;$$maxStoreRate$$&quot;),s=a[0];i.appendChild(r(s)),i.appendChild(o(&quot;strong&quot;,[&quot;reset-this&quot;],n));var u=a[1];return s=(a=u.split(&quot;$$causeName$$&quot;))[0],u=a[1],i.appendChild(r(s)),i.appendChild(o(&quot;strong&quot;,[&quot;reset-this&quot;],t)),u&amp;&amp;i.appendChild(r(u)),i}(e.newCustomersOnly?i.STORE_THANK_YOU_BODY_NEW_CUSTOMERS:i.STORE_THANK_YOU_BODY,t,e.maxStoreRate),c=o(&quot;a&quot;,[&quot;thank-you-dialog__action&quot;,&quot;btn&quot;,&quot;btn-default&quot;,&quot;btn-lg&quot;,&quot;js-thankyou-ok&quot;,&quot;reset-this&quot;],i.STORE_THANK_YOU_OK);return c.appendChild(r(&quot; &quot;)),c.appendChild(a()),n.appendChild(s),n.appendChild(u),n.appendChild(c),n}},39:function(e,t,n){var{dom:i,text:o}=n(0),r=n(3),a=n(20),s=n(2);e.exports=function(e){var t=e.causeName||&quot;your charity&quot;,n=i(&quot;div&quot;,[&quot;reset-this&quot;,&quot;confirmation-dialog&quot;]);n.setAttribute(&quot;id&quot;,&quot;gayl-donation-reminder-root&quot;);var u=i(&quot;img&quot;,[&quot;confirmation-dialog__logo&quot;,&quot;reset-this&quot;]);u.src=s.getURL(&quot;/images/online.svg&quot;);var c=function(e,t){var n=i(&quot;p&quot;,[&quot;confirmation-dialog__question&quot;,&quot;reset-this&quot;]),r=e.split(&quot;$$causeName$$&quot;),a=r[0],s=r[1];return a&amp;&amp;n.appendChild(o(a)),n.appendChild(i(&quot;strong&quot;,[&quot;reset-this&quot;],t)),s&amp;&amp;n.appendChild(o(s)),n}(r.STORE_CONFIRMATION_DIALOG_QUESTION,t),l=i(&quot;p&quot;,[&quot;confirmation-dialog__earn&quot;,&quot;reset-this&quot;]),d=e.newCustomersOnly?r.STORE_CONFIRMATION_DIALOG_EARN_NEW_CUSTOMERS:r.STORE_CONFIRMATION_DIALOG_EARN;d=d.replace(&quot;$$storeName$$&quot;,e.storeName).replace(&quot;$$maxStoreRate$$&quot;,e.maxStoreRate),l.appendChild(o(d));var f=i(&quot;a&quot;,[&quot;btn&quot;,&quot;btn-primary&quot;,&quot;btn-lg&quot;,&quot;js-retailer-confirm&quot;,&quot;reset-this&quot;],r.STORE_CONFIRMATION_DIALOG_YES);f.appendChild(o(&quot; &quot;)),f.appendChild(a());var m=i(&quot;img&quot;,[&quot;js-retailer-decline&quot;,&quot;confirmation-dialog__close&quot;,&quot;reset-this&quot;]);return m.src=s.getURL(&quot;/images/close-icon.svg&quot;),n.appendChild(u),n.appendChild(c),n.appendChild(l),n.appendChild(f),n.appendChild(m),n}},4:function(e,t){e.exports=function(e){var t=e||navigator.userAgent;return/edg([ea]|ios)/i.test(t)?&quot;Edge&quot;:/chrome|crios|crmo/i.test(t)?&quot;Chrome&quot;:/safari|applewebkit/i.test(t)?&quot;Safari&quot;:/firefox|iceweasel|fxios/i.test(t)?&quot;Firefox&quot;:null}},40:function(e,t,n){var{contentScriptInitialise:i,isRetailerPage:o,whenDocumentReady:r}=n(0),{Message:a,MessageSubject:s}=n(6),u=(n(59),n(1)),c=n(39),l=n(23),d=n(2),f=n(38),m=&quot;#gayl-donation-reminder-root.confirmation-dialog&quot;,h=&quot;#gayl-donation-reminder-root&quot;,p=&quot;#gayl-donation-reminder-root.thank-you-dialog&quot;;function E(e){var t=document.querySelector(e);if(null!==t){var n=t.parentNode;null!==n&amp;&amp;n.removeChild(t)}}i(class{constructor(){this.bindEvents();var e=window.location.href.indexOf(&quot;inject=confirmation&quot;)&gt;-1,t=window.location.href.indexOf(&quot;inject=thankyou&quot;)&gt;-1;e&amp;&amp;this.injectConfirmationDialog({name:&quot;Totally not Starlight&quot;},{max:&quot;\u00a310.00&quot;,name:&quot;Amazon&quot;,newCustomersOnly:!0}),t&amp;&amp;this.injectThankYou({name:&quot;Totally not Starlight&quot;},{max:&quot;100%&quot;,newCustomersOnly:!0})}bindEvents(){d.onMessage.addListener(this.onMessage.bind(this))}bindConfirmationDialogEvents(){this.ui={confirmButton:document.querySelector(&quot;.js-retailer-confirm&quot;),declineButton:document.querySelector(&quot;.js-retailer-decline&quot;)},this.ui.confirmButton.addEventListener(&quot;click&quot;,this.onConfirmation.bind(this)),this.ui.declineButton.addEventListener(&quot;click&quot;,this.onDecline.bind(this))}bindThankYouEventHandlers(){this.ui={okButton:document.querySelector(&quot;.js-thankyou-ok&quot;)},this.ui.okButton.addEventListener(&quot;click&quot;,this.onClickOk.bind(this))}onMessage(e,t,n){var{payload:i,subject:o}=e;switch(o){case s.RETAILER_CONFIRMATION:this.injectConfirmationDialog(i.cause,i.store);break;case s.RETAILER_THANKYOU:this.injectThankYou(i.cause,i.store);break;case s.HIDE_CONFIRMATION:this.removeConfirmationDialog();break;case s.REMOVE_ALL:this.removeAllDialogs();break;default:console.warn(&quot;Unable to handle event - &quot;+o)}return!0}onClickOk(e){this.hideThankYou()}removeAllDialogs(){E(h)}injectConfirmationDialog(e,t){var n=this;r(function(){if(!n.isInjected()){var i=c({causeName:e&amp;&amp;e.name||null,storeName:t.name,maxStoreRate:t.max,newCustomersOnly:t.newCustomersOnly});document.body.insertBefore(i,document.body.firstChild),n.bindConfirmationDialogEvents()}})}injectThankYou(e,t){var n=this;r(function(){if(!n.isThankYouInjected()){n.isConfirmationInjected()&amp;&amp;(console.log(&quot;Found an existing confirmation dialog, removing all dialogs.&quot;),n.removeAllDialogs());var i={causeName:e&amp;&amp;e.name||null,maxStoreRate:t.max,newCustomersOnly:t.newCustomersOnly},o=f(i);document.body.insertBefore(o,document.body.firstChild),n.bindThankYouEventHandlers(),setTimeout(function(){n.hideThankYou()},u.thankYouDialogVisibleMs)}})}hideThankYou(){document.querySelector(p).classList.add(&quot;is-hidden&quot;)}removeConfirmationDialog(){E(m)}onDecline(){this.sendMessageToBackground(new a(s.RETAILER_REJECT))}onConfirmation(){this.sendMessageToBackground(new a(s.RETAILER_CONFIRM,{extensionSource:l.RETAILER}))}sendMessageToBackground(e){d.sendMessage(e)}isInjected(){return null!==document.querySelector(h)}isThankYouInjected(){return null!==document.querySelector(p)}isConfirmationInjected(){return null!==document.querySelector(m)}},o(window.location.href))},59:function(e,t){},6:function(e,t){var n={RETAILER_CONFIRMATION:&quot;RETAILER_CONFIRMATION&quot;,RETAILER_THANKYOU:&quot;RETAILER_THANKYOU&quot;,HIDE_CONFIRMATION:&quot;HIDE_CONFIRMATION&quot;,REMOVE_ALL:&quot;REMOVE_ALL&quot;,GET_SERP_RULES_RESPONSE:&quot;GET_SERP_RULES_RESPONSE&quot;,CHECK_SERP_URLS_RESPONSE:&quot;CHECK_SERP_URLS_RESPONSE&quot;,RETAILER_CONFIRM:&quot;RETAILER_CONFIRM&quot;,RETAILER_REJECT:&quot;RETAILER_REJECT&quot;,GET_SERP_RULES:&quot;GET_SERP_RULES&quot;,CHECK_SERP_URLS:&quot;CHECK_SERP_URLS&quot;};function i(e,t){t=t||{};this.isValidSubject(e)&amp;&amp;(this.subject=e),this.payload=t}i.prototype.isValidSubject=function(e){if(!n[e])throw new Error(&quot;Unknown message subject: &quot;+e);return!0},e.exports={Message:i,MessageSubject:n}},7:function(e,t,n){var i=n(4),o=n(2),r={Chrome:&quot;R0FZTF9CUk9XU0VSX0VYVF9DSFJPTUU6MnZMTG4qSkpyX3ZEOT1hKg==&quot;,Firefox:&quot;R0FZTF9CUk9XU0VSX0VYVF9GSVJFRk9YOnRBM3lOWEJQWmR1YyVHTG0=&quot;,Edge:&quot;R0FZTF9CUk9XU0VSX0VYVF9FREdFOmZ2Qmg4VHdMUDRHelNTQFI=&quot;,Safari:&quot;R0FZTF9CUk9XU0VSX0VYVF9TQUZBUkk6LTZyRHZBJGREeHFHOW45Pw==&quot;};e.exports={apiAuthHeader:function(){var e=i(),t=r[e];if(!t)throw new Error(&quot;Cannot find auth header for &quot;+e);return&quot;Basic &quot;+t},extensionId:function(){return&quot;undefined&quot;!=typeof chrome&amp;&amp;chrome.runtime?chrome.runtime.id:&quot;undefined&quot;!=typeof safari?&quot;synthetic&quot;:browser.runtime.id},ignoredSchemes:[&quot;about&quot;,&quot;file&quot;,&quot;chrome&quot;,&quot;chrome-extension&quot;,&quot;wyciwyg&quot;],ignoredUrls:&quot;(?:shareasale.com|paypal.(?:co.uk|com)|successfultogether.co.uk|tradedoubler.com|clkuk.pvnsolutions.com|paidonresults.net|linksynergy.com|doubleclick.net|affiliatefuture.com|omguk.com|healthtrader.com|digitalriver.com|veinteractive.com|track.webgains.com)&quot;,permissionsUrl:&quot;https://help.giveasyoulive.com/hc/en-us/articles/360017448352-New-Chrome-update-Donation-Reminder&quot;,processingDelayMs:1e3,requestTimeoutMs:7e3,sentryDsn:&quot;https://7a19d517524a4954bb10e4bc21e4a4a9@sentry.io/1270266&quot;,thankYouDialogVisibleMs:7e3,uninstallUrl:&quot;https://r1.dotmailer-surveys.com/7e21zb6c-623a1ufe&quot;,version:function(){return o.getManifest().version}}}});",
            "file": "retailerContent.bundle.js"
        },
        {
            "comment": "www.w3.org/2000/svg&quot; viewBox=&quot;0 0 256 512&quot;&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;",
            "file": "views/popup.html"
        },
        {
            "comment": "www.w3.org/2000/svg&quot; viewBox=&quot;0 0 512 512&quot;&gt;",
            "file": "views/popup.html"
        },
        {
            "comment": "www.w3.org/2000/svg&quot; viewBox=&quot;0 0 256 512&quot;&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;Back",
            "file": "views/popup.html"
        },
        {
            "comment": "www.w3.org/2000/svg&quot; viewBox=&quot;0 0 512 512&quot; data-fa-i2svg=&quot;&quot;&gt;",
            "file": "views/popup.html"
        },
        {
            "comment": "www.w3.org/2000/svg&quot; viewBox=&quot;0 0 320 512&quot; data-fa-i2svg=&quot;&quot;&gt;",
            "file": "views/popup.html"
        },
        {
            "comment": "Global loading state",
            "file": "views/popup.html"
        },
        {
            "comment": "Global error state",
            "file": "views/popup.html"
        },
        {
            "comment": "Permissions page - Shown to users who haven&#39;t given us sufficient permissions",
            "file": "views/popup.html"
        },
        {
            "comment": "Login page - Only shown to anonymous users",
            "file": "views/popup.html"
        },
        {
            "comment": "Login form loading state",
            "file": "views/popup.html"
        },
        {
            "comment": "Logged in page",
            "file": "views/popup.html"
        },
        {
            "comment": "Header",
            "file": "views/popup.html"
        },
        {
            "comment": "Tabs + content",
            "file": "views/popup.html"
        },
        {
            "comment": "&#39;popular&#39; subview",
            "file": "views/popup.html"
        },
        {
            "comment": "Store search for this sub-view",
            "file": "views/popup.html"
        },
        {
            "comment": "Store search results for this subview",
            "file": "views/popup.html"
        },
        {
            "comment": "&#39;similar&#39; subview",
            "file": "views/popup.html"
        },
        {
            "comment": "Back button, lets user navigation back to store details",
            "file": "views/popup.html"
        },
        {
            "comment": "Current store",
            "file": "views/popup.html"
        },
        {
            "comment": "Similar stores",
            "file": "views/popup.html"
        },
        {
            "comment": "Loading state for all subviews",
            "file": "views/popup.html"
        },
        {
            "comment": "Account panel",
            "file": "views/popup.html"
        },
        {
            "comment": "Note: This is the global page for Safari only, the other browsers automatically generate this page",
            "file": "views/global.html"
        }
    ],
    "crx": "/home/maria/ExtAnalysis/lab/fceblikkhnkbdimejiaapjnijnfegnii.crx",
    "description": "Give as you Live is a way to raise free funds for charity, just by shopping online at over 4,000 stores.",
    "domains": [
        {
            "country": "United States",
            "country_code": "us",
            "ip": "185.199.110.153",
            "name": "medialize.github.io",
            "virustotal": "No virustotal api found"
        },
        {
            "country": "United States",
            "country_code": "us",
            "ip": "157.240.212.35",
            "name": "facebook.com",
            "virustotal": "No virustotal api found"
        },
        {
            "country": "United States",
            "country_code": "us",
            "ip": "104.16.53.111",
            "name": "help.giveasyoulive.com",
            "virustotal": "No virustotal api found"
        },
        {
            "country": "United States",
            "country_code": "us",
            "ip": "142.250.200.110",
            "name": "clients2.google.com",
            "virustotal": "No virustotal api found"
        },
        {
            "country": "United States",
            "country_code": "us",
            "ip": "104.16.191.44",
            "name": "r1.dotmailer-surveys.com",
            "virustotal": "No virustotal api found"
        },
        {
            "country": "United States",
            "country_code": "us",
            "ip": "128.30.52.100",
            "name": "w3.org",
            "virustotal": "No virustotal api found"
        },
        {
            "country": "Ireland",
            "country_code": "ie",
            "ip": "31.13.65.174",
            "name": "instagram.com",
            "virustotal": "No virustotal api found"
        },
        {
            "country": "Netherlands",
            "country_code": "nl",
            "ip": "83.137.145.144",
            "name": "mths.be",
            "virustotal": "No virustotal api found"
        },
        {
            "country": "United States",
            "country_code": "us",
            "ip": "151.101.130.217",
            "name": "cdn.ravenjs.com",
            "virustotal": "No virustotal api found"
        },
        {
            "country": "United States",
            "country_code": "us",
            "ip": "104.244.42.1",
            "name": "twitter.com",
            "virustotal": "No virustotal api found"
        },
        {
            "country": "United States",
            "country_code": "us",
            "ip": "159.65.34.8",
            "name": "opensource.org",
            "virustotal": "No virustotal api found"
        },
        {
            "country": "United States",
            "country_code": "us",
            "ip": "18.134.127.236",
            "name": "giveasyoulive.com",
            "virustotal": "No virustotal api found"
        }
    ],
    "emails": [
        {
            "file": "background.bundle.js",
            "mail": "help@everyclick.com"
        },
        {
            "file": "background.bundle.js",
            "mail": "7a19d517524a4954bb10e4bc21e4a4a9@sentry.io"
        },
        {
            "file": "searchEngineContent.bundle.js",
            "mail": "help@everyclick.com"
        },
        {
            "file": "searchEngineContent.bundle.js",
            "mail": "7a19d517524a4954bb10e4bc21e4a4a9@sentry.io"
        },
        {
            "file": "popup.bundle.js",
            "mail": "help@everyclick.com"
        },
        {
            "file": "popup.bundle.js",
            "mail": "7a19d517524a4954bb10e4bc21e4a4a9@sentry.io"
        },
        {
            "file": "retailerContent.bundle.js",
            "mail": "help@everyclick.com"
        },
        {
            "file": "retailerContent.bundle.js",
            "mail": "7a19d517524a4954bb10e4bc21e4a4a9@sentry.io"
        },
        {
            "file": "views/popup.html",
            "mail": "your@email.com"
        }
    ],
    "extracted": "/home/maria/ExtAnalysis/lab/fceblikkhnkbdimejiaapjnijnfegnii",
    "files": {
        "css": [
            {
                "searchEngineContent.css": "styles/css/searchEngineContent.css"
            },
            {
                "popup.css": "styles/css/popup.css"
            },
            {
                "retailerContent.css": "styles/css/retailerContent.css"
            }
        ],
        "html": [
            {
                "popup.html": "views/popup.html"
            },
            {
                "global.html": "views/global.html"
            }
        ],
        "js": [
            {
                "installedContent.bundle.js": "installedContent.bundle.js"
            },
            {
                "background.bundle.js": "background.bundle.js"
            },
            {
                "searchEngineContent.bundle.js": "searchEngineContent.bundle.js"
            },
            {
                "popup.bundle.js": "popup.bundle.js"
            },
            {
                "retailerContent.bundle.js": "retailerContent.bundle.js"
            }
        ],
        "json": [
            {
                "manifest.json": "manifest.json"
            },
            {
                "verified_contents.json": "_metadata/verified_contents.json"
            }
        ],
        "other": [
            {
                "background.bundle.js.map": "background.bundle.js.map"
            },
            {
                "version": "version"
            },
            {
                "installedContent.bundle.js.map": "installedContent.bundle.js.map"
            },
            {
                "searchEngineContent.bundle.js.map": "searchEngineContent.bundle.js.map"
            },
            {
                "retailerContent.bundle.js.map": "retailerContent.bundle.js.map"
            },
            {
                "popup.bundle.js.map": "popup.bundle.js.map"
            },
            {
                "searchEngineContent.css.map": "styles/css/searchEngineContent.css.map"
            },
            {
                "popup.css.map": "styles/css/popup.css.map"
            },
            {
                "retailerContent.css.map": "styles/css/retailerContent.css.map"
            }
        ],
        "static": [
            {
                "inactive_48.png": "images/inactive_48.png"
            },
            {
                "active_48.png": "images/active_48.png"
            },
            {
                "icon_64.png": "images/icon_64.png"
            },
            {
                "active_64.png": "images/active_64.png"
            },
            {
                "active_16.png": "images/active_16.png"
            },
            {
                "active_32.png": "images/active_32.png"
            },
            {
                "active_safari_16.png": "images/active_safari_16.png"
            },
            {
                "inactive_25.png": "images/inactive_25.png"
            },
            {
                "inactive_30.png": "images/inactive_30.png"
            },
            {
                "inactive_128.png": "images/inactive_128.png"
            },
            {
                "active_128.png": "images/active_128.png"
            },
            {
                "brand-logo.png": "images/brand-logo.png"
            },
            {
                "icon_50.png": "images/icon_50.png"
            },
            {
                "loading.gif": "images/loading.gif"
            },
            {
                "close-icon.svg": "images/close-icon.svg"
            },
            {
                "inactive_20.png": "images/inactive_20.png"
            },
            {
                "online.svg": "images/online.svg"
            },
            {
                "icon_16.png": "images/icon_16.png"
            },
            {
                "inactive_32.png": "images/inactive_32.png"
            },
            {
                "active_40.png": "images/active_40.png"
            },
            {
                "icon_48.png": "images/icon_48.png"
            },
            {
                "inactive_64.png": "images/inactive_64.png"
            },
            {
                "active_30.png": "images/active_30.png"
            },
            {
                "active_20.png": "images/active_20.png"
            },
            {
                "icon_96.png": "images/icon_96.png"
            },
            {
                "inactive_40.png": "images/inactive_40.png"
            },
            {
                "icon_44.png": "images/icon_44.png"
            },
            {
                "icon_150.png": "images/icon_150.png"
            },
            {
                "icon_32.png": "images/icon_32.png"
            },
            {
                "inactive_safari_16.png": "images/inactive_safari_16.png"
            },
            {
                "active_25.png": "images/active_25.png"
            },
            {
                "inactive_16.png": "images/inactive_16.png"
            },
            {
                "icon_128.png": "images/icon_128.png"
            }
        ]
    },
    "ipv4_addresses": [
        {
            "address": "6.0.15.0",
            "file": "manifest.json"
        }
    ],
    "ipv6_addresses": [],
    "manifest": {
        "author": "Give as you Live Ltd",
        "background": {
            "persistent": true,
            "scripts": [
                "./background.bundle.js"
            ]
        },
        "browser_action": {
            "default_icon": {
                "128": "images/inactive_128.png",
                "16": "images/inactive_16.png",
                "20": "images/inactive_20.png",
                "25": "images/inactive_25.png",
                "30": "images/inactive_30.png",
                "32": "images/inactive_32.png",
                "40": "images/inactive_40.png",
                "48": "images/inactive_48.png",
                "64": "images/inactive_64.png"
            },
            "default_popup": "./views/popup.html"
        },
        "content_scripts": [
            {
                "js": [
                    "./installedContent.bundle.js"
                ],
                "matches": [
                    "*://*.giveasyoulive.com/*"
                ],
                "run_at": "document_start"
            },
            {
                "css": [
                    "./styles/css/searchEngineContent.css"
                ],
                "js": [
                    "./searchEngineContent.bundle.js"
                ],
                "matches": [
                    "*://*.google.com/*",
                    "*://*.google.co.uk/*",
                    "*://*.bing.com/*",
                    "*://uk.search.yahoo.com/*"
                ],
                "run_at": "document_end"
            },
            {
                "css": [
                    "./styles/css/retailerContent.css"
                ],
                "js": [
                    "./retailerContent.bundle.js"
                ],
                "matches": [
                    "<all_urls>"
                ],
                "run_at": "document_start"
            }
        ],
        "content_security_policy": "script-src https://cdn.ravenjs.com 'self' blob: filesystem:; object-src 'none'",
        "description": "Give as you Live is a way to raise free funds for charity, just by shopping online at over 4,000 stores.",
        "homepage_url": "https://www.giveasyoulive.com",
        "icons": {
            "128": "images/icon_128.png",
            "150": "images/icon_150.png",
            "16": "images/icon_16.png",
            "44": "images/icon_44.png",
            "48": "images/icon_48.png",
            "50": "images/icon_50.png",
            "96": "images/icon_96.png"
        },
        "manifest_version": 2,
        "name": "Give as you Live Donation Reminder",
        "permissions": [
            "storage",
            "activeTab",
            "webNavigation",
            "webRequest",
            "http://*/*",
            "https://*/*"
        ],
        "update_url": "https://clients2.google.com/service/update2/crx",
        "version": "6.0.15.0",
        "web_accessible_resources": [
            "images/*.png",
            "images/*.svg"
        ]
    },
    "name": "Give as you Live Donation Reminder",
    "permissions": [
        {
            "badge": "<i class=\"fas fa-hdd\"></i>",
            "description": "Gives your extension access to the chrome.storage API.",
            "name": "storage",
            "risk": "medium",
            "warning": "na"
        },
        {
            "badge": "<i class=\"fas fa-square\"></i>",
            "description": "Requests that the extension be granted permissions according to the activeTab specification.",
            "name": "activeTab",
            "risk": "low",
            "warning": "na"
        },
        {
            "badge": "<i class=\"fas fa-globe\"></i>",
            "description": "Grants the extension access to the chrome.webNavigation API.",
            "name": "webNavigation",
            "risk": "medium",
            "warning": "Read your browsing history"
        },
        {
            "badge": "<i class=\"fas fa-globe-asia\"></i>",
            "description": "Gives your extension access to the chrome.webRequest API.",
            "name": "webRequest",
            "risk": "critical",
            "warning": "na"
        },
        {
            "badge": "<i class=\"fas fa-globe-africa\"></i>",
            "description": "Matches any URL that uses the http: scheme.",
            "name": "http://*/*",
            "risk": "high",
            "warning": "Read and change all your data on the websites you visit that uses the scheme http://"
        },
        {
            "badge": "<i class=\"fas fa-globe-africa\"></i>",
            "description": "Matches any URL that uses the https: scheme.",
            "name": "https://*/*",
            "risk": "high",
            "warning": "Read and change all your data on the websites you visit that uses the scheme https://"
        }
    ],
    "type": "local",
    "urls": [
        {
            "domain": "w3.org",
            "file": "background.bundle.js",
            "url": "http://www.w3.org/2000/svg"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "background.bundle.js",
            "url": "https://www.giveasyoulive.com/api/v1/"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "background.bundle.js",
            "url": "https://www.giveasyoulive.com/api/v2/"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "background.bundle.js",
            "url": "https://www.giveasyoulive.com"
        },
        {
            "domain": "help.giveasyoulive.com",
            "file": "background.bundle.js",
            "url": "https://help.giveasyoulive.com/hc/en-us/articles/360017448352-New-Chrome-update-Donation-Reminder"
        },
        {
            "domain": "r1.dotmailer-surveys.com",
            "file": "background.bundle.js",
            "url": "https://r1.dotmailer-surveys.com/7e21zb6c-623a1ufe"
        },
        {
            "domain": "medialize.github.io",
            "file": "background.bundle.js",
            "url": "http://medialize.github.io/URI.js/"
        },
        {
            "domain": "opensource.org",
            "file": "background.bundle.js",
            "url": "http://www.opensource.org/licenses/mit-license"
        },
        {
            "domain": "mths.be",
            "file": "background.bundle.js",
            "url": "https://mths.be/punycode"
        },
        {
            "domain": "cdn.ravenjs.com",
            "file": "background.bundle.js",
            "url": "https://cdn.ravenjs.com/3.26.4/raven.min.js"
        },
        {
            "domain": "w3.org",
            "file": "searchEngineContent.bundle.js",
            "url": "http://www.w3.org/2000/svg"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "searchEngineContent.bundle.js",
            "url": "https://www.giveasyoulive.com/api/v1/"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "searchEngineContent.bundle.js",
            "url": "https://www.giveasyoulive.com/api/v2/"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "searchEngineContent.bundle.js",
            "url": "https://www.giveasyoulive.com"
        },
        {
            "domain": "help.giveasyoulive.com",
            "file": "searchEngineContent.bundle.js",
            "url": "https://help.giveasyoulive.com/hc/en-us/articles/360017448352-New-Chrome-update-Donation-Reminder"
        },
        {
            "domain": "r1.dotmailer-surveys.com",
            "file": "searchEngineContent.bundle.js",
            "url": "https://r1.dotmailer-surveys.com/7e21zb6c-623a1ufe"
        },
        {
            "domain": "w3.org",
            "file": "popup.bundle.js",
            "url": "http://www.w3.org/2000/svg"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "popup.bundle.js",
            "url": "https://www.giveasyoulive.com/api/v1/"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "popup.bundle.js",
            "url": "https://www.giveasyoulive.com/api/v2/"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "popup.bundle.js",
            "url": "https://www.giveasyoulive.com"
        },
        {
            "domain": "help.giveasyoulive.com",
            "file": "popup.bundle.js",
            "url": "https://help.giveasyoulive.com/hc/en-us/articles/360017448352-New-Chrome-update-Donation-Reminder"
        },
        {
            "domain": "r1.dotmailer-surveys.com",
            "file": "popup.bundle.js",
            "url": "https://r1.dotmailer-surveys.com/7e21zb6c-623a1ufe"
        },
        {
            "domain": "medialize.github.io",
            "file": "popup.bundle.js",
            "url": "http://medialize.github.io/URI.js/"
        },
        {
            "domain": "opensource.org",
            "file": "popup.bundle.js",
            "url": "http://www.opensource.org/licenses/mit-license"
        },
        {
            "domain": "mths.be",
            "file": "popup.bundle.js",
            "url": "https://mths.be/punycode"
        },
        {
            "domain": "facebook.com",
            "file": "popup.bundle.js",
            "url": "https://facebook.com/sharer/sharer.php"
        },
        {
            "domain": "instagram.com",
            "file": "popup.bundle.js",
            "url": "https://instagram.com"
        },
        {
            "domain": "twitter.com",
            "file": "popup.bundle.js",
            "url": "https://twitter.com/intent/tweet"
        },
        {
            "domain": "w3.org",
            "file": "retailerContent.bundle.js",
            "url": "http://www.w3.org/2000/svg"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "retailerContent.bundle.js",
            "url": "https://www.giveasyoulive.com/api/v1/"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "retailerContent.bundle.js",
            "url": "https://www.giveasyoulive.com/api/v2/"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "retailerContent.bundle.js",
            "url": "https://www.giveasyoulive.com"
        },
        {
            "domain": "help.giveasyoulive.com",
            "file": "retailerContent.bundle.js",
            "url": "https://help.giveasyoulive.com/hc/en-us/articles/360017448352-New-Chrome-update-Donation-Reminder"
        },
        {
            "domain": "r1.dotmailer-surveys.com",
            "file": "retailerContent.bundle.js",
            "url": "https://r1.dotmailer-surveys.com/7e21zb6c-623a1ufe"
        },
        {
            "domain": "w3.org",
            "file": "views/popup.html",
            "url": "http://www.w3.org/2000/svg"
        },
        {
            "domain": "clients2.google.com",
            "file": "manifest.json",
            "url": "https://clients2.google.com/service/update2/crx"
        },
        {
            "domain": "giveasyoulive.com",
            "file": "manifest.json",
            "url": "https://www.giveasyoulive.com"
        },
        {
            "domain": "cdn.ravenjs.com",
            "file": "manifest.json",
            "url": "https://cdn.ravenjs.com"
        }
    ],
    "version": "6.0.15.0"
}