class ScorecardData extends React.Component{constructor(e){super(e);const t=e.info.commentsCount;this.state={comments:void 0!==t?{count:t}:{loading:!0}}}componentDidMount(){var e=this.props;const t=e.info,a=e.updateCommentsCount;void 0===t.commentsCount&&WotApi.commentsCount(t.host).then(e=>{const o=e&&e[t.host]&&e[t.host].count||0;a(t.host,o),this.setState({comments:{count:o}})})}render(){const e=this.props.info,t=e.rating,a=e.confidence,o=e.commentsCount,c=e.host,s=`${GET_FAVICON_PREFIX}${c}`;const n=getRatingStarsAndColor(t,a).stars,r=void 0!==o?{count:o}:this.state.comments;return React.createElement("div",{className:"scorecard-data"},React.createElement("div",{className:"scorecard-data__target"},React.createElement("div",{className:"scorecard-data__target-container"},React.createElement("img",{src:s,alt:""})),React.createElement("div",{className:"scorecard-data__target-name",title:c},c)),React.createElement("div",{className:"scorecard-data__reviews"},React.createElement("div",{className:"scorecard-data__reviews-score"},((t||0)/20).toFixed(1)),React.createElement("div",{className:"scorecard-data__reviews-stars"},n),React.createElement("div",{className:"scorecard-data__reviews-separator"}),React.createElement("div",{className:"scorecard-data__reviews-number",onClick:()=>goToPage(`${MYWOT_SCORECARD}${c}`)},r.loading?React.createElement(LottieAnimation,{animationName:"popup-reviews-count.json"}):r.count>0?`${r.count.toLocaleString()} ${translate("reviews")}`:translate("noReviewsYet"))))}}function mapStateToProps(e){return{ratings:e.ratings}}function mapDispatchToProps(e){return{updateCommentsCount:(t,a)=>{e(setCommentsCount(t,a))}}}ScorecardData.propTypes={info:React.PropTypes.object.isRequired},ScorecardData=ReactRedux.connect(mapStateToProps,mapDispatchToProps)(ScorecardData);