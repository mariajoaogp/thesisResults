class SliderReviews extends React.Component{constructor(e){super(e),this.clickTypes=["rateStars","firstReviewButton","readMoreReviews"],this.avatarColors=scrambleAvatarColors(),this.seeAllReviews=this.seeAllReviews.bind(this)}getUserReview(){var e=this.props.store.getState();const t=e.user,s=e.reviews;if(!t.uid)return null;const a=s[t.uid]&&s[t.uid][this.props.info.host];return a&&-1!==a.rating?{name:t.name,picture:t.picture,comment:a.comment,rating:a.rating,uid:t.uid,timestamp:a.timestamp}:null}addMyReview(e){GA(GA_MAIN_CATEGORY,this.clickTypes[e]);const t=this.props.store.getState().user.uid,s=document.querySelectorAll(".reputation__star.selected");return t&&this.props.store.dispatch(newReview(t,this.props.info.host,s.length)),s.forEach(e=>e.classList.remove("selected")),parent.postMessage({type:OPEN_ADD_REVIEW},"*")}seeAllReviews(e){const t={utm_source:e};GA(GA_MAIN_CATEGORY,e),webextApi.runtime.sendMessage({name:OPEN_TAB_MESSAGE,url:buildUrl(SCORECARD_PAGE_URL+this.props.info.host,t)})}render(){const e=this.props.info,t=e.host[0].toUpperCase()+e.host.slice(1);var s=e.comments;const a=s.count,r=s.data,i=r&&this.getUserReview(),c=translate("shareExperience").split("%1%");return React.createElement("div",{className:"slider-reviews-container"},i?React.createElement("div",{className:"reviews-top-rect"},React.createElement(SliderSingleReview,{host:e.host,store:this.props.store,avatarStyle:this.avatarColors[0],review:i,index:0})):React.createElement("div",{className:"reviews-top-rect"},React.createElement("div",{className:"top-rect-title"},c[0],React.createElement("span",null,t),c[1]),e.rating?React.createElement("div",{className:"top-rect-action-wrapper"},React.createElement("div",{className:"slider-domain-logo"},React.createElement("img",{src:e.faviconUrl,alt:t[0]})),React.createElement("div",{className:"top-rect-action rate-stars",onClick:()=>this.addMyReview(0)},getRatingStarsAndColor(null).stars)):React.createElement("div",{className:"top-rect-action-wrapper no-rating"},React.createElement("div",{className:"top-rect-action"},React.createElement("div",{className:"write-review-button",onClick:()=>this.addMyReview(1)},React.createElement("div",{className:"write-review-icon"}),translate("writeReview"))))),React.createElement("div",{className:"reviews-title"},translate("reviews")),r&&r.length?r.slice(0,10).map((t,s)=>React.createElement(SliderSingleReview,{host:e.host,store:this.props.store,avatarStyle:this.avatarColors[s%5],review:t,index:s+1})):React.createElement("div",{className:"no-reviews"},React.createElement(LottieAnimation,{className:"review-lady",animationName:"review-lady.json"}),React.createElement("div",{className:"no-reviews-text"},translate("writeFirstReview"))),a>10&&React.createElement("div",{className:"reviews-read-more",onClick:()=>this.seeAllReviews(this.clickTypes[2])},translate("readMoreReviews").replace("%1%",(a-10).toLocaleString())))}}