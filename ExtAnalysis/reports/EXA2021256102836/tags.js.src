var _extends=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var e=arguments[s];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t};class TagsComponent extends React.Component{constructor(t){super(t),this.onTagChanged=this.onTagChanged.bind(this),this.showAllTags=this.showAllTags.bind(this),this.toggleLastPage=this.toggleLastPage.bind(this),this.setDisabledArrows=this.setDisabledArrows.bind(this),this.onScrolling=this.onScrolling.bind(this),this.tagsListContainer=null,this.state={showAll:this.props.tags.some(t=>t.isExtra&&t.selected),rightArrowDisabled:!1,leftArrowDisabled:!1}}componentWillReceiveProps(t){this.props&&this.props.type!==t.type&&this.setState({showAll:t.tags.some(t=>t.isExtra&&t.selected)})}onScrolling(){this.setState(this.setDisabledArrows())}scroll(t){var s=this.state;const e=s.leftArrowDisabled,a=s.rightArrowDisabled;if(t&&a||e&&!t)return;const i=t?250:-250;this.tagsListContainer.scrollLeft+=i,this.onScrolling()}onTagChanged(t){this.props.onTagChanged(t.name)}showAllTags(t){t.stopPropagation(),this.setState(_extends({showAll:!0},this.setDisabledArrows()))}setDisabledArrows(){if(!this.tagsListContainer)return;var t=this.tagsListContainer;const s=t.scrollLeft,e=t.scrollWidth,a=t.offsetWidth;return{leftArrowDisabled:s<10,rightArrowDisabled:s&&s+a+10>=e}}toggleLastPage(){const t=this.state.lastPage;this.setState({lastPage:!t})}render(){var t=this.props;const s=t.showAllWidth,e=t.tags;var a=this.state;const i=a.showAll,l=a.leftArrowDisabled,r=a.rightArrowDisabled,o=e.filter(t=>i||!t.isExtra),n=i&&"inherit"!==s;return React.createElement("div",{className:"wot-add-review-tags-wrapper"},n&&React.createElement("div",{className:"wot-tags-navigation-arrow wot-left  wot-show-all-tags"},React.createElement("div",{className:l?"disabled":"",onClick:()=>this.scroll(0)})),React.createElement("div",{ref:t=>this.tagsListContainer=t,className:"wot-add-review-tags-container"+(n?" wot-show-all-tags":""),onScroll:this.onScrolling},i&&React.createElement("div",{className:"wot-scrollbar-overlay"}),React.createElement("div",{className:"wot-add-review-tags-list"+(n?" wot-show-all-tags":""),style:{width:n?s:"inherit"}},o.map(t=>React.createElement("div",{className:"wot-tag "+(t.selected?"selected":""),onClick:()=>this.onTagChanged(t)},translate(t.name))),!i&&React.createElement("div",{className:"wot-tag view-all",onClick:this.showAllTags},translate("viewAll")))),n&&React.createElement("div",{className:"wot-tags-navigation-arrow wot-right wot-show-all-tags"},React.createElement("div",{className:r?"disabled":"",onClick:()=>this.scroll(1)})))}}