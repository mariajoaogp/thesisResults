var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};const getCurrentTab=()=>new Promise(e=>{try{webextApi.tabs.query({active:!0,currentWindow:!0},t=>{if(!t)return e({});const r=t[0];e(r||{})})}catch(t){e({})}}),addCategoryDescription=e=>{try{const t=IDS_TO_WOT_TAGS[e.id];return t?_extends({},e,{description:t}):null}catch(e){return null}},shouldOverrideCompletely=e=>{if(null===e)return!0;const t=typeof e;return!!["number","boolean","string","undefined"].includes(t)||"object"===t&&!Object.keys(e).length},mergeState=(e,t)=>{if(!e)return t;const r=Object.keys(t);for(const n of r){const r=e[n];if(!(null!=r))continue;const o=t[n];shouldOverrideCompletely(o)?t[n]=r:Array.isArray(o)&&Array.isArray(r)?t[n]=r:"object"==typeof o&&"object"==typeof r&&(t[n]=mergeState(e[n],t[n]))}return t};