var _window=window;const localStorage=_window.localStorage;class _DefaultState{getDefaultStateObject(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.state&&!e||(this.state={portName:"4873",lastAction:{type:"init"},api:this.getApi(),rtApi:this.getRtApi(),common:{[atob("dg==")]:1,[atob("dGlk")]:"opera"===browserName?atob("VUEtMjQxMjQxMi0xOQ=="):atob("VUEtMjQxMjQxMi0xNQ=="),[atob("Y2lk")]:this.Y2lk(),[atob("dA==")]:atob("ZXZlbnQ=")},retentionEvent:this.retentionEvent(),installEventFired:!1,firstRunDate:null,wotTraceId:this.makeWotTraceId(),tabs:{},experimentalFeature:{},whitelist:[],phishingWhitelist:[],templist:[],ratings:{},comments:{loading:!0},reviews:{1:{}},user:{},serps:[],settings:{protection:this.settingsProtection(),optoutPopup:"default",parental:!0,gambling:!1,parentalExtraIcon:!0,shields:{all:this.settingsShields()},warnings:this.settingsWarning(),assistant:null,assistantHandleTop:0,assistantExpanded:!1,upgradePopUp:{show:!1,numberOfShow:0,firstOfferingDate:null},blockPopUpNotification:!0,blockPopUp:!0,phishing:!0},rateUsWidget:{popupOpeningCounter:0,offRateWidget:!1,offRateTime:""},mobileModal:{mobileModalTrigger:!1,mobileModalRateCount:0},onboarding:{step:0},cta:{status:"",appearance:0},survey:{installDate:null,isShowed:!1,prevVersion:"0.0.0"},version:{isFirstTimeUser:!0,versionNumber:"",showWhatsNew:!1},trackerBlockerData:{list:{},allowList:{},allBlocked:!1,history:[],historyMaxLength:100,reload:!0,reloadAllowList:!0},focusedReview:{target:"",comment:"",uid:0,safety:0,tags:[]},reminders:this.getInitialReminders(),remoteConfig:{meta:{refreshIntervalHours:.5,isDefaultConfig:!0},features:{}}}),this.state}getApi(){const e={key:JSON.parse(localStorage.getItem("witness_key")),id:JSON.parse(localStorage.getItem("witness_id"))};return e.key&&e.id?e:{key:"",id:""}}getRtApi(){const e={key:JSON.parse(localStorage.getItem("rt_witness_key")),id:JSON.parse(localStorage.getItem("rt_witness_id"))};return e.key&&e.id?e:{key:"",id:""}}getProtectedTime(){const e=JSON.parse(localStorage.getItem("firstrun:time"));return e?new Date(e)/1:Date.now()}getInitialReminders(){return{[REMINDER_TYPES.GMAIL_PROTECTION]:void 0,[REMINDER_TYPES.RATE_US_SLIDER]:this.getProtectedTime()+ONE_MONTH}}Y2lk(){return generateUuidV4()}retentionEvent(){let e=localStorage.getItem("retention_event_data");e=!!e&&JSON.parse(e);return{sentDays:e?e.sentDays:{},completed:e&&!0===e.completed}}settingsParental(){return!!JSON.parse(localStorage.getItem("settingsui_parental"))}settingsProtection(){const e=localStorage.getItem("settingsui_dynamicprotect")&&!JSON.parse(localStorage.getItem("settingsui_dynamicprotect")),t=JSON.parse(localStorage.getItem("rtp_has_user_selected"));return!e||"firefox"===browserName&&!t}settingsShields(){if(!localStorage.getItem("settingsui_searchlevel"))return SHIELDS_LEVEL_HIGH;const e=JSON.parse(localStorage.getItem("settingsui_searchlevel"));return{off:SHIELDS_LEVEL_OFF,bad:SHIELDS_LEVEL_NORMAL,normal:SHIELDS_LEVEL_HIGH}[e]||SHIELDS_LEVEL_HIGH}settingsWarning(){if(!localStorage.getItem("settingsui_warnlevel"))return WARNINGS_LEVEL_HIGH;const e=JSON.parse(localStorage.getItem("settingsui_warnlevel"));return{normal:WARNINGS_LEVEL_HIGH,light:WARNINGS_LEVEL_NORMAL,off:WARNINGS_LEVEL_OFF}[e]||WARNINGS_LEVEL_HIGH}makeWotTraceId(){return"ex-"+[makeid(8),makeid(4),makeid(4),makeid(4),makeid(12)].join("-")}}const DefaultState=new _DefaultState;