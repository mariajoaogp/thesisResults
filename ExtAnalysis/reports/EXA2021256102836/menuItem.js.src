var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e};class MenuItem extends React.Component{constructor(e){super(e),this.state={isHovering:!1}}unlock(e){GA("Main menu",e,"unlock"),webextApi.runtime.sendMessage({name:OPEN_TAB_MESSAGE,url:`${APP_MYWOT+UPGRADE}&utm_source=Hook_Menu_out&feature=${e}`})}render(){var e=this.props;const t=e.store,i=e.item,s=e.isShieldsOn,n=e.isLiveBlockingOn;var a=t.getState();const m=a.user,c=a.settings,r=a.dispatch,o=_extends({},c,{shields:s,liveBlocking:n}),l=!(!m||!m.isPremiumUser),u=!!o[i.field]&&(!i.isPremium||i.isPremium&&l),g=i.isPremium&&!l,p=translate(i.title),d=translate("unlock"),v=()=>{if(i.isPremium&&!l)return;const e=u?i.actionOff:i.actionOn;GA("Main menu",i.title,u?"OFF":"ON"),this.setState({isHovering:!1}),t.dispatch(e())};return React.createElement("div",{onClick:()=>v(),className:`menu-item-container${!o[i.field]||g?" disabled":""}${i.isPremium&&!l?" premium":""}`},i.isPremium&&React.createElement(SvgIcon,{className:"menu-premium-feature",svg:l?u?"premium-feature-icon":"premium-feature-grey-icon":"premium-feature"}),React.createElement("div",{className:"item-content",onMouseEnter:()=>this.setState({isHovering:!0}),onMouseLeave:()=>this.setState({isHovering:!1})},React.createElement("div",{className:"menu-item-top"},React.createElement(SvgComponent,{className:"menu-item-icon",svg:this.props.item.icon,id:this.props.item.icon}),React.createElement("div",{className:"menu-item-top-right"},React.createElement("div",{className:"menu-item-toggle"},React.createElement(ToggleSwitch,{animate:this.state.isHovering,simpleToggle:!0,className:"green small",dispatch:r,checked:u,disabled:g,animationPath:"toggle-switch.json"})))),React.createElement("div",{className:"menu-item-title",title:"en-US"!==getLocale()?p:""},p)),i.isPremium&&!l&&React.createElement("div",{className:"unlock-btn",onClick:()=>this.unlock(i.title),style:{"font-size":d.length>6?"12px":"14px"}},React.createElement(SvgIcon,{svg:"premium-icon-white",className:"premium-icon"}),d))}}function mapStateToProps(e){return{settings:e.settings,isShieldsOn:e.settings.shields.all!==SHIELDS_LEVEL_OFF,isLiveBlockingOn:e.settings.warnings!==WARNINGS_LEVEL_OFF}}MenuItem=ReactRedux.connect(mapStateToProps)(MenuItem);