class WhiteList extends React.Component{constructor(e){super(e),this.inputField=null}onFocus(){this.inputField.style.border="solid 1px #6cb720",this.inputField.style.color="black"}onBlur(){this.inputField.style.border="solid 1px #d8d8d8",this.inputField.style.color="black"}onInputChange(){this.inputField.style.border="solid 1px #6cb720",this.inputField.style.color="black"}addToWhitelist(e){let t;e.preventDefault();let i=this.inputField.value.trim();return i&&-1!==i.indexOf(".")&&-1===i.indexOf("@")&&(SUPPORTED_PROTOCOLS.exec(i)||0===i.indexOf("http")||(i="http://"+i),SUPPORTED_PROTOCOLS.exec(i)&&VALID_URL_WITHOUT_PROTOCOL.test(i)&&(t=getEncodedDomain(i),t))?(this.props.dispatch(this.props.isPhishingWL?addToPhishingWhitelist([t]):addToWhitelist(t)),this.inputField.value="",!0):(this.inputField.style.border="solid 1px #ef4035",this.inputField.style.color="#ef4035",!1)}removeFromList(e){if(this.props.isPhishingWL)return this.props.dispatch(removeFromPhishingWhitelist([e]));this.props.dispatch(removeFromWhitelist(e))}render(){var e=this.props;const t=e.whitelist,i=e.settings,s=e.isPhishingWL;return React.createElement("div",{className:"options__container__whitelist "+(s?" subItem":"")},React.createElement("div",{className:"options__container__whitelist__header"},webextApi.i18n.getMessage(s?"gmailProtectionWLDescription":"whitelistTitle")),React.createElement("form",null,React.createElement("input",{ref:e=>{this.inputField=e},type:"text",id:"wl_site",disabled:!i.protection,onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),onChange:this.onInputChange.bind(this),placeholder:webextApi.i18n.getMessage(s?"gmailProtectionWLPlaceHolder":"whitelistPlaceholder")}),React.createElement("button",{disabled:!i.protection,id:"wl_add",onClick:this.addToWhitelist.bind(this)},webextApi.i18n.getMessage("add"))),0!==t.length?t.map(e=>{const t={backgroundImage:`url(http://www.google.com/s2/favicons?domain=${e})`};return React.createElement("div",{className:"options__container__whitelist__item"},React.createElement("div",{className:"options__container__whitelist__item__icon",style:t}),React.createElement("span",null,e),React.createElement("div",{className:"options__container__whitelist__item__close",onClick:()=>{GA("Settings","Delete Site from Whitelist",e),i.protection&&this.removeFromList(e)}},"âœ–"))}):React.createElement("div",{className:"options__container__whitelist__empty"},React.createElement("span",null,webextApi.i18n.getMessage("empty"))))}}